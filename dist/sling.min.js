new function(e){const t=e.setTimeout,n=e.setInterval;Sling=s=function(){},s.version="2.0.4",s.detachedSetTimeout=t.bind(e),s.detachedSetInterval=n.bind(e),s.CHANGE_STRATEGY_AUTOMATIC=100,s.CHANGE_STRATEGY_MANUAL=200,s.CHANGE_DETECTOR_DETACHED=!1,s.CHANGE_DETECTOR_ATTACHED=!0,s.changeStrategies=[s.CHANGE_STRATEGY_AUTOMATIC,s.CHANGE_STRATEGY_MANUAL];let o={},r=[],a=new Map,i={segmentArr:[],routeMap:new Map,params:null},l={lastUpdateDate:new Date,changeDetectionStrategy:s.CHANGE_STRATEGY_AUTOMATIC};Object.freeze(i),Object.freeze(l);const c=({tagName:e,attrs:t,children:n})=>{let o,r=document.createElement(e);for(let[e,n]of Object.entries(t))"function"===(o=typeof n)?r[e]=n:r.setAttribute(e,n);for(let e of n){let t=d(e);r.appendChild(t)}return r},u=(e,t)=>{let n=[];(e=Array.from(e)).forEach((e,o)=>{n.push(p(e,t[o]))});let o=[];for(let n of t.slice(e.length))"string"==typeof n?o.push(e=>(e.textContent!==n&&(e.textContent=n),e)):o.push(e=>(e.appendChild(d(n)),e));return e=>{for(let[t,o]of((e,t)=>{let n=[];for(let o=0;o<Math.max(e.length,t.length);++o)n.push([e[o],t[o]]);return n})(n,e.childNodes))t&&t(o);for(let t of o)t(e);return l.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&E(e),e}},p=(e,t)=>{if(!t)return e=>{e.remove()};if("string"==typeof e||"string"==typeof t)return e!==t?e=>{let n=d(t);return e.replaceWith(n),n}:e=>void 0;if(t.attrs.slUseExisting)return e=>e;let n=((e,t)=>{let n,o=[];for(let n of e)t[n.name]||o.push(e=>(e.setAttribute(n.name,""),e));for(let[e,r]of Object.entries(t))"function"===(n=typeof r)?o.push(t=>(t[e]=r,t)):o.push(t=>(t.setAttribute(e,r),t));for(let n in e)n in t||o.push(e=>(e.removeAttribute(n),e));return e=>{for(let t of o)t(e)}})(e.attributes,t.attrs),o=u(e.children,t.children);return e=>(n(e),o(e),e)},d=e=>"string"==typeof e?document.createTextNode(e):c(e),h=()=>{let t=e.location.href.split("#")[1];if(i.segmentArr.splice(0,i.segmentArr.length),t){t.split("/").forEach(e=>{i.segmentArr.push(e)})}},g=(e,t,n)=>{let o=e.id,r=(e=>(e.slOnInit&&e.slOnInit(),"string"==typeof(e=e.view())?document.createTextNode(e):c(e)))(t);if(n&&a.set(e.id,t),e.replaceWith(r),e.id!==o&&(console.warn('Mounted component root element ID set to: "'+o+'"'),e.id=o),t.slAfterInit){let e=setInterval(()=>{t.slAfterInit(),y(),clearInterval(e)},0)}return r};s.setState=e=>{o=e},s.getState=()=>o,s.textNode=e=>String(e),s.markup=(e,{attrs:t={},children:n=[]}={})=>({tagName:e=e.toUpperCase(),attrs:t,children:n}),s.mount=(e,t,n=!0)=>{let o=e,r=document.getElementById(e);if(null!==r)return g(r,t,n);throw"Element ID '"+o+"' is invalid."},s.update=(e,t)=>{e=document.getElementById(e);let n=t.view.bind(t)();e=p(e,n)(e)},s.getRouteSegments=()=>i.segmentArr,s.getRouteParams=()=>i.params,s.getRoute=()=>e.location.href.split("#")[1],s.addRoute=function(e,t){i.routeMap.set(new RegExp("^"+e.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),t)},s.route=function(t,n={}){i.params=n;let o=null;return i.routeMap.forEach((n,a)=>{if(a.test(t)){if(n.authGuard&&!n.authGuard(a))return n.authFail&&(o=s.route(n.authFail.route,n.authFail.params)),void(t=void 0);r.forEach(e=>{e()}),r=[],e.location.hash=t,h();let i=document.getElementById(n.root);n.component&&(g(i,n.component),n.component.slOnDestroy&&r.push(n.component.slOnDestroy),o=n.component)}}),l.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&y(),o},s.setDetectionStrategy=function(e){s.changeStrategies.forEach(t=>{t[1]===e&&(l.changeDetectionStrategy=e)})},s.detectChanges=()=>{A()},s.isDetectorAttached=e=>a.has(e),s.detachDetector=e=>{a.delete(e)},h();let f=e.onpopstate;e.onpopstate=function(e){f&&f(e),s.route(s.getRoute())};const m=(e,t)=>{if(t[e]){let n=t[e];t[e]=function(){let e=n.apply(this,[].slice.call(arguments));return y(),e}}};const A=()=>{a.forEach((e,t)=>{s.update(t,e)})},T=function(e,n){let o;return function(...r){const a=this;clearTimeout(o),o=t(()=>e.apply(a,r),n)}}(A,17),y=()=>{if(l.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC)return;new Date-l.lastUpdateDate>17?A():T(),l.lastUpdateDate=new Date},E=e=>{["setTimeout","setInterval","onafterprint","onbeforeprint","onbeforeunload","onerror","onhashchange","onload","onmessage","onoffline","ononline","onpagehide","onpageshow","onpopstate","onresize","onstorage","onunload","onblur","onchange","oncontextmenu","onfocus","oninput","oninvalid","onreset","onsearch","onselect","onsubmit","onkeydown","onkeypress","onkeyup","onclick","ondblclick","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onwheel","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onscroll","oncopy","oncut","onpaste","onabort","oncanplay","oncanplaythrough","oncuechange","ondurationchange","onemptied","onended","onloadeddata","onloadedmetadata","onloadstart","onpause","onplay","onplaying","onprogress","onratechange","onseeked","onseeking","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting","ontoggle"].forEach(t=>{m(t,e)})};var C=e.XMLHttpRequest.prototype.send;function D(){if(this._onreadystatechange){let e=this._onreadystatechange.apply(this,arguments);return y(),e}}e.XMLHttpRequest.prototype.send=function(e){return this.onreadystatechange&&(this._onreadystatechange=this.onreadystatechange),this.onreadystatechange=D,C.apply(this,arguments)};const S=e.fetch;e.fetch=function(){let e=S.apply(global,arguments);return y(),e},E(e)}(this);