let modInit=!1;if(!window.s){modInit=!0,window.s=function(){},s.VERSION="3.1.3";const t=window.setTimeout,e=window.setInterval;s.detachedSetTimeout=t.bind(window),s.detachedSetInterval=e.bind(window),s._state={},s._destroyFuncArr=[],s._updateMap=new Map}const renderElement=({tagName:t,attrs:e,children:n})=>{let r,o=document.createElement(t);for(let[t,n]of Object.entries(e))"function"===(r=typeof n)?o[t]=n:o.setAttribute(t,n);for(let t of n){let e=renderMarkup(t);o.appendChild(e)}return o},unifyChanges=(t,e)=>{let n=[];for(let r=0;r<Math.max(t.length,e.length);++r)n.push([t[r],e[r]]);return n},diffVAttrs=(t,e)=>{let n,r=[];for(let n of t)e[n.name]||r.push(t=>(t.setAttribute(n.name,n.value),t));for(let[t,o]of Object.entries(e))"function"===(n=typeof o)?r.push(e=>(e[t]=o,e)):r.push(e=>(e.setAttribute(t,o),e));for(let n of t)n in e||r.push(t=>(t.removeAttribute(n),t));return t=>{for(let e of r)e(t)}},diffVChildren=(t,e)=>{let n=[];(t=Array.from(t)).forEach((t,r)=>{n.push(diffVDom(t,e[r]))});let r=[];for(let n of e.slice(t.length))"string"==typeof n?r.push(t=>(t.textContent!==n&&(t.textContent=n),t)):r.push(t=>(t.appendChild(renderMarkup(n)),t));return t=>{for(let[e,r]of unifyChanges(n,t.childNodes))e&&e(r);for(let e of r)e(t);return s._cdr&&s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&s._proxyAllEvents(t),t}},diffVDom=(t,e)=>{if(!e)return t=>{t.remove()};if("string"==typeof t||"string"==typeof e)return t!==e?t=>{let n=renderMarkup(e);return t.replaceWith(n),n}:t=>void 0;if(e.attrs.slUseExisting)return t=>t;let n=diffVAttrs(t.attributes,e.attrs),r=diffVChildren(t.children,e.children);return t=>(n(t),r(t),t)},renderMarkup=t=>{if("string"==typeof t){const e=document.createElement("SPAN");return e.innerText=t,e}return renderElement(t)},render=t=>{if(t.slOnInit&&t.slOnInit(),"string"==typeof(t=t.view())){const e=document.createElement("SPAN");return e.innerText=t,e}return renderElement(t)},_mountInternal=(t,e,n)=>{let r=t.id,o=render(e);if(n&&s._updateMap.set(t.id,e),t.replaceWith(o),t.id!==r&&(console.warn('Mounted component root element ID set to: "'+r+'"'),t.id=r),e.slAfterInit){let t=setInterval(()=>{e.slAfterInit(),s._performChangeDetection(),clearInterval(t)},0)}return o};modInit&&(s._mountInternal=_mountInternal);export function setState(t){s._state=t}export function getState(){return s._state}export function textNode(t){return String(t)}export function markup(t,{attrs:e={},children:n=[]}={}){return{tagName:t=t.toUpperCase(),attrs:e,children:n}}export function mount(t,e,n=!0){let r=t,o=document.getElementById(t);if(null!==o)return _mountInternal(o,e,n);throw"Element ID '"+r+"' is invalid."}export function update(t,e){t=document.getElementById(t);let n=e.view.bind(e)();t=diffVDom(t,n)(t)}if(modInit&&(s._update=update),modInit){let t=window.onpopstate;window.onpopstate=function(e){t&&t(e),s._route(s._getRoute())}}