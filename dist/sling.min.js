new function(e){const t=e.setTimeout;e.setInterval;Sling=s=function(){},s.version="2.0.0",s.changeDetectorParams={CHANGE_STRATEGY_AUTOMATIC:100,CHANGE_STRATEGY_MANUAL:200},Object.seal(s.changeDetectorParams);let n={},o=[],r=new Map,a={segmentArr:[],routeMap:new Map,params:null},l={changeDetectionStrategy:s.changeDetectorParams.CHANGE_STRATEGY_AUTOMATIC};Object.freeze(a),Object.freeze(l);const c=({tagName:e,attrs:t,children:n})=>{let o,r=document.createElement(e);for(let[e,n]of Object.entries(t))"function"===(o=typeof n)?r[e]=n:r.setAttribute(e,n);for(let e of n){let t=p(e);r.appendChild(t)}return r},i=(e,t)=>{let n=[];(e=Array.from(e)).forEach((e,o)=>{n.push(u(e,t[o]))});let o=[];for(let n of t.slice(e.length))"string"!=typeof n&&o.push(e=>(e.appendChild(p(n)),e));return e=>{for(let[t,o]of((e,t)=>{let n=[];for(let o=0;o<Math.max(e.length,t.length);++o)n.push([e[o],t[o]]);return n})(n,e.childNodes))t&&t(o);for(let t of o)t(e);return l.changeDetectionStrategy===s.changeDetectorParams.CHANGE_STRATEGY_AUTOMATIC&&A(e),e}},u=(e,t)=>{if(!t)return e=>{e.remove()};if("string"==typeof e||"string"==typeof t)return e!==t?e=>{let n=p(t);return e.replaceWith(n),n}:e=>void 0;let n=((e,t)=>{let n,o=[];for(let[e,r]of Object.entries(t))"function"===(n=typeof r)?o.push(t=>(t[e]=r,t)):o.push(t=>(t.setAttribute(e,r),t));for(let n in e)n in t||o.push(e=>(e.removeAttribute(n),e));return e=>{for(let t of o)t(e)}})(e.attrs,t.attrs),o=i(e.children,t.children);return e=>(n(e),o(e),e)},p=e=>"string"==typeof e?document.createTextNode(e):c(e),h=()=>{let t=e.location.href.split("#")[1];if(a.segmentArr.splice(0,a.segmentArr.length),t){t.split("/").forEach(e=>{a.segmentArr.push(e)})}},g=(e,t)=>{let n=(e=>(e.slOnInit&&e.slOnInit(),"string"==typeof(e=e.view())?document.createTextNode(e):c(e)))(t);if(r.set(e.id,t),e.replaceWith(n),t.slAfterInit){let e=setInterval(()=>{t.slAfterInit(),clearInterval(e)},0)}return n};s.setState=e=>{n=e},s.getState=()=>n,s.textNode=e=>String(e),s.markup=(e,{attrs:t={},children:n=[]}={})=>({tagName:e=e.toUpperCase(),attrs:t,children:n}),s.mount=(e,t)=>{let n=e,o=document.getElementById(e);if(null!==o)return g(o,t);throw"Element ID '"+n+"' is invalid."},s.update=(e,t)=>{let n=e=document.getElementById(e),o=t.view.bind(t)();e=u(n,o)(e),n=o},s.getRouteSegments=()=>a.segmentArr,s.getRouteParams=()=>a.params,s.getRoute=()=>e.location.href.split("#")[1],s.addRoute=function(e,t){a.routeMap.set(new RegExp("^"+e.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),t)},s.route=function(t,n={}){a.params=n;let r=null;return a.routeMap.forEach((n,a)=>{if(a.test(t)){if(n.authGuard&&!n.authGuard(a))return n.authFail&&(r=s.route(n.authFail.route,n.authFail.params)),void(t=void 0);o.forEach(e=>{e()}),o=[],e.location.hash=t,h();let l=document.getElementById(n.root);n.component&&(g(l,n.component),n.component.slOnDestroy&&o.push(n.component.slOnDestroy),r=n.component)}}),l.changeDetectionStrategy===s.changeDetectorParams.CHANGE_STRATEGY_AUTOMATIC&&y(),r},s.setDetectionStrategy=function(e){Object.entries(s.changeDetectorParams).forEach(t=>{t[1]===e&&(l.changeDetectionStrategy=e)})},h();let d=e.onpopstate;e.onpopstate=function(e){d&&d(e),s.route(s.getRoute())};const f=(e,t)=>{if(t[e]){let n=t[e];t[e]=function(){let e=n.apply(this,[].slice.call(arguments));return y(),e}}};const m=function(e,n){let o;return function(...r){const a=this;clearTimeout(o),o=t(()=>e.apply(a,r),n)}}(()=>{r.forEach((e,t)=>{s.update(t,e)})},17),y=()=>{l.changeDetectionStrategy===s.changeDetectorParams.CHANGE_STRATEGY_AUTOMATIC&&m()},A=e=>{["setTimeout","setInterval","onafterprint","onbeforeprint","onbeforeunload","onerror","onhashchange","onload","onmessage","onoffline","ononline","onpagehide","onpageshow","onpopstate","onresize","onstorage","onunload","onblur","onchange","oncontextmenu","onfocus","oninput","oninvalid","onreset","onsearch","onselect","onsubmit","onkeydown","onkeypress","onkeyup","onclick","ondblclick","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onwheel","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onscroll","oncopy","oncut","onpaste","onabort","oncanplay","oncanplaythrough","oncuechange","ondurationchange","onemptied","onended","onloadeddata","onloadedmetadata","onloadstart","onpause","onplay","onplaying","onprogress","onratechange","onseeked","onseeking","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting","ontoggle"].forEach(t=>{f(t,e)})};var T=e.XMLHttpRequest.prototype.send;function T(e){return this.onreadystatechange&&(this._onreadystatechange=this.onreadystatechange),this.onreadystatechange=E,T.apply(this,arguments)}function E(){if(this._onreadystatechange){let e=this._onreadystatechange.apply(this,arguments);return y(),e}}e.XMLHttpRequest.prototype.send=T;const v=e.fetch;e.fetch=function(){let e=v.apply(global,arguments);return y(),e},A(e)}(this);