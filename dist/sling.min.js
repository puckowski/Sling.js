window.s=function(){};const t=window.setTimeout,e=window.setInterval;Object.defineProperty(s,"DETACHED_SET_TIMEOUT",{value:t.bind(window)}),Object.defineProperty(s,"DETACHED_SET_INTERVAL",{value:e.bind(window)}),s._state={},s._destroyFuncMap=new Map,s._updateMap=new Map,s._afterInitArr=[];const n=({tagName:t,attrs:e,children:o})=>{let r,a=document.createElement(t);for(let[t,n]of Object.entries(e))"function"===(r=typeof n)?(a[t]=n,s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&l(t,a)):a.setAttribute(t,n);for(let t of o)"string"==typeof t?a.append(t):a.appendChild(n(t));return a},o=(t,e,n)=>{let o;for(let o of e){let e=n[o.name];e?e.length===o.nodeValue.length&&e===o.nodeValue&&delete n[o.name]:t.removeAttribute(o.nodeName)}for(let[e,r]of Object.entries(n))"function"===(o=typeof r)?(t[e]=r,s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&l(e,t)):t.setAttribute(e,r)},r=(t,e,o)=>{let r=0;for(let t=e.length-1;t>=0;--t)a(e[t],o[t]),r++;for(let a of o.slice(e.length)){if("string"==typeof a)t.childNodes[r]?t.childNodes[r].textContent!==a&&(t.childNodes[r].textContent=a):t.append(a);else if("string"==typeof a)t.append(a);else{if(a.view){if(a.slOnInit&&a.slOnInit(),a.slOnDestroy){let t=s._destroyFuncMap.get(s._router.mountRoute);t||(t=[]),t.push(a.slOnDestroy.bind(a)),s._destroyFuncMap.set(s._router.mountRoute,t)}a.slAfterInit&&s._afterInitArr.push(a.slAfterInit.bind(a)),a=a.view.bind(a)()}t.appendChild(n(a))}r++}},a=(t,e)=>{if(e&&e.view){if(e.slOnInit&&e.slOnInit(),e.slOnDestroy){let t=s._destroyFuncMap.get(s._router.mountRoute);t||(t=[]),t.push(e.slOnDestroy.bind(e)),s._destroyFuncMap.set(s._router.mountRoute,t)}e.slAfterInit&&s._afterInitArr.push(e.slAfterInit.bind(e)),e=e.view.bind(e)()}if(e){if(t&&t.tagName!==e.tagName){if(!e.tagName)return t.replaceWith(e),void(t=e);{let n=document.createElement(e.tagName);t.parentNode.replaceChild(n,t),t=n}}"string"!=typeof e?e.attrs.slUseExisting||(e.attrs.slNoChanges?r(t,t.childNodes,e.children):(o(t,t.attributes,e.attrs),r(t,t.childNodes,e.children))):t.textContent!==e&&(t.textContent=e)}else t&&t.remove()},i=(t,e,n)=>{s._afterInitArr=[],e.slOnInit&&e.slOnInit();let o=e.view.bind(e)();if(!o.attrs||t&&t.id!==o.attrs.id){const e=o.attrs?o.attrs.id:"null";console.error("Mounted component root element changed from "+t.id+" to "+e)}return a(t,o),n&&s._updateMap.set(t.id,e),e.slAfterInit&&(e.slAfterInit(),f()),s._afterInitArr.forEach(t=>{t()}),t};export function version(){return"9.1.0"}export function resolveAll(t){return Promise.all(t.map(t=>t.then(t=>({result:t,status:"fulfilled",error:null}),t=>({result:null,error:t,status:"rejected"}))))}export function setState(t){s._state=t}export function getState(){return s._state}export function textNode(t){return String(t)}export function markup(t,{attrs:e={},children:n=[]}={}){return{tagName:t=t.toUpperCase(),attrs:e,children:n}}export function m(){return markup(arguments[0],arguments[1])}export function mount(t,e,n=!0){s._router.mountRoute=t;let o=document.getElementById(t);if(null!==o)return i(o,e,n);console.error('ID "'+t+'" does not exist in DOM.')}export function update(t,e){t=document.getElementById(t);let n=e.view.bind(e)();a(t,n)}let u=window.onpopstate;window.onpopstate=function(t){window.location.hash&&s._router.lastHash!==window.location.hash.substring(1)&&(u&&u(t),route(getRoute()))},s._router={segmentArr:[],routeList:[],params:null,lastHash:!1,currentRoute:null,mountRoute:""},Object.seal(s._router);const c=()=>{let t=window.location.href.split("#")[1];if(t){let e=t.split("/");e.forEach((t,e)=>{s._router.segmentArr[e]=t}),s._router.segmentArr.splice(e.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length)};export function getRouteSegments(){return s._router.segmentArr}export function getRouteParams(){return s._router.params}export function getRoute(){return window.location.href.split("#")[1]}export function addRoute(t,e){s._router.routeList.push([new RegExp("^"+t.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),e])}export function route(t,e={},n=!0){if(s._router.params=e,s._router.currentRoute&&s._router.currentRoute.onCanDeactivate&&!s._router.currentRoute.onCanDeactivate(t))return;let o=null;for(let[e,r]of s._router.routeList)if(e.test(t)){if(r.onActivationCheck&&!r.onActivationCheck(t))return r.onActivationFail&&(o=route(r.onActivationFail.route,r.onActivationFail.params,"boolean"!=typeof r.onActivationFail.attachDetector||r.onActivationFail.attachDetector)),void(t=void 0);r.onBeforeRoute&&r.onBeforeRoute();const e=s._destroyFuncMap.get(getRoute());e&&(e.forEach(t=>{t()}),s._destroyFuncMap.set(getRoute(),[])),s._router.lastHash=t,window.location.hash=t,c(),s._router.currentRoute=r;let a=document.getElementById(r.root);r.component&&(r.component.slOnDestroy&&s._destroyFuncMap.set(t,[r.component.slOnDestroy.bind(r.component)]),s._router.mountRoute=t,i(a,r.component,n),o=r.component)}return s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&f(),o}c(),s.CHANGE_STRATEGY_AUTOMATIC=100,s.CHANGE_STRATEGY_MANUAL=200,s.CHANGE_DETECTOR_DETACHED=!1,s.CHANGE_DETECTOR_ATTACHED=!0,s._changeStrategies=[s.CHANGE_STRATEGY_AUTOMATIC,s.CHANGE_STRATEGY_MANUAL],s._changeDetector={lastUpdateDate:new Date,changeDetectionStrategy:s.CHANGE_STRATEGY_AUTOMATIC},Object.seal(s._changeDetector),Object.freeze(s._changeStrategies);const l=(t,e)=>{if(e[t]){let n=e[t];e[t]=function(){let t=n.apply(this,[].slice.call(arguments));return f(),t}}};function d(t,e){let n;return function(...o){const r=this;clearTimeout(n),n=s.DETACHED_SET_TIMEOUT(()=>t.apply(r,o),e)}}const p=()=>{s._updateMap.forEach((t,e)=>{update(e,t)})},f=()=>{if(s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC)return;new Date-s._changeDetector.lastUpdateDate>17?p():s._debouncedPerformUpdates(),s._changeDetector.lastUpdateDate=new Date};export function setDetectionStrategy(t){s._changeStrategies.forEach(e=>{e===t&&(s._changeDetector.changeDetectionStrategy=t)})}export function detectChanges(){p()}export function isDetectorAttached(t){return s._updateMap.has(t)}export function detachDetector(t){s._updateMap.delete(t)}s._debouncedPerformUpdates=d(p,17);let h=window.XMLHttpRequest.prototype.send;function _(t){return this.onreadystatechange&&(this._onreadystatechange=this.onreadystatechange),this.onreadystatechange=g,h.apply(this,arguments)}function g(){if(this._onreadystatechange){let t=this._onreadystatechange.apply(this,arguments);return f(),t}}window.XMLHttpRequest.prototype.send=_;let A=window.fetch;window.fetch=function(){let t=A.apply(this,arguments);return f(),t},l("setTimeout",window),l("setInterval",window);