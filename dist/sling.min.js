const t="undefined"!=typeof window;var e=t?window:global;t||(e.setTimeout=()=>{},e.setInterval=()=>{},e.location={},e.location.href="",e.fetch=()=>{},e.XMLHttpRequest={},e.XMLHttpRequest.prototype={},e.XMLHttpRequest.prototype.send=()=>{}),e.s=function(){},s._state={},s._destroyFuncMap=new Map,s._updateMap=new Map,s._afterInitArr=[],s._destroyNodeMap=new Map,s._structureForMap=new Map,s._isAnimatingKeyed=null,s._scopedCssSet=new Set;const n=({tagName:t,attrs:e,children:r,model:o},l)=>{let i,a="<"+(t=t.toLowerCase()),c=null;for(let[t,n]of Object.entries(e))if(a+="function"===(i=typeof n)?" "+t+'=""':" "+t+'="'+n+'"',"slfor"===t){const t=n.split(":");if(t.length>=4){s._structureForMap.has(t[0])||s._structureForMap.set(t[0],N(null,o[t[2]]));const e=s._structureForMap.get(t[0]);c=F.bind(o,e,o[t[1]],o[t[3]])()}}else if("slfornamed"===t){const t=n.split(":");if(t.length>=4){let e,n,r,l;for(let s of Object.keys(o))(l=o[s]).slfor===t[2]?e=l:l.slfor===t[1]?r=l:l.slfor===t[3]&&(n=l);for(let s of O(o))(l=o[s]).slfor===t[2]?e=l:l.slfor===t[1]?r=l:l.slfor===t[3]&&(n=l);r=r.bind(o),s._structureForMap.has(t[0])||s._structureForMap.set(t[0],N(null,e));const i=s._structureForMap.get(t[0]);c=F.bind(o,i,r,n)()}}a+=">",null!==c&&c.forEach(t=>{a+=n(t,l)});for(let t of r)t.view?(t.slOnInit&&(t.slOnInit(),l.push(t)),t=t.view.bind(t)(),a+=n(t,l)):a+="string"==typeof t?t:n(t,l);return a+="</"+t+">"},r=(t,e)=>{const n=[];let s;for(n.push(t);n.length>0;)if((s=n.shift()).attrs&&(s.attrs.slfor||s.attrs.slfornamed)&&(s.model=e),s.children)for(let t=s.children.length-1;t>=0;--t)n.push(s.children[t])},o=t=>{const e=[];let n,r;for(e.push(t);e.length>0;)if(3!==(n=e.shift()).nodeType&&(n.hasAttribute("slfor")?(r=(r=n.getAttribute("slfor")).split(":")).length>0&&s._structureForMap.delete(r[0]):n.hasAttribute("slfornamed")&&(r=(r=n.getAttribute("slfornamed")).split(":")).length>0&&s._structureForMap.delete(r[0]),n.children))for(let t=n.children.length-1;t>=0;--t)e.push(n.children[t])};export function renderElementWithoutClass(t,e,n){let r,o,l=document.createElement(t);for(let t of Object.keys(e))"function"===(r=typeof(o=e[t]))?(l[t]=o,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||o.name.startsWith("bound slDetached")||o.name.startsWith("slDetached")||W(t,l)):l.setAttribute(t,o);for(let t of n)l.append(t);return l}export function renderElement({tagName:t,attrs:e,children:n},r=!1){let o,l=document.createElement(t);for(let[t,n]of Object.entries(e))"function"===(o=typeof n)?(l[t]=n,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||n.name.startsWith("bound slDetached")||n.name.startsWith("slDetached")||W(t,l)):l.setAttribute(t,n);for(let t of n)"string"==typeof t?l.append(t):t.view?r?a(t,l):c(t,l):l.appendChild(renderElement(t,r));return l}const l=({tagName:t,attrs:e,children:n})=>{let r,o=document.createElement(t);for(let[t,n]of Object.entries(e))"function"===(r=typeof n)?(o[t]=n,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||n.name.startsWith("bound slDetached")||n.name.startsWith("slDetached")||W(t,o)):o.setAttribute(t,n);for(let t of n)"string"==typeof t?o.append(t):t.view?c(t,o):o.appendChild(l(t));return o},i=(t,e)=>{t.slKeyList=[],t.slNamespace={};for(const n in e)t.slNamespace[n]=e[n],t.slKeyList.push(n)},a=(t,e)=>{t=d(t,!0,!0,!0).view;const n=l(t);e.appendChild(n)},c=(t,e,n=!1)=>{Object.getPrototypeOf(t).slDirty=!0;const r=t,o=d(t,!0,!0,!0);t=o.view,o.afterInit&&s._afterInitArr.push(o.afterInit);const a=l(t);if(o.scopedCss){const t=M(o.model,o.model.slStyle());g(a,t),a.slScopedCss=!0}u(a,o.destroyIndex,o.onDestroy),f(a),e.appendChild(a),i(a,r),n&&C(a,t,o.model)},u=(t,e,n)=>{t.slOnDestroy=!0,t.slAfterInit=!0,t.slOnInit=!0,t.slOnDestroyIndex=e,t.slOnDestroyFn=n},d=(t,e,n,o=!1,l=null)=>{if(n&&t.slOnInit&&t.slOnInit(),l&&l.slKeyList)for(const e of l.slKeyList)void 0===t[e]?t[e]=l.slNamespace[e]:l.slNamespace[e]=t[e];let i=null;if(e&&t.slOnDestroy){let e=s._destroyFuncMap.get(s._router.mountRoute);e||(e=[]),e.push(t.slOnDestroy.bind(t)),s._destroyFuncMap.set(s._router.mountRoute,e),i=e.length-1}const a=t.view.bind(t)();return r(a,t),{view:a,afterInit:t.slAfterInit?t.slAfterInit.bind(t):null,onDestroy:e&&!o||!t.slOnDestroy?null:t.slOnDestroy.bind(t),onInit:!n&&t.slOnInit?t.slOnInit:null,destroyIndex:i,model:t,scopedCss:t.slStyle?t.slStyle.bind(t):null}},f=t=>{if(t&&null!==t.slOnDestroyIndex&&void 0!==t.slOnDestroyIndex){let e=s._destroyNodeMap.get(s._router.mountRoute);e||(e=[]),e.find(e=>e.slOnDestroyIndex===t.slOnDestroyIndex)||e.push(t),s._destroyNodeMap.set(s._router.mountRoute,e)}},h=t=>{if(t&&t.slOnDestroy){let e=s._destroyFuncMap.get(s._router.mountRoute);e||(e=[]),e.splice(t.slOnDestroyIndex,1),s._destroyFuncMap.set(s._router.mountRoute,e);let n=s._destroyNodeMap.get(s._router.mountRoute);n||(n=[]),n.forEach(e=>{e.slOnDestroyIndex>t.slOnDestroyIndex&&e.slOnDestroyIndex--}),n=n.filter(e=>e.slOnDestroyIndex!==t.slOnDestroyIndex),s._destroyNodeMap.set(s._router.mountRoute,n)}},p=t=>{if(t&&t.children&&t.children.length>0){for(const e of t.children)p(e);t.slOnDestroyFn&&(t.slOnDestroyFn(),t.slOnDestroyFn=null)}else t.slOnDestroyFn&&(t.slOnDestroyFn(),t.slOnDestroyFn=null)},g=(t,e)=>{if(t.setAttribute(e,""),t.children&&t.children.length>0)for(const n of t.children)g(n,e)},y=(t,e)=>{t.slOnDestroy=!0;let n=s._destroyFuncMap.get(s._router.mountRoute);n||(n=[]),n.push(e),s._destroyFuncMap.set(s._router.mountRoute,n),t.slOnDestroyIndex=n.length-1,t.slOnDestroyFn=e,f(t)},_=(t,e,n)=>{let r;for(let s of e){let e=n[s.name];e?e.length===s.nodeValue.length&&e===s.nodeValue&&delete n[s.name]:s.name.startsWith("slcss-")||t.removeAttribute(s.nodeName)}const o=n.slpreventdefault;let l=!1;for(let[e,i]of Object.entries(n))if("function"===(r=typeof i)){if(void 0!==o){let n=e;n.startsWith("on")&&(n=n.substring(2,n.length));const s=t[e];if(s){(Array.isArray(s)?s:[s]).forEach(e=>{t.removeEventListener(n,e)})}t.addEventListener(n,(function(t){t.preventDefault()})),l=!0}t[e]=i,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||i.name.startsWith("bound slDetached")||i.name.startsWith("slDetached")||W(e,t)}else t.setAttribute(e,i);l||(void 0!==o?v([t]):e.slpreventdefault&&v([t]))},A=(t,e,n)=>{const r=e.length;let a=0;for(let t=e.length-1;t>=0;--t){let r=null,o=null;if(n[t]&&n[t].view){const l=d(n[t],!1,!1,!1,e[t]);n[t]=l.view;const a=Object.getPrototypeOf(l.model);!0!==a.slDirty&&(l.onInit&&e[t].slOnInit&&(e[t].slOnInit=!1),l.afterInit&&e[t].slAfterInit&&(e[t].slAfterInit=!1),l.scopedCss&&e[t].slScopedCss&&(e[t].slScopedCss=!1),l.onDestroy&&e[t].slOnDestroy&&(e[t].slOnDestroy=!1),a.slDirty=!0),l.onInit&&e[t]&&!e[t].slOnInit&&l.onInit.bind(l.model)(),l.afterInit&&e[t]&&!e[t].slAfterInit&&(e[t].slAfterInit=!0,s._afterInitArr.push(l.afterInit)),l.scopedCss&&e[t]&&!e[t].slScopedCss&&(o=M(l.model,l.model.slStyle())),l.onDestroy&&e[t]&&!e[t].slOnDestroy&&y(n[t],l.onDestroy),i(e[t],l.model),r=l.model}C(e[t],n[t],r),o&&(g(e[t],o),e[t].slScopedCss=!0),a++}let u=e.length;for(;u>r;)h(e[u-1]),p(e[u-1]),o(e[e.length-1]),b(e[u-1]),u--;for(let e of n.slice(r)){if("string"==typeof e)t.childNodes[a]?t.childNodes[a].textContent!==e&&(t.childNodes[a].textContent=e):t.append(e);else if("string"==typeof e)t.append(e);else if(e.view)c(e,t,!0);else{const n=l(e);t.appendChild(n),C(n,e)}a++}for(u=e.length;u>n.length;)h(e[u-1]),p(e[u-1]),o(e[u-1]),b(e[u-1]),u--},b=t=>{if(void 0===t.slanimatedestroytarget||""===t.slanimatedestroytarget||t.slAnimateDestroy||void 0===t.attributes.slanimatedestroy||""===t.getAttribute("slanimatedestroy"))if(3===t.nodeType||void 0===t.attributes.slanimatedestroy||""===t.getAttribute("slanimatedestroy")||t.slAnimateDestroy)t.slAnimateDestroy||t.remove();else{const e=t.onanimationend,n=t.onanimationstart,s=t.getAttribute("slanimatedestroy");t.onanimationstart=function(e){t.slAnimationName=e.animationName},t.onanimationend=function(s){if(!t.slAnimationName||t.slAnimationName!==s.animationName)return;let r=void 0;return e&&(r=e.apply(this,[].slice.call(arguments))),t.remove(),t.slAnimationName=null,t.onanimationend=e,t.onanimationstart=n,t.slAnimateDestroy=!1,r},t.classList.add(s),t.slAnimateDestroy=!0}else{const e=t.slanimatedestroytarget;if("function"==typeof e){const n=e(t);if(n){const e=n.getAttribute("slanimatedestroy"),r=n.onanimationend,o=n.onanimationstart;n.onanimationstart=function(t){n.slAnimationName=t.animationName},n.onanimationend=function(l){if(!n.slAnimationName||n.slAnimationName!==l.animationName)return;let i=void 0;return r&&(i=r.apply(this,[].slice.call(arguments))),n.classList.remove(e),s._isAnimatingKeyed=null,s._router.currentRoute.animateDestroy?(s._router.currentRoute.animateDestroy=!1,t.setAttribute("style","opacity: 0;"),n.onanimationend=null,n.onanimationstart=null):(t.remove(),n.onanimationend=r,n.onanimationstart=o),n.slAnimationName=null,t.slAnimateDestroy=!1,delete t.slanimatedestroytarget,detectChanges(),i},s._isAnimatingKeyed=n,n.classList.add(e),t.slAnimateDestroy=!0}else t.remove()}else t.remove()}},D=t=>t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).filter(e=>((t,e)=>(Object.getOwnPropertyDescriptor(t,e)||{}).get)(t,e)||((t,e)=>"function"==typeof t[e])(t,e)).concat(D(Object.getPrototypeOf(t))||[]),O=t=>(t=>Array.from(new Set(D(t))))(t).filter(t=>"constructor"!==t&&!~t.indexOf("__")),I=(t,e)=>{if(e.slStyle&&!t.slScopedCss){const n=M(e,e.slStyle());g(t,n),t.slScopedCss=!0}},v=t=>{for(let e=0;e<t.length;e++){const n=t[e];if(null!==n.getAttribute("slpreventdefault"))for(const t in n)if(t.startsWith("on")){let e=t.substring(2,t.length);const s=n[t];if(s){(Array.isArray(s)?s:[s]).forEach(t=>{n.removeEventListener(e,t)})}n.addEventListener(e,(function(t){t.preventDefault()}))}}},C=(t,e,n=null)=>{if(null!==s._isAnimatingKeyed)for(let[e,n]of s._updateMap){const n=document.getElementById(e);if(n.contains(s._isAnimatingKeyed)&&n.contains(t))return t}if(e&&e.view){const n=d(e,!1,!1,!1,t);e=n.view;const r=Object.getPrototypeOf(n.model);if(!0!==r.slDirty&&(n.onInit&&t.slOnInit&&(t.slOnInit=!1),n.afterInit&&t.slAfterInit&&(t.slAfterInit=!1),n.scopedCss&&t.slScopedCss&&(t.slScopedCss=!1),n.onDestroy&&t.slOnDestroy&&(t.slOnDestroy=!1),r.slDirty=!0),n.onInit&&t&&!t.slOnInit&&n.onInit.bind(n.model)(),n.afterInit&&t&&!t.slAfterInit&&(t.slAfterInit=!0,s._afterInitArr.push(n.afterInit)),n.scopedCss&&t&&!t.slScopedCss){const e=M(n.model,n.model.slStyle());g(t,e),t.slScopedCss=!0}n.onDestroy&&t&&!t.slOnDestroy&&y(t,n.onDestroy)}if(!e)return t&&(h(t),p(t),o(t),b(t)),t;if(t&&t.tagName!==e.tagName){if(!e.tagName)return h(t),p(t),t.replaceWith(e),t=e;{let n=document.createElement(e.tagName);I(n,e),t.parentNode.insertBefore(n,t),h(t),p(t),o(t),b(t),t=n}}if("string"==typeof e)return t.textContent!==e&&(t.textContent=e),t;switch(e.attrs.sldirective){case"useexisting":return I(t,e),t;case"onlychildren":return A(t,t.childNodes,e.children),t;case"onlyself":return _(t,t.attributes,e.attrs),I(t,e),t;case"trustchildren":{_(t,t.attributes,e.attrs),I(t,e);let n="";e.children.forEach(t=>{n+=t}),t.innerHTML!==n&&(t.innerHTML=n);const s=t.querySelectorAll("[slpreventdefault]");return s.length>0&&v(Array.from(s)),t}}if(e.attrs.slfor){const n=e.attrs.slfor.split(":");if(n.length>=4){if(!s._structureForMap.has(n[0])){const r=N(t,e.model[n[2]]);if(s._structureForMap.set(n[0],r),t.children.length>0){let e=Object.create(null);for(let n=0;n<t.children.length;++n)e[n]=t.children[n];r.map=e}}const r=s._structureForMap.get(n[0]);H.bind(e.model,r,e.model[n[1]],e.model[n[3]])()}return _(t,t.attributes,e.attrs),I(t,e),t}if(e.attrs.slfornamed){const n=e.attrs.slfornamed.split(":");if(n.length>=4){let r,o,l,i;for(let t of Object.keys(e.model))(i=e.model[t]).slfor===n[2]?r=i:i.slfor===n[1]?l=i:i.slfor===n[3]&&(o=i);for(let t of O(e.model))(i=e.model[t]).slfor===n[2]?r=i:i.slfor===n[1]?l=i:i.slfor===n[3]&&(o=i);if(l=l.bind(e.model),!s._structureForMap.has(n[0])){const e=N(t,r);if(s._structureForMap.set(n[0],e),t.children.length>0){let n=Object.create(null);for(let e=0;e<t.children.length;++e)n[e]=t.children[e];e.map=n}}const a=s._structureForMap.get(n[0]);H.bind(e.model,a,l,o)()}return _(t,t.attributes,e.attrs),I(t,e),t}return _(t,t.attributes,e.attrs),A(t,t.childNodes,e.children),I(t,e),t},E=(t,e,n)=>{s._afterInitArr=[],e.slOnInit&&e.slOnInit();let o=e.view.bind(e)();if(r(o,e),o.view&&(o=o.view.bind(e)(),r(o,e)),!o.attrs||t&&t.id!==o.attrs.id){const e=o.attrs?o.attrs.id:"null";console.error("Mounted component root element changed from "+t.id+" to "+e)}if(t=C(t,o,e),e.slStyle&&!t.slScopedCss){const n=M(e,e.slStyle());g(t,n),t.slScopedCss=!0}return n&&s._updateMap.set(t.id,e),e.slOnDestroy&&y(t,e.slOnDestroy.bind(e)),e.slAfterInit&&(e.slAfterInit(),k()),s._afterInitArr.forEach(t=>{t()}),t};export function version(){return"17.7.6"}const x=(t,e)=>t.split(e).length-1,S=(t,e,n=0)=>{let s="",r=!1,o=!1,l=!1;for(let i=n;i<t.length;++i)if('"'!==t[i]||o||r?"'"!==t[i]||o||r?'"'===t[i]&&r&&!l?(o=!1,r=!1):"'"===t[i]&&o&&!l?(o=!1,r=!1):l=('"'!==t[i]||!r||!l)&&(("'"!==t[i]||!o||!l)&&"\\"===t[i]):o=!0:r=!0,s+=t[i],1===e.length){if(t[i]===e&&!r&&!o)break}else if(t.length>i+e.length&&t.substring(i,i+e.length)===e&&!r&&!o){s+=t.substring(i,i+e.length-1);break}return s},M=(t,e)=>{const n=function(t){for(var e=0,n=1779033703^t.length;e<t.length;e++)n=(n=Math.imul(n^t.charCodeAt(e),3432918353))<<13|n>>>19;return function(){return n=Math.imul(n^n>>>16,2246822507),n=Math.imul(n^n>>>13,3266489909),(n^=n>>>16)>>>0}}(t.constructor.name),r="slcss-"+String(n());if(""===e||s._scopedCssSet.has(r))return r;e=e.replace(/\t+/g," "),s._scopedCssSet.add(r);const o=new RegExp("([^{]+)s*{s*([^}]+)s*}","g"),l=e.match(o),i=/[^\s"]+|"([^"]*)"/gi;let a="",c=null;do{null!=(c=i.exec(e))&&(c[1]||(a+=c[0]))}while(null!=c);let u,d,f,h,p,g,y,_,A="",b=0,D=0,O=0,I=0,v=!1,C=!1,E=0,M=!1,R=0;const w=new Map;if(a.includes("{")&&a.includes("}")&&a.split("{").length===a.split("}").length)for(let t=0;t<l.length;++t){p=0,u=0,d=0,f=null,h=!1,C=!1,M=!1;let e="";do{null!=(c=i.exec(l[t]))&&(c[1]||(e+=c[0]))}while(null!=c);let n=x(e,"{");for(g=l[t].substring(u);g.replace(/}/g,"").trim().startsWith("@")&&(g.includes("@layer")||g.includes("@scope")||g.includes("@container")||g.includes("@keyframes")||g.replace(/}/g,"").trim().startsWith("@media"));){if(b++,h=!0,l[t].substring(u).includes("@keyframes")?v=!0:l[t].substring(u).includes("@media")&&(C=!0),1==n)u+=S(l[t],";",u).length,A+=l[t].substring(d,u),d=u,b--;else{D++,b--,u+=S(l[t],"{",u).length;const e=S(l[t],";",0);if(v){let e=l[t].substring(d,u);(e=(e=e.replace("@keyframes","")).trim()).endsWith("{")&&(e=(e=e.substring(0,e.length-2)).trim());const n=" "+e+r;w.set(e,n),A+=" @keyframes "+n+" { "}else{const s=l[t].substring(d,u);if(e.length<s.length)A+=e,u-=s.length-e.length,n--;else{if(I>0){let t=s.trim();for(;t.startsWith("}")&&I>0;)!(0!==b||1!==I||n<=I)&&D-n>=1||I--,n--,D--,t=t.replace("}","").trim()}let t="";c=null;do{null!=(c=i.exec(s))&&(c[1]||(t+=c[0]))}while(null!=c);if(A+=s,0===I&&x(t,"}")>0){const e=t.length,s=t.replace(/^}+/,"");(D-=x(s,"}"))>=e-s.length&&(1===D&&1===n||(R+=e-s.length))}let e=x(t,"{")-x(t,"}"),r=/(@layer|@container|@media)[^{]*\{/g,o=t.replace(/\s/g,"").match(r);const l=o?o.length:0;(e-=I>0?0:l)<0&&(e=0),I+=e}}d=u}g=l[t].substring(u)}let s=u+S(l[t],"{",u).length-1;-1===s&&(s=u);let o=l[t].substring(u,s);for(;(o.split('"').length-1)%2!=0;)s=s+1+S(l[t],"{",s+1).length,o=l[t].substring(u,s);if(""!==o&&!/^\s*$/.test(o)){const e=o.split(",");let a;O>0&&o.startsWith(",")&&(e.shift(),e[0]=", "+e[0]);for(let o=0;o<e.length;++o){for(a=e[o].trim();O>0&&a.includes("}");){let t,e,n="";for(;a.includes("}");)t=a.indexOf("{"),((e=a.indexOf("}"))<t||-1===t)&&(n+=a.substring(0,e+1),a=a.substring(e+1),O--);A+=n+"\n",f=a=a.trim()}if(0===O){for(;a.startsWith("}");)a=a.substring(1).trim(),A+="}",D--,M=!1,I>0&&I--,0===I&&(v=!1);if(a.includes(" ")){let u=a.substring(0,a.indexOf(" ")),d=a.substring(a.indexOf(" "));if(o>0&&(A+=", "),"@nest"===u.trim()&&d.replace(/^\s+/g,"").includes(" ")){let t=d.replace(/^\s+/g,""),e=t.substring(0,t.indexOf(" "));t=t.substring(e.length,t.length),u+=" "+e,d=t}if(M=u.trim().startsWith("@"),y=u.trim().endsWith(":")){let r=S(d,";");for(;S(d,";",r.length).trim().endsWith(";");)r+=S(d,";",r.length);const a=d.substring(r.length,d.length);d=r;let f=l[t].substring(s);s=l[t].length;let h=a+" ";const p=e.length>1;for(let t=o+1;t<e.length;++t)h+=", "+e[t]+" ",e.splice(t,1),t--;h+=f,l.splice(t+1,0,h),u.trim().endsWith(":")&&I>0&&n>0&&p&&(D++,R++);let g="";c=null;do{null!=(c=i.exec(l[t+1]))&&(c[1]||(g+=c[0]))}while(null!=c);let y=x(g,"{");(y-=x(g,"}"))<0&&(y=0),D+=y,E+=y}!(!I>0)||v||C&&0!==I||M&&!u.trim().startsWith("@nest")||y?A+=u+d:A+=u+(0===I?"["+r+"]":"")+d}else o>0&&(A+=", "),!(!I>0)||v||C&&0!==I||a.trim().startsWith("@")||M||a.trim().endsWith(":")?A+=a:A+=a+(0===I?"["+r+"]":"")}}}if(O>0&&(s=null!==f?l[t].indexOf(f):0),l[t].includes("--")&&n>1){let e=S(l[t],"--",0).length;const s=l[t].substring(0,e);let r="";do{null!=(c=i.exec(s))&&(c[1]||(r+=c[0]))}while(null!=c);const o=x(r,"{")-1;p=n-1,o>0&&(p-=o),p>0&&(O+=p)}if(n-O>1&&!h){const e=l[t].substring(s+1);l[t]=l[t].substring(0,l[t].length-e.length),l.splice(t+1,0,e);let n="";c=null;do{null!=(c=i.exec(e))&&(c[1]||(n+=c[0]))}while(null!=c);_=x(n,"{")-x(n,"}"),O-=p}let a=l[t].substring(s);const T=a.replace("{","").replace(";","");if(a.includes("{")&&x(a,"{")>1&&!T.trim().startsWith("--")){let e=S(a,"{",0);e=e+" "+S(a,"{",e.length);let n=a.substring(e.length+1,a.length);n=e.substring(e.lastIndexOf(";")+1,e.length)+" "+n,a=e=e.substring(0,e.lastIndexOf(";")+1),l.splice(t+1,0,n),I++,E++}A+=a;let N="";c=null;do{null!=(c=i.exec(a))&&(c[1]||(N+=c[0]))}while(null!=c);for(D+=(_=x(N,"{")-x(N,"}"))-p>=0?_-p:_,(_-=O)<0&&(_=0),0===I&&C||(E+=_,(I+=_)>0&&(I-=1-D-x(N,"{")+x(N,"}")>=0?1-D-x(N,"{")+x(N,"}"):0));b>0;)A+="}",b--;0===O&&(A+="\n")}for(I-=E;I>0;)A+="}",I--;for(D-=R;D>0;)A+="}",D--;if(A+="\n",w.size>0){let t,e=0;A=(t=T(A,e,w,"animation")).finalCss,e=t.startIndex,A=(t=T(A,e=0,w,"animation-name")).finalCss,e=t.startIndex}if(""!==A.trim()){const t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");t.appendChild(e),e.appendChild(document.createTextNode(A))}return r},T=(t,e,n,s)=>{for(;-1!==(e=t.indexOf(s,e));){const r=t.substring(0,e);let o=t.substring(e,t.indexOf(";",e));const l=t.substring(e+o.length,t.length);if(o.includes(":")){if(":"===o.substring(0,o.indexOf(":")+1).replace(s,"").trim()){for(const[t,r]of n){let n=o.replace(s,"");(n=n.trim()).startsWith(":")&&(n=(n=n.substring(1,n.length)).trim()),new RegExp(t+"(\\s|;|$)").test(n)&&t.length>0?e+=(o=o.replaceAll(t,r)).length:e+=s.length}t=r+o+l}else e+=o.length}}return{finalCss:t,startIndex:e}};export function hydrate(t,n=!0){const s=document.getElementById(t).getAttribute("slssrclass");let r=e[s];return!r&&this&&(r=this[s]),mount(t,new r,n)}export function resolveAll(t){return Promise.all(t.map(t=>t.then(t=>({result:t,status:"fulfilled",error:null}),t=>({result:null,error:t,status:"rejected"}))))}export function setState(t){s._state=t}export function getState(){return s._state}export function textNode(t){return String(t)}export function markup(t,{attrs:e={},children:n=[]}={}){return{tagName:t=t.toUpperCase(),attrs:e,children:n}}export function m(){return markup(arguments[0],arguments[1])}export function mount(t,e,n=!0){s._router.mountRoute=t;let r=document.getElementById(t);if(null!==r)return E(r,e,n);console.error("ID "+t+" does not exist in DOM.")}export function renderToString(t){const e=[],o=new Set;for(let t of s._structureForMap.keys())o.add(t);t.slOnInit&&(t.slOnInit(),e.push(t));let l=t.view.bind(t)(),i=t;for(;l.view;)l.slOnInit&&(l.slOnInit(),e.push(l)),i=l,l=l.view.bind(l)();r(l,i);const a=n(l,e);e.forEach(t=>{t.slOnDestroy&&t.slOnDestroy.bind(t)()});for(let t of s._structureForMap.keys())o.has(t)||s._structureForMap.delete(t);return a}export function update(t,e){const n=t;if(t=document.getElementById(t),s._afterInitArr=[],t){let n=e.view.bind(e)();r(n,e),t=C(t,n,e)}else console.error("ID "+n+" not mounted in DOM; attachDetector likely needs to be called.");if(s._afterInitArr.forEach(t=>{t()}),e.slStyle&&!t.slScopedCss){const n=M(e,e.slStyle());g(t,n),t.slScopedCss=!0}}let R=e.onpopstate;e.onpopstate=function(t){switch(s._router.strategy){case"#":e.location.hash&&s._router.lastHash!==e.location.hash.substring(2)&&(R&&R(t),route(getRoute()));break;case"?":e.location.search&&s._router.lastHash!==e.location.search.substring(2)&&(R&&R(t),route(getRoute()));break;case"":e.location.pathname&&s._router.lastHash!==e.location.pathname.substring(1)&&(R&&R(t),route(getRoute()))}},s._router={segmentArr:[],routeList:[],params:null,lastHash:!1,currentRoute:null,mountRoute:"",strategy:"#"},Object.seal(s._router);const w=()=>{switch(s._router.strategy){case"#":{let t=e.location.href.split("#/")[1];if(t){let e=t.split("/");e.forEach((t,e)=>{s._router.segmentArr[e]=t}),s._router.segmentArr.splice(e.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length);break}case"?":{let t=e.location.href.split("?/")[1];if(t){let e=t.split("/");e.forEach((t,e)=>{s._router.segmentArr[e]=t}),s._router.segmentArr.splice(e.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length);break}case"":{let t=e.location.pathname;if(t){let e=(t=t.replace("/","")).split("/");e.forEach((t,e)=>{s._router.segmentArr[e]=t}),s._router.segmentArr.splice(e.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length);break}}};export function setRouteStrategy(t){new Set(["#","?",""]).has(t)&&(s._router.strategy=t)}export function getRouteQueryVariables(){const t=e.location.search.substring(2).split("&"),n=[];for(var s=0;s<t.length;s++){const e=t[s].split("=");n.push({var:decodeURIComponent(e[0]),value:decodeURIComponent(e[1])})}return n}export function getRouteSegments(){return s._router.segmentArr}export function getRouteParams(){return s._router.params}export function getRoute(){switch(s._router.strategy){case"#":return e.location.href.split("#/")[1];case"?":return e.location.href.split("?/")[1];case"":{let t=e.location.pathname;return t&&(t=t.replace("/","")),t}}}export function addRoute(t,e){s._router.routeList.push([new RegExp("^"+t.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),e])}export function removeRoute(t){const e=new RegExp("^"+t.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),n=String(e);for(let t=0;t<s._router.routeList.length;++t){const[e,r]=s._router.routeList[t];if(String(e)===n){s._router.routeList.splice(t,1);break}}}export function route(t,n={},r=!0){if(s._router.params=n,s._router.currentRoute&&s._router.currentRoute.onCanDeactivate&&!s._router.currentRoute.onCanDeactivate(t))return;let l=null;for(let[n,i]of s._router.routeList)if(n.test(t)){if(i.onActivationCheck&&!i.onActivationCheck(t))return i.onActivationFail&&(l=route(i.onActivationFail.route,i.onActivationFail.params,"boolean"!=typeof i.onActivationFail.attachDetector||i.onActivationFail.attachDetector)),void(t=void 0);i.onBeforeRoute&&i.onBeforeRoute();const n=s._destroyNodeMap.get(getRoute());n&&(n.forEach(t=>{t.slOnDestroyFn&&t.slOnDestroyFn(),t.slOnDestroyFn=null}),s._destroyNodeMap.set(getRoute(),[]),s._destroyFuncMap.set(getRoute(),[])),s._router.lastHash=t;const a=e.pageYOffset;switch(s._router.strategy){case"#":e.history.pushState(null,document.title,"#/"+t);break;case"?":{let n=e.location.href;const s=e.location.pathname;n=n.substring(0,n.indexOf(s)),n+="/?/"+t,e.history.pushState(null,document.title,n);break}case"":{let n=e.location.href;const s=e.location.pathname;n=n.substring(0,n.indexOf(s)),n+="/"+t,e.history.pushState(null,document.title,n);break}}e.scrollTo(0,a);let c=document.getElementById(i.root);if(s._router.currentRoute&&void 0!==s._router.currentRoute.animateDestroy&&(s._router.currentRoute.animateDestroy=!0),s._router.currentRoute&&s._router.currentRoute.animateDestroy){let t=s._router.currentRoute.root;t=document.getElementById(t),s._router.currentRoute=i,h(t),p(t),o(t),b(t),w()}else w(),s._router.currentRoute=i;i.component&&(i.component.slOnDestroy&&s._destroyFuncMap.set(t,[i.component.slOnDestroy.bind(i.component)]),s._router.mountRoute=t,E(c,i.component,r),l=i.component);break}return s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&k(),l}w();const N=(t,e,n)=>({parent:t,factory:e,map:Object.create(null)});function F(t,e){"function"==typeof e&&(e=e());let n=[];for(let s=0;s<e.length;++s)n.push(t.factory.bind(this,e[s])());return n}function H(t,e,n){"function"==typeof e&&(e=e());const s=Object.create(null),r=t.parent;let i,a,c=r.firstChild;if(e.length){for(let o=0;o<e.length;++o)(i=t.map[o])?n.bind(i,this,e[o])():void 0!==(i=t.factory.bind(this,e[o])()).attrs&&(i=l(i)),s[o]=i,c||r.appendChild(i),c=i.nextSibling;for(;null!==c;)a=c.nextSibling,h(c),p(c),o(c),b(c),c=a}else r.textContent="";t.map=s;const u=t.parent.querySelectorAll("[slpreventdefault]");u.length>0&&(v([t.parent]),v(Array.from(u)))}s.CHANGE_STRATEGY_AUTOMATIC=100,s.CHANGE_STRATEGY_MANUAL=200,s.CHANGE_DETECTOR_DETACHED=!1,s.CHANGE_DETECTOR_ATTACHED=!0,s._changeStrategies=[s.CHANGE_STRATEGY_AUTOMATIC,s.CHANGE_STRATEGY_MANUAL],s._changeDetector={lastUpdateDate:new Date,changeDetectionStrategy:s.CHANGE_STRATEGY_AUTOMATIC},Object.seal(s._changeDetector),Object.freeze(s._changeStrategies);const W=(t,e)=>{if(e[t]){let n=e[t];e[t]=function(){let t=n.apply(this,[].slice.call(arguments));return k(),t}}};const L=(t=null)=>{t?update(t,s._updateMap.get(t)):s._updateMap.forEach((t,e)=>{update(e,t)})},k=()=>{if(s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC)return;new Date-s._changeDetector.lastUpdateDate>17?L():s._debouncedPerformUpdates(),s._changeDetector.lastUpdateDate=new Date};export function setDetectionStrategy(t){s._changeStrategies.forEach(e=>{e===t&&(s._changeDetector.changeDetectionStrategy=t)})}export function detectChanges(t=null){L(t)}export function isDetectorAttached(t){return s._updateMap.has(t)}export function detachDetector(t){s._updateMap.delete(t)}export function wrapWithChangeDetector(t,e){return function(){e&&e.slpreventdefault&&arguments.length>0&&"function"==typeof arguments[0].preventDefault&&arguments[0].preventDefault();let n=t.apply(this,[].slice.call(arguments));return k(),n}}s._debouncedPerformUpdates=function(t,e){let n;return function(...r){const o=this;clearTimeout(n),n=s.DETACHED_SET_TIMEOUT(()=>t.apply(o,r),e)}}(L,17);let j=e.XMLHttpRequest.prototype.send,G=new Map;function U(){if(this._onreadystatechange){let t=G.get(this);if(void 0!==t&&t===this._onreadystatechangecount)return void G.delete(this);void 0!==t?G.set(this,t+1):G.set(this,0);let e=this._onreadystatechange.apply(this,arguments);return k(),G.delete(this),e}}e.XMLHttpRequest.prototype.send=function(t){return this.onreadystatechange?(this._onreadystatechange=this.onreadystatechange,void 0===this._onreadystatechangecount?this._onreadystatechangecount=0:this._onreadystatechangecount+=4):this._onreadystatechangecount=0,this.onreadystatechange=U,j.apply(this,arguments)};let P=e.fetch;e.fetch=function(){let t=P.apply(this,arguments);return k(),t};const Y=e.setTimeout;e.setTimeout=function(t=!0){let e;if(arguments.length>2){const n=[].slice.call(arguments,1);e=Y.apply(this,n),t&&k()}else{const t=[].slice.call(arguments);e=Y.apply(this,t),k()}return e};const B=e.setInterval;e.setInterval=function(t=!0){let e;if(arguments.length>2){const n=[].slice.call(arguments,1);e=B.apply(this,n),t&&k()}else{const t=[].slice.call(arguments);e=B.apply(this,t),k()}return e};const K=e.setTimeout,q=e.setInterval;Object.defineProperty(s,"DETACHED_SET_TIMEOUT",{value:K.bind(e,!1)}),Object.defineProperty(s,"DETACHED_SET_INTERVAL",{value:q.bind(e,!1)});