let modInit=!1;if(!window.s){modInit=!0,window.s=function(){};const e=window.setTimeout,t=window.setInterval;Object.defineProperty(s,"DETACHED_SET_TIMEOUT",{writable:!1,enumerable:!1,configurable:!1,value:e.bind(window)}),Object.defineProperty(s,"DETACHED_SET_INTERVAL",{writable:!1,enumerable:!1,configurable:!1,value:t.bind(window)}),s._state={},s._destroyFuncArr=[],s._updateMap=new Map}const renderElement=({tagName:e,attrs:t,children:n})=>{let r,o=document.createElement(e);for(let[e,n]of Object.entries(t))"function"===(r=typeof n)?o[e]=n:o.setAttribute(e,n);for(let e of n){let t=renderMarkup(e);o.appendChild(t)}return o},unifyChanges=(e,t)=>{let n=[];for(let r=0;r<Math.max(e.length,t.length);++r)n.push([e[r],t[r]]);return n},diffVAttrs=(e,t)=>{let n,r=[];for(let n of e)t[n.name]||r.push(e=>(e.setAttribute(n.name,n.value),e));for(let[e,o]of Object.entries(t))"function"===(n=typeof o)?r.push(t=>(t[e]=o,t)):r.push(t=>(t.setAttribute(e,o),t));for(let n of e)n in t||r.push(e=>(e.removeAttribute(n),e));return e=>{for(let t of r)t(e)}},diffVChildren=(e,t)=>{let n=[];(e=Array.from(e)).forEach((e,r)=>{n.push(diffVDom(e,t[r]))});let r=[];for(let n of t.slice(e.length))"string"==typeof n?r.push(e=>(e.textContent!==n&&(e.textContent=n),e)):r.push(e=>(e.appendChild(renderMarkup(n)),e));return e=>{for(let[t,r]of unifyChanges(n,e.childNodes))t&&t(r);for(let t of r)t(e);return s._cdr&&s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&s._proxyAllEvents(e),e}},diffVDom=(e,t)=>{if(!t)return e=>{e.remove()};if("string"==typeof e||"string"==typeof t)return e!==t?e=>{let n=renderMarkup(t);return e.replaceWith(n),n}:e=>void 0;if(t.attrs.slUseExisting)return e=>e;let n=diffVAttrs(e.attributes,t.attrs),r=diffVChildren(e.children,t.children);return e=>(n(e),r(e),e)},renderMarkup=e=>{if("string"==typeof e){const t=document.createElement("SPAN");return t.innerText=e,t}return renderElement(e)},render=e=>{if(e.slOnInit&&e.slOnInit(),"string"==typeof(e=e.view())){const t=document.createElement("SPAN");return t.innerText=e,t}return renderElement(e)},_mountInternal=(e,t,n)=>{let r=render(t);if(n&&s._updateMap.set(e.id,t),e.replaceWith(r),r.id!==e.id&&console.error('Mounted component root element changed from "'+e.id+'" to "'+r.id+'"'),t.slAfterInit){let e=setInterval(()=>{t.slAfterInit(),s._performChangeDetection(),clearInterval(e)},0)}return r};export function version(){return"3.4.0"}export function resolveAll(e){return Promise.all(e.map(e=>e.then(e=>({result:e,status:"fulfilled",error:null}),e=>({result:null,error:e,status:"rejected"}))))}export function initialize(){}export function setState(e){s._state=e}export function getState(){return s._state}export function textNode(e){return String(e)}export function markup(e,{attrs:t={},children:n=[]}={}){return{tagName:e=e.toUpperCase(),attrs:t,children:n}}export function mount(e,t,n=!0){let r=document.getElementById(e);if(null!==r)return _mountInternal(r,t,n);console.error('ID "'+e+'" does not exist in DOM.')}export function update(e,t){const n=e;if(!(e=document.getElementById(e)))return void console.warn('Skip update of "'+n+'". ID does not exist in DOM.');let r=t.view.bind(t)();e=diffVDom(e,r)(e)}if(modInit){s._mountInternal=_mountInternal,s._update=update;let e=window.onpopstate;window.onpopstate=function(t){e&&e(t),s._route(s._getRoute())}}