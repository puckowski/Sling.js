!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e),window.s=function(){};const o=window.setTimeout,r=window.setInterval;Object.defineProperty(s,"DETACHED_SET_TIMEOUT",{value:o.bind(window)}),Object.defineProperty(s,"DETACHED_SET_INTERVAL",{value:r.bind(window)}),s._state={},s._destroyFuncArr=[],s._updateMap=new Map;const i=({tagName:t,attrs:e,children:n})=>{let o,r=document.createElement(t);for(let[t,n]of Object.entries(e))"function"==(o=typeof n)?r[t]=n:r.setAttribute(t,n);for(let t of n){let e=c(t);r.appendChild(e)}return r},a=(t,e)=>{let n=[];for(let o=0;o<t.length;++o)n.push(l(t[o],e[o]));let o=[];for(let n of e.slice(t.length))"string"==typeof n?o.push(t=>(t.textContent!==n&&(t.textContent=n),t)):o.push(t=>(t.appendChild(c(n)),t));return t=>{for(let e=0;e<Math.max(n.length,t.childNodes.length);++e)n[e]&&n[e](t.childNodes[e]);for(let e of o)e(t);return s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&_(t),t}},l=(t,e)=>{if(!e)return t=>{t.remove()};if("string"==typeof e)return t.innerText&&t.innerText!==e?t=>{let n=c(e);return t.replaceWith(n),n}:t=>void 0;if(e.attrs.slUseExisting)return t=>t;if(e.attrs.slNoChanges){let n=a(t.children,e.children);return t=>(n(t),t)}let n=((t,e)=>{let n,o=[];for(let n of t)e[n.name]||o.push(t=>(t.setAttribute(n.name,n.value),t));for(let n of t)n in e||o.push(t=>(t.removeAttribute(n),t));for(let[t,r]of Object.entries(e))"function"==(n=typeof r)?o.push(e=>(e[t]=r,e)):o.push(e=>(e.setAttribute(t,r),e));return t=>{for(let e of o)e(t)}})(t.attributes,e.attrs),o=a(t.children,e.children);return t=>(n(t),o(t),t)},c=t=>{if("string"==typeof t){const e=document.createElement("SPAN");return e.innerText=t,e}return i(t)},d=(t,e,n)=>{let o=(t=>{if(t.slOnInit&&t.slOnInit(),"string"==typeof(t=t.view())){const e=document.createElement("SPAN");return e.innerText=t,e}return i(t)})(e);if(n&&s._updateMap.set(t.id,e),t.replaceWith(o),o.id!==t.id&&console.error('Mounted component root element changed from "'+t.id+'" to "'+o.id+'"'),e.slAfterInit){let t=setInterval(()=>{e.slAfterInit(),N(),clearInterval(t)},0)}return o};function u(t){s._state=t}function p(){return s._state}function h(t){return String(t)}function g(t,{attrs:e={},children:n=[]}={}){return{tagName:t=t.toUpperCase(),attrs:e,children:n}}function f(t,e,n=!0){let o=document.getElementById(t);if(null!==o)return d(o,e,n);console.error('ID "'+t+'" does not exist in DOM.')}let m=window.onpopstate;window.onpopstate=function(t){m&&m(t),T(window.location.href.split("#")[1])},s._router={segmentArr:[],routeMap:new Map,params:null},Object.seal(s._router);const y=()=>{let t=window.location.href.split("#")[1];s._router.segmentArr.splice(0,s._router.segmentArr.length),t&&t.split("/").forEach(t=>{s._router.segmentArr.push(t)})};function v(){return s._router.segmentArr}function b(t,e){s._router.routeMap.set(new RegExp("^"+t.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),e)}function T(t,e={},n=!0){s._router.params=e;let o=null;return s._router.routeMap.forEach((e,r)=>{if(r.test(t)){if(e.authGuard&&!e.authGuard(r))return e.authFail&&(o=T(e.authFail.route,e.authFail.params)),void(t=void 0);s._destroyFuncArr.forEach(t=>{t()}),s._destroyFuncArr=[],window.location.hash=t,y();let i=document.getElementById(e.root);e.component&&(d(i,e.component,n),e.component.slOnDestroy&&s._destroyFuncArr.push(e.component.slOnDestroy),o=e.component)}}),s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&N(),o}y(),s.CHANGE_STRATEGY_AUTOMATIC=100,s.CHANGE_STRATEGY_MANUAL=200,s.CHANGE_DETECTOR_DETACHED=!1,s.CHANGE_DETECTOR_ATTACHED=!0,s._changeStrategies=[s.CHANGE_STRATEGY_AUTOMATIC,s.CHANGE_STRATEGY_MANUAL],s._changeDetector={lastUpdateDate:new Date,changeDetectionStrategy:s.CHANGE_STRATEGY_AUTOMATIC},Object.seal(s._changeDetector),Object.freeze(s._changeStrategies);const w=(t,e)=>{if(e[t]){let n=e[t];e[t]=function(){let t=n.apply(this,[].slice.call(arguments));return N(),t}}};const A=()=>{s._updateMap.forEach((t,e)=>{!function(t,e){const n=t;if(!(t=document.getElementById(t)))return void console.warn('Skip update of "'+n+'". ID does not exist in DOM.');let o=e.view.bind(e)();t=l(t,o)(t)}(e,t)})},N=()=>{s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&(new Date-s._changeDetector.lastUpdateDate>17?A():s._debouncedPerformUpdates(),s._changeDetector.lastUpdateDate=new Date)};s._debouncedPerformUpdates=function(t,e){let n;return function(...o){const r=this;clearTimeout(n),n=s.DETACHED_SET_TIMEOUT(()=>t.apply(r,o),e)}}(A,17);const _=t=>{["setTimeout","setInterval","onafterprint","onbeforeprint","onbeforeunload","onerror","onhashchange","onload","onmessage","onoffline","ononline","onpagehide","onpageshow","onpopstate","onresize","onstorage","onunload","onblur","onchange","oncontextmenu","onfocus","oninput","oninvalid","onreset","onsearch","onselect","onsubmit","onkeydown","onkeypress","onkeyup","onclick","ondblclick","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onwheel","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onscroll","oncopy","oncut","onpaste","onabort","oncanplay","oncanplaythrough","oncuechange","ondurationchange","onemptied","onended","onloadeddata","onloadedmetadata","onloadstart","onpause","onplay","onplaying","onprogress","onratechange","onseeked","onseeking","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting","ontoggle"].forEach(e=>{w(e,t)})};let E=window.XMLHttpRequest.prototype.send;function C(){if(this._onreadystatechange){let t=this._onreadystatechange.apply(this,arguments);return N(),t}}window.XMLHttpRequest.prototype.send=function(t){return this.onreadystatechange&&(this._onreadystatechange=this.onreadystatechange),this.onreadystatechange=C,E.apply(this,arguments)};let x=window.fetch;window.fetch=function(){let t=x.apply(this,arguments);return N(),t},_(window);var S=class{constructor(){}view(){return g("nav",{attrs:{class:"navbar navbar-light bg-light",id:"divNavbar"},children:[g("span",{attrs:{},children:[g("img",{attrs:{src:"images/sling.png",width:"30px",height:"30px",class:"d-inline-block align-top",style:"margin-right:0.5rem;margin-top:0.3125rem;margin-bottom:0.3125rem;"},children:[]}),g("span",{attrs:{class:"navbar-brand"},children:[h("Sling")]}),g("div",{attrs:{style:"display:inline-flex;"},children:[g("ul",{attrs:{class:"navbar-nav"},children:[g("li",{attrs:{class:"nav-item"},children:[h("v4.0.2")]})]})]})]})]})}};var k=class{constructor(t,e){this.text=t,this.completed=e}};const D="cookieNoteData";var O=class{constructor(){}getNoteCookie(){return this.getCookie(D)}setNoteCookie(t){this.setCookie(D,JSON.stringify(t),31)}setCookie(t,e,n){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);const r="expires="+o.toUTCString();document.cookie=t+"="+e+";"+r+";path=/"}getCookie(t){const e=t+"=",n=decodeURIComponent(document.cookie).split(";");for(var o=0;o<n.length;o++){for(var r=n[o];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return""}};var I=class{constructor(){this.noteText="",this.inputTarget=null}slOnInit(){console.log("Initializing NoteInputComponent")}updateNoteText(t){this.noteText=t.target.value,this.inputTarget=t.target}getNoteText(){return this.noteText}resetInput(){this.noteText="",this.inputTarget.value=""}addNewNote(){const t=this.getNoteText();if(!t||0===t.length)return;let e=p();e.getNotes().push(new k(t,!1)),u(e),(new O).setNoteCookie(e),this.resetInput()}clearCompletedNotes(){let t,e=p(),n=!1;for(let o=0;o<e.getNotes().length;++o)!0===(t=e.getNotes()[o]).completed&&(e.getNotes().splice(o,1),n=!0,o--);!0===n&&(u(e),(new O).setNoteCookie(e)),document.querySelectorAll("#divTodoList input").forEach(t=>{t.checked=!1,t.removeAttribute("readonly")})}view(){return g("div",{attrs:{class:"input-group",id:"divNoteInput",style:"padding:1rem;"},children:[g("div",{attrs:{style:"display:grid;width:50%;margin:auto;"},children:[g("textarea",{attrs:{class:"form-control","aria-label":"Note textarea",oninput:this.updateNoteText.bind(this)}}),g("br",{}),g("div",{attrs:{style:"justify-self:center;"},children:[g("button",{attrs:{class:"btn btn-primary",type:"submit",onclick:this.addNewNote.bind(this),style:"width:150px;margin-right:1rem;"},children:[h("Add note")]}),g("button",{attrs:{class:"btn btn-primary",type:"submit",onclick:this.clearCompletedNotes.bind(this),style:"width:150px;"},children:[h("Clear completed")]})]})]})]})}};var M=class{constructor(){}updateReadonlyAttribute(t,e){!1===t.completed?document.querySelectorAll("#divTodoList input").forEach((t,n)=>{n===2*e+1&&t.removeAttribute("readonly")}):!0===t.completed&&document.querySelectorAll("#divTodoList input").forEach((t,n)=>{n===2*e+1&&t.setAttribute("readonly",!0)})}completeNote(t){let e=p(),n=0,o=!1;e.getNotes().forEach((e,r)=>{e===t&&(e.completed=!t.completed,o=!0,n=r)}),u(e),(new O).setNoteCookie(e),!0===o&&this.updateReadonlyAttribute(t,n)}updateNote(t,e){let n=p();n.getNotes().forEach(n=>{n===t&&(n.text=e.target.value)}),u(n),(new O).setNoteCookie(n)}view(){return g("div",{attrs:{id:"divTodoList"},children:[g("div",{attrs:{style:"width:50%;margin:auto;padding:1rem;"},children:[...Array.from(p().getNotes(),t=>g("div",{attrs:{class:"input-group mb-3 animEnter",style:"width:100%;"},children:[g("div",{attrs:{class:"input-group-prepend"},children:[g("div",{attrs:{class:"input-group-text"},children:[g("input",{attrs:{type:"checkbox",...t.completed&&{checked:"true"},onchange:this.completeNote.bind(this,t)}})]}),g("img",{attrs:{src:"images/cat-typing.gif",width:"50px",height:"50px"}})]}),g("input",{attrs:{value:t.text,class:"form-control",...t.completed&&{readonly:"true"},oninput:this.updateNote.bind(this,t),style:"margin-left:1px;"}})]}))]})]})}};var R=class{constructor(){}view(){return g("div",{attrs:{id:"divTodoHeader"},children:[g("h4",{attrs:{style:"text-align:center;padding:1rem;font-family:Arial;line-height:58px;font-size:54px;font-weight:300;"},children:[h("Todo App")]})]})}};var G=class{constructor(){}slOnDestroy(){console.log("Destroy completed list component")}applyCheckedProperty(){document.querySelectorAll("#divTodoList input").forEach((t,e)=>{e%2==0&&(t.checked=!0)})}completeNote(t){let e=p();e.getNotes().forEach(e=>{e===t&&(e.completed=!t.completed)}),u(e),(new O).setNoteCookie(e),this.applyCheckedProperty()}view(){return g("div",{attrs:{id:"divTodoList"},children:[g("div",{attrs:{style:"width:50%;margin:auto;padding:1rem;"},children:[...Array.from(p().getNotes().filter(t=>!!t.completed),t=>g("div",{attrs:{class:"input-group mb-3 animEnter",style:"width:100%;"},children:[g("div",{attrs:{class:"input-group-prepend"},children:[g("div",{attrs:{class:"input-group-text"},children:[g("input",{attrs:{type:"checkbox",...t.completed&&{checked:"true"},onchange:this.completeNote.bind(this,t)}})]})]}),g("input",{attrs:{value:t.text,class:"form-control",...t.completed&&{readonly:"true"}}})]}))]})]})}};const H=t=>{const e=["pop","push","reverse","shift","unshift","splice","sort","map","filter","fill","copyWithin"],n=e.slice(0,6),o={},r=[];let i=t,s=0;const a=function(t){0===s?(r.forEach(e=>{e(t)}),s++):s=0};return o.subscribe=function(t){return r.push(t),i=new Proxy(i,{set:function(t,e,n){return"length"===e?(t[e]=n,!0):!1===isNaN(e)?(t[e]=n,a(t),!0):void 0}}),e.forEach((function(t){Object.defineProperty(i,t,{writable:!0,value:function(){let e=i;return n.indexOf(t)>-1?Array.prototype[t].apply(e,arguments):e=Array.prototype[t].apply(e,arguments),a(e),e}})})),this},o.clearSubscription=function(t){const e=r.filter(e=>e!==t);return this.clearSubscriptions(),r.concat(e),this},o.clearSubscriptions=function(){return r.splice(0,r.length),this},o.getData=function(){return i},o};var U=class{constructor(){this.routeString=""}slOnInit(){this.performRouteAction(v()[0]),H(v()).subscribe(function(t){t.length>0?this.routeString=t[0]:this.routeString=""}.bind(this))}routeToAll(){T("all")}routeToCompleted(){T("completed")}performRouteAction(t){switch(this.routeString=t,t){case"all":this.routeToAll();break;case"completed":this.routeToCompleted();break;default:this.routeString="all",this.routeToAll()}}completeNote(t){let e=p();e.getNotes().forEach(e=>{e===t&&(e.completed=!t.completed)}),setState(e),(new O).setNoteCookie(e)}view(){return g("ul",{attrs:{class:"nav",style:"width:50%;margin:auto;",id:"divNoteNav"},children:[g("li",{attrs:{class:"nav-item"},children:[g("a",{attrs:{..."all"!==this.routeString&&{class:"nav-link"},..."all"===this.routeString&&{class:"nav-link textBold"},onclick:this.performRouteAction.bind(this,"all"),style:"cursor:pointer;"},children:[h("All")]})]}),g("li",{attrs:{class:"nav-item"},children:[g("a",{attrs:{..."completed"!==this.routeString&&{class:"nav-link"},..."completed"===this.routeString&&{class:"nav-link textBold"},onclick:this.performRouteAction.bind(this,"completed"),style:"cursor:pointer;"},children:[h("Completed")]})]})]})}};var j=class{constructor(){this.notes=[]}getNotes(){return this.notes}setNotes(t){this.notes=t}addNotes(t){t.notes.forEach(t=>{this.notes.push(t)})}};let P=(new O).getNoteCookie(),L=new j;P.length>0&&L.addNotes(JSON.parse(P)),u(L),b("all",{component:new M,root:"divTodoList"}),b("completed",{component:new G,root:"divTodoList"}),f("divNavbar",new S),f("divNoteInput",new I),f("divNoteNav",new U),f("divTodoHeader",new R)}]);