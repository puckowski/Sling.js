!function(t){var e={};function r(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(s,o,function(e){return t[e]}.bind(null,o));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var o=class{constructor(){}view(){return s.markup("nav",{attrs:{class:"navbar navbar-light bg-light",id:"navbar"},children:[s.markup("span",{attrs:{},children:[s.markup("img",{attrs:{src:"images/sling.png",width:"30px",height:"30px",class:"d-inline-block align-top",style:"margin-right:0.5rem;margin-top:0.3125rem;margin-bottom:0.3125rem;"},children:[]}),s.markup("span",{attrs:{class:"navbar-brand"},children:[s.textNode("Sling")]}),s.markup("div",{attrs:{style:"display:inline-flex;"},children:[s.markup("ul",{attrs:{class:"navbar-nav"},children:[s.markup("li",{attrs:{class:"nav-item"},children:[s.textNode("v"+s.version)]})]})]})]})]})}};var i=class{constructor(t,e){this.text=t,this.completed=e}};const n="cookieNoteData";var a=class{constructor(){}getNoteCookie(){return this.getCookie(n)}setNoteCookie(t){this.setCookie(n,JSON.stringify(t),31)}setCookie(t,e,r){var s=new Date;s.setTime(s.getTime()+24*r*60*60*1e3);var o="expires="+s.toUTCString();document.cookie=t+"="+e+";"+o+";path=/"}getCookie(t){for(var e=t+"=",r=decodeURIComponent(document.cookie).split(";"),s=0;s<r.length;s++){for(var o=r[s];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""}};var l=class{constructor(){this.noteText="",this.inputTarget=null}slOnInit(){console.log("Initializing NoteInputComponent")}updateNoteText(t){this.noteText=t.target.value,this.inputTarget=t.target}getNoteText(){return this.noteText}resetInput(){this.noteText="",this.inputTarget.value=""}addNewNote(){const t=this.getNoteText();if(!t||0===t.length)return;let e=s.getState();e.getNotes().push(new i(t,!1)),s.setState(e),(new a).setNoteCookie(e),this.resetInput()}clearCompletedNotes(){let t,e=s.getState();for(let r=0;r<e.getNotes().length;++r)!0===(t=e.getNotes()[r]).completed&&(e.getNotes().splice(r,1),r--);s.setState(e),(new a).setNoteCookie(e)}view(){return s.markup("div",{attrs:{class:"input-group",id:"divNoteInput",style:"padding:1rem;"},children:[s.markup("div",{attrs:{style:"display:grid;width:50%;margin:auto;"},children:[s.markup("textarea",{attrs:{class:"form-control","aria-label":"Note textarea",style:"margin-right:1rem;",oninput:this.updateNoteText.bind(this)}}),s.markup("br",{}),s.markup("div",{attrs:{style:"justify-self:center;"},children:[s.markup("button",{attrs:{class:"btn btn-primary",type:"submit",onclick:this.addNewNote.bind(this),style:"width:150px;margin-right:1rem;"},children:[s.textNode("Add note")]}),s.markup("button",{attrs:{class:"btn btn-primary",type:"submit",onclick:this.clearCompletedNotes.bind(this),style:"width:150px;"},children:[s.textNode("Clear completed")]})]})]})]})}};var c=class{constructor(){}completeNote(t){let e=s.getState();e.getNotes().forEach(e=>{e===t&&(e.completed=!t.completed)}),s.setState(e),(new a).setNoteCookie(e)}updateNote(t,e){let r=s.getState();r.getNotes().forEach(r=>{r===t&&(r.text=e.target.value)}),s.setState(r),(new a).setNoteCookie(r)}view(){return s.markup("div",{attrs:{id:"divTodoList"},children:[s.markup("div",{attrs:{style:"width:50%;margin:auto;padding:1rem;"},children:[...Array.from(s.getState().getNotes(),t=>s.markup("div",{attrs:{class:"input-group mb-3 animEnter",style:"width:100%;"},children:[s.markup("div",{attrs:{class:"input-group-prepend"},children:[s.markup("div",{attrs:{class:"input-group-text"},children:[s.markup("input",{attrs:{type:"checkbox",...t.completed&&{checked:"true"},onchange:this.completeNote.bind(this,t)}})]}),s.markup("img",{attrs:{src:"images/cat-typing.gif",width:"50px",height:"50px"}})]}),s.markup("input",{attrs:{value:t.text,class:"form-control",...t.completed&&{readonly:"true"},oninput:this.updateNote.bind(this,t),style:"margin-left:1px;"}})]}))]})]})}};var d=class{constructor(){}view(){return s.markup("div",{attrs:{},children:[s.markup("h4",{attrs:{style:"text-align:center;padding:1rem;font-family:Arial;line-height:58px;font-size:54px;font-weight:300;"},children:[s.textNode("Todo App")]})]})}};var u=class{constructor(){}slOnDestroy(){console.log("Destroy completed list component")}completeNote(t){let e=s.getState();e.getNotes().forEach(e=>{e===t&&(e.completed=!t.completed)}),s.setState(e),(new a).setNoteCookie(e)}view(){return s.markup("div",{attrs:{id:"divTodoList"},children:[s.markup("div",{attrs:{style:"width:50%;margin:auto;padding:1rem;"},children:[...Array.from(s.getState().getNotes().filter(t=>!!t.completed),t=>s.markup("div",{attrs:{class:"input-group mb-3 animEnter",style:"width:100%;"},children:[s.markup("div",{attrs:{class:"input-group-prepend"},children:[s.markup("div",{attrs:{class:"input-group-text"},children:[s.markup("input",{attrs:{type:"checkbox",...t.completed&&{checked:"true"},onchange:this.completeNote.bind(this,t)}})]})]}),s.markup("input",{attrs:{value:t.text,class:"form-control",...t.completed&&{readonly:"true"}}})]}))]})]})}};var p=class{constructor(){this.routeString=""}slOnInit(){this.performRouteAction(s.getRouteSegments()[0])}routeToAll(){let t=new c;s.mount("divTodoList",t),s.route("all"),s.autoUpdate("divTodoList",t)}routeToCompleted(){let t=new u;s.mount("divTodoList",t),s.route("completed"),s.autoUpdate("divTodoList",t)}performRouteAction(t){switch(this.routeString=t,t){case"all":this.routeToAll();break;case"completed":this.routeToCompleted();break;default:this.routeString="all",this.routeToAll()}}completeNote(t){let e=s.getState();e.getNotes().forEach(e=>{e===t&&(e.completed=!t.completed)}),s.setState(e),(new a).setNoteCookie(e)}view(){return s.markup("ul",{attrs:{class:"nav",style:"width:50%;margin:auto;",id:"navTodoList"},children:[s.markup("li",{attrs:{class:"nav-item"},children:[s.markup("a",{attrs:{..."all"!==this.routeString&&{class:"nav-link"},..."all"===this.routeString&&{class:"nav-link textBold"},onclick:this.performRouteAction.bind(this,"all"),style:"cursor:pointer;"},children:[s.textNode("All")]})]}),s.markup("li",{attrs:{class:"nav-item"},children:[s.markup("a",{attrs:{..."completed"!==this.routeString&&{class:"nav-link"},..."completed"===this.routeString&&{class:"nav-link textBold"},onclick:this.performRouteAction.bind(this,"completed"),style:"cursor:pointer;"},children:[s.textNode("Completed")]})]})]})}};var m=class{constructor(){this.notes=[]}getNotes(){return this.notes}setNotes(t){this.notes=t}addNotes(t){t.notes.forEach(t=>{this.notes.push(t)})}};let h=(new a).getNoteCookie(),g=new m;h.length>0&&g.addNotes(JSON.parse(h)),s.setState(g),s.route("all",{component:new c,root:"divTodoList"}),s.route("completed",{component:new u,root:"divTodoList"});let v=new o;s.mount("divNavbar",v);let k=new l;s.mount("divNoteInput",k);let f=new p;s.mount("divNoteNav",f);let N=new d;s.mount("divTodoHeader",N),s.autoUpdate("navTodoList",f)}]);