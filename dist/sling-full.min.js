new function(e){const t=e.setTimeout;e.setInterval,Sling=s=function(){},s.version="2.0.0",s.changeDetectorParams={CHANGE_STRATEGY_AUTOMATIC:100,CHANGE_STRATEGY_MANUAL:200},Object.seal(s.changeDetectorParams);let n={},o=[],r=new Map,a={segmentArr:[],routeMap:new Map,params:null},i={changeDetectionStrategy:s.changeDetectorParams.CHANGE_STRATEGY_AUTOMATIC};Object.freeze(a),Object.freeze(i);const c=({tagName:e,attrs:t,children:n})=>{let o,r=document.createElement(e);for(let[e,n]of Object.entries(t))"function"==(o=typeof n)?r[e]=n:r.setAttribute(e,n);for(let e of n){let t=l(e);r.appendChild(t)}return r},u=(e,t)=>{if(!t)return e=>{e.remove()};if("string"==typeof e||"string"==typeof t)return e!==t?e=>{let n=l(t);return e.replaceWith(n),n}:e=>void 0;let n=((e,t)=>{let n,o=[];for(let[e,r]of Object.entries(t))"function"==(n=typeof r)?o.push(t=>(t[e]=r,t)):o.push(t=>(t.setAttribute(e,r),t));for(let n in e)n in t||o.push(e=>(e.removeAttribute(n),e));return e=>{for(let t of o)t(e)}})(e.attrs,t.attrs),o=((e,t)=>{let n=[];(e=Array.from(e)).forEach((e,o)=>{n.push(u(e,t[o]))});let o=[];for(let n of t.slice(e.length))"string"!=typeof n&&o.push(e=>(e.appendChild(l(n)),e));return e=>{for(let[t,o]of((e,t)=>{let n=[];for(let o=0;o<Math.max(e.length,t.length);++o)n.push([e[o],t[o]]);return n})(n,e.childNodes))t&&t(o);for(let t of o)t(e);return i.changeDetectionStrategy===s.changeDetectorParams.CHANGE_STRATEGY_AUTOMATIC&&y(e),e}})(e.children,t.children);return e=>(n(e),o(e),e)},l=e=>"string"==typeof e?document.createTextNode(e):c(e),h=()=>{let t=e.location.href.split("#")[1];a.segmentArr.splice(0,a.segmentArr.length),t&&t.split("/").forEach(e=>{a.segmentArr.push(e)})},p=(e,t)=>{let n=(e=>(e.slOnInit&&e.slOnInit(),"string"==typeof(e=e.view())?document.createTextNode(e):c(e)))(t);if(r.set(e.id,t),e.replaceWith(n),t.slAfterInit){let e=setInterval(()=>{t.slAfterInit(),clearInterval(e)},0)}return n};s.setState=e=>{n=e},s.getState=()=>n,s.textNode=e=>String(e),s.markup=(e,{attrs:t={},children:n=[]}={})=>({tagName:e=e.toUpperCase(),attrs:t,children:n}),s.mount=(e,t)=>{let n=e,o=document.getElementById(e);if(null!==o)return p(o,t);throw"Element ID '"+n+"' is invalid."},s.update=(e,t)=>{let n=e=document.getElementById(e),o=t.view.bind(t)();e=u(n,o)(e),n=o},s.getRouteSegments=()=>a.segmentArr,s.getRouteParams=()=>a.params,s.getRoute=()=>e.location.href.split("#")[1],s.addRoute=function(e,t){a.routeMap.set(new RegExp("^"+e.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),t)},s.route=function(t,n={}){a.params=n;let r=null;return a.routeMap.forEach((n,a)=>{if(a.test(t)){if(n.authGuard&&!n.authGuard(a))return n.authFail&&(r=s.route(n.authFail.route,n.authFail.params)),void(t=void 0);o.forEach(e=>{e()}),o=[],e.location.hash=t,h();let i=document.getElementById(n.root);n.component&&(p(i,n.component),n.component.slOnDestroy&&o.push(n.component.slOnDestroy),r=n.component)}}),i.changeDetectionStrategy===s.changeDetectorParams.CHANGE_STRATEGY_AUTOMATIC&&m(),r},s.setDetectionStrategy=function(e){Object.entries(s.changeDetectorParams).forEach(t=>{t[1]===e&&(i.changeDetectionStrategy=e)})},h();let f=e.onpopstate;e.onpopstate=function(e){f&&f(e),s.route(s.getRoute())};const d=(e,t)=>{if(t[e]){let n=t[e];t[e]=function(){let e=n.apply(this,[].slice.call(arguments));return m(),e}}},g=function(e,n){let o;return function(...n){const r=this;clearTimeout(o),o=t(()=>e.apply(r,n),17)}}(()=>{r.forEach((e,t)=>{s.update(t,e)})}),m=()=>{i.changeDetectionStrategy===s.changeDetectorParams.CHANGE_STRATEGY_AUTOMATIC&&g()},y=e=>{["setTimeout","setInterval","onafterprint","onbeforeprint","onbeforeunload","onerror","onhashchange","onload","onmessage","onoffline","ononline","onpagehide","onpageshow","onpopstate","onresize","onstorage","onunload","onblur","onchange","oncontextmenu","onfocus","oninput","oninvalid","onreset","onsearch","onselect","onsubmit","onkeydown","onkeypress","onkeyup","onclick","ondblclick","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onwheel","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onscroll","oncopy","oncut","onpaste","onabort","oncanplay","oncanplaythrough","oncuechange","ondurationchange","onemptied","onended","onloadeddata","onloadedmetadata","onloadstart","onpause","onplay","onplaying","onprogress","onratechange","onseeked","onseeking","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting","ontoggle"].forEach(t=>{d(t,e)})};var b=e.XMLHttpRequest.prototype.send;function b(e){return this.onreadystatechange&&(this._onreadystatechange=this.onreadystatechange),this.onreadystatechange=A,b.apply(this,arguments)}function A(){if(this._onreadystatechange){let e=this._onreadystatechange.apply(this,arguments);return m(),e}}e.XMLHttpRequest.prototype.send=b;const T=e.fetch;e.fetch=function(){let e=T.apply(global,arguments);return m(),e},y(e)}(this),s.request=function(e,t,n={}){var o=new XMLHttpRequest;return new Promise((function(r,s){if(o.onreadystatechange=function(){4===o.readyState&&(o.status>=200&&o.status<300?r(o):s({status:o.status,statusText:o.statusText}))},o.open(t||"GET",e,!0),o.setRequestHeader("Content-Type",n.contentType||"application/json"),o.timeout=n.timeout||0,o.withCredentials=n.withCredentials||!1,n.header)for(let[e,t]of Object.entries(n.headers))o.setRequestHeader(e,t);n.body?o.send(n.body):o.send()}))};const requestWithBody=(e,t,n={})=>{let o={body:n};return s.request(e,t,o)};s.get=(e,t={})=>requestWithBody(e,"GET",t),s.post=(e,t={})=>requestWithBody(e,"POST",t),s.put=(e,t={})=>requestWithBody(e,"PUT",t),s.patch=(e,t={})=>requestWithBody(e,"PATCH",t),s.delete=(e,t={})=>requestWithBody(e,"DELETE",t),s.Observable=e=>{const t=["pop","push","reverse","shift","unshift","splice","sort","map","filter","fill","copyWithin"],n=t.slice(0,6),o={},r=[];let s=e,a=0;const i=function(e){0===a?(r.forEach(t=>{t(e)}),a++):a=0};return o.subscribe=function(e){return r.push(e),s=new Proxy(s,{set:function(e,t,n){return"length"===t?(e[t]=n,!0):!1===isNaN(t)?(e[t]=n,i(e),!0):void 0}}),t.forEach((function(e){Object.defineProperty(s,e,{writable:!0,value:function(){let t=s;return n.indexOf(e)>-1?Array.prototype[e].apply(t,arguments):t=Array.prototype[e].apply(t,arguments),i(t),t}})})),this},o.clearSubscription=function(e){const t=r.filter(t=>t!==e);return this.clearSubscriptions(),r.concat(t),this},o.clearSubscriptions=function(){return r.splice(0,r.length),this},o.getData=function(){return s},o},s.BehaviorSubject=e=>{const t={},n=[];let o=e;return t.subscribe=function(e){return n.push(e),this},t.clearSubscription=function(e){const t=n.filter(t=>t!==e);return this.clearSubscriptions(),n.concat(t),this},t.clearSubscriptions=function(){return n.splice(0,n.length),this},t.next=function(e){return o=e,n.forEach(e=>{e(o)}),this},t.getData=function(){return o},t},s.Stream=()=>{const e=[],t=[],n={},o=[];let r=0;const s=function(){e.forEach(e=>{let n=t.slice(e.end,r),o=n.length;if(o>0){n=e.fn(n),Array.isArray(n)||(n=[n]),t.splice(e.end,n.length,...n);let r=o-n.length;r&&t.splice(t.length-r,r),e.end=t.length}})},a=function(){o.forEach(e=>{e(t)})};return n.push=function(e){return t.push(e),r++,s(),a(),this},n.subscribe=function(e){return o.push(e),this},n.clearSubscription=function(e){const t=o.filter(t=>t!==e);return this.clearSubscriptions(),o.concat(t),this},n.clearSubscriptions=function(){return o.splice(0,o.length),this},n.transform=function(t){return e.push({fn:t,end:0}),s(),a(),this},n.call=function(e){return e(t),this},n.getData=function(){return JSON.parse(JSON.stringify(t))},n.clearTransformers=function(){return e.splice(0,e.length),this},n.from=function(e){return t.splice(0,t.length),e.forEach(e=>{t.push(e)}),r=t.length,s(),a(),this},n};