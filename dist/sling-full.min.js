new function(t){const e=t.setTimeout,n=t.setInterval;Sling=s=function(){},s.version="2.0.4",s.detachedSetTimeout=e.bind(t),s.detachedSetInterval=n.bind(t),s.CHANGE_STRATEGY_AUTOMATIC=100,s.CHANGE_STRATEGY_MANUAL=200,s.CHANGE_DETECTOR_DETACHED=!1,s.CHANGE_DETECTOR_ATTACHED=!0,s.changeStrategies=[s.CHANGE_STRATEGY_AUTOMATIC,s.CHANGE_STRATEGY_MANUAL];let o={},r=[],a=new Map,i={segmentArr:[],routeMap:new Map,params:null},u={lastUpdateDate:new Date,changeDetectionStrategy:s.CHANGE_STRATEGY_AUTOMATIC};Object.freeze(i),Object.freeze(u);const c=({tagName:t,attrs:e,children:n})=>{let o,r=document.createElement(t);for(let[t,n]of Object.entries(e))"function"==(o=typeof n)?r[t]=n:r.setAttribute(t,n);for(let t of n){let e=h(t);r.appendChild(e)}return r},l=(t,e)=>{if(!e)return t=>{t.remove()};if("string"==typeof t||"string"==typeof e)return t!==e?t=>{let n=h(e);return t.replaceWith(n),n}:t=>void 0;if(e.attrs.slUseExisting)return t=>t;let n=((t,e)=>{let n,o=[];for(let n of t)e[n.name]||o.push(t=>(t.setAttribute(n.name,""),t));for(let[t,r]of Object.entries(e))"function"==(n=typeof r)?o.push(e=>(e[t]=r,e)):o.push(e=>(e.setAttribute(t,r),e));for(let n in t)n in e||o.push(t=>(t.removeAttribute(n),t));return t=>{for(let e of o)e(t)}})(t.attributes,e.attrs),o=((t,e)=>{let n=[];(t=Array.from(t)).forEach((t,o)=>{n.push(l(t,e[o]))});let o=[];for(let n of e.slice(t.length))"string"==typeof n?o.push(t=>(t.textContent!==n&&(t.textContent=n),t)):o.push(t=>(t.appendChild(h(n)),t));return t=>{for(let[e,o]of((t,e)=>{let n=[];for(let o=0;o<Math.max(t.length,e.length);++o)n.push([t[o],e[o]]);return n})(n,t.childNodes))e&&e(o);for(let e of o)e(t);return u.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&T(t),t}})(t.children,e.children);return t=>(n(t),o(t),t)},h=t=>"string"==typeof t?document.createTextNode(t):c(t),p=()=>{let e=t.location.href.split("#")[1];i.segmentArr.splice(0,i.segmentArr.length),e&&e.split("/").forEach(t=>{i.segmentArr.push(t)})},f=(t,e,n)=>{let o=t.id,r=(t=>(t.slOnInit&&t.slOnInit(),"string"==typeof(t=t.view())?document.createTextNode(t):c(t)))(e);if(n&&a.set(t.id,e),t.replaceWith(r),t.id!==o&&(console.warn('Mounted component root element ID set to: "'+o+'"'),t.id=o),e.slAfterInit){let t=setInterval(()=>{e.slAfterInit(),A(),clearInterval(t)},0)}return r};s.setState=t=>{o=t},s.getState=()=>o,s.textNode=t=>String(t),s.markup=(t,{attrs:e={},children:n=[]}={})=>({tagName:t=t.toUpperCase(),attrs:e,children:n}),s.mount=(t,e,n=!0)=>{let o=t,r=document.getElementById(t);if(null!==r)return f(r,e,n);throw"Element ID '"+o+"' is invalid."},s.update=(t,e)=>{t=document.getElementById(t);let n=e.view.bind(e)();t=l(t,n)(t)},s.getRouteSegments=()=>i.segmentArr,s.getRouteParams=()=>i.params,s.getRoute=()=>t.location.href.split("#")[1],s.addRoute=function(t,e){i.routeMap.set(new RegExp("^"+t.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),e)},s.route=function(e,n={}){i.params=n;let o=null;return i.routeMap.forEach((n,a)=>{if(a.test(e)){if(n.authGuard&&!n.authGuard(a))return n.authFail&&(o=s.route(n.authFail.route,n.authFail.params)),void(e=void 0);r.forEach(t=>{t()}),r=[],t.location.hash=e,p();let i=document.getElementById(n.root);n.component&&(f(i,n.component),n.component.slOnDestroy&&r.push(n.component.slOnDestroy),o=n.component)}}),u.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&A(),o},s.setDetectionStrategy=function(t){s.changeStrategies.forEach(e=>{e[1]===t&&(u.changeDetectionStrategy=t)})},s.detectChanges=()=>{m()},s.isDetectorAttached=t=>a.has(t),s.detachDetector=t=>{a.delete(t)},p();let d=t.onpopstate;t.onpopstate=function(t){d&&d(t),s.route(s.getRoute())};const g=(t,e)=>{if(e[t]){let n=e[t];e[t]=function(){let t=n.apply(this,[].slice.call(arguments));return A(),t}}},m=()=>{a.forEach((t,e)=>{s.update(e,t)})},y=function(t,n){let o;return function(...n){const r=this;clearTimeout(o),o=e(()=>t.apply(r,n),17)}}(m),A=()=>{u.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&(new Date-u.lastUpdateDate>17?m():y(),u.lastUpdateDate=new Date)},T=t=>{["setTimeout","setInterval","onafterprint","onbeforeprint","onbeforeunload","onerror","onhashchange","onload","onmessage","onoffline","ononline","onpagehide","onpageshow","onpopstate","onresize","onstorage","onunload","onblur","onchange","oncontextmenu","onfocus","oninput","oninvalid","onreset","onsearch","onselect","onsubmit","onkeydown","onkeypress","onkeyup","onclick","ondblclick","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onwheel","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onscroll","oncopy","oncut","onpaste","onabort","oncanplay","oncanplaythrough","oncuechange","ondurationchange","onemptied","onended","onloadeddata","onloadedmetadata","onloadstart","onpause","onplay","onplaying","onprogress","onratechange","onseeked","onseeking","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting","ontoggle"].forEach(e=>{g(e,t)})};var E=t.XMLHttpRequest.prototype.send;function b(){if(this._onreadystatechange){let t=this._onreadystatechange.apply(this,arguments);return A(),t}}t.XMLHttpRequest.prototype.send=function(t){return this.onreadystatechange&&(this._onreadystatechange=this.onreadystatechange),this.onreadystatechange=b,E.apply(this,arguments)};const S=t.fetch;t.fetch=function(){let t=S.apply(global,arguments);return A(),t},T(t)}(this),s.request=function(t,e,n={}){var o=new XMLHttpRequest;return new Promise((function(r,s){if(o.onreadystatechange=function(){4===o.readyState&&(o.status>=200&&o.status<300?r(o):s({status:o.status,statusText:o.statusText}))},o.open(e||"GET",t,!0),o.setRequestHeader("Content-Type",n.contentType||"application/json"),o.timeout=n.timeout||0,o.withCredentials=n.withCredentials||!1,n.header)for(let[t,e]of Object.entries(n.headers))o.setRequestHeader(t,e);n.body?o.send(n.body):o.send()}))};const requestWithBody=(t,e,n={})=>{let o={body:n};return s.request(t,e,o)};s.get=(t,e={})=>requestWithBody(t,"GET",e),s.post=(t,e={})=>requestWithBody(t,"POST",e),s.put=(t,e={})=>requestWithBody(t,"PUT",e),s.patch=(t,e={})=>requestWithBody(t,"PATCH",e),s.delete=(t,e={})=>requestWithBody(t,"DELETE",e),s.Observable=t=>{const e=["pop","push","reverse","shift","unshift","splice","sort","map","filter","fill","copyWithin"],n=e.slice(0,6),o={},r=[];let s=t,a=0;const i=function(t){0===a?(r.forEach(e=>{e(t)}),a++):a=0};return o.subscribe=function(t){return r.push(t),s=new Proxy(s,{set:function(t,e,n){return"length"===e?(t[e]=n,!0):!1===isNaN(e)?(t[e]=n,i(t),!0):void 0}}),e.forEach((function(t){Object.defineProperty(s,t,{writable:!0,value:function(){let e=s;return n.indexOf(t)>-1?Array.prototype[t].apply(e,arguments):e=Array.prototype[t].apply(e,arguments),i(e),e}})})),this},o.clearSubscription=function(t){const e=r.filter(e=>e!==t);return this.clearSubscriptions(),r.concat(e),this},o.clearSubscriptions=function(){return r.splice(0,r.length),this},o.getData=function(){return s},o},s.BehaviorSubject=t=>{const e={},n=[];let o=t;return e.subscribe=function(t){return n.push(t),this},e.clearSubscription=function(t){const e=n.filter(e=>e!==t);return this.clearSubscriptions(),n.concat(e),this},e.clearSubscriptions=function(){return n.splice(0,n.length),this},e.next=function(t){return o=t,n.forEach(t=>{t(o)}),this},e.getData=function(){return o},e},s.Stream=()=>{const t=[],e=[],n={},o=[];let r=0;const s=function(){t.forEach(t=>{let n=e.slice(t.end,r),o=n.length;if(o>0){n=t.fn(n),Array.isArray(n)||(n=[n]),e.splice(t.end,n.length,...n);let r=o-n.length;r&&e.splice(e.length-r,r),t.end=e.length}})},a=function(){o.forEach(t=>{t(e)})};return n.push=function(t){return e.push(t),r++,s(),a(),this},n.subscribe=function(t){return o.push(t),this},n.clearSubscription=function(t){const e=o.filter(e=>e!==t);return this.clearSubscriptions(),o.concat(e),this},n.clearSubscriptions=function(){return o.splice(0,o.length),this},n.transform=function(e){return t.push({fn:e,end:0}),s(),a(),this},n.call=function(t){return t(e),this},n.getData=function(){return JSON.parse(JSON.stringify(e))},n.clearTransformers=function(){return t.splice(0,t.length),this},n.from=function(t){return e.splice(0,e.length),t.forEach(t=>{e.push(t)}),r=e.length,s(),a(),this},n};