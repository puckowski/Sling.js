new function(t){let e={},n=new Map,r=[],o={segmentArr:[],routeMap:new Map,params:null};Sling=s=function(){},s.version=1.5;const i=({tagName:t,attrs:e,children:n})=>{let r,s=document.createElement(t);for(let[t,n]of Object.entries(e))"function"==(r=typeof n)?s[t]=n:s.setAttribute(t,n);for(let t of n){let e=u(t);s.appendChild(e)}return s},l=(t,e)=>{if(!e)return t=>{t.remove()};if("string"==typeof t||"string"==typeof e)return t!==e?t=>{let n=u(e);return t.replaceWith(n),n}:t=>void 0;if(t.tagName!==e.tagName)return t=>{let n=u(e);return t.replaceWith(n),n};let n=((t,e,n,r)=>{let s,o,i,l=[];if(n===r)for(let[t,n]of Object.entries(e))"function"==(s=typeof n)?l.push(e=>(e[t]=n,e)):l.push(e=>(o=e.hasAttribute(t),i=e.getAttribute(t),o&&i!==n?e.setAttribute(t,n):o||e.setAttribute(t,n),e));else{for(let[t,n]of Object.entries(e))"function"==(s=typeof n)?l.push(e=>(e[t]=n,e)):l.push(e=>(e.setAttribute(t,n),e));for(let n in t)n in e||l.push(t=>(t[n]=!1,t.removeAttribute(n),t))}return t=>{for(let e of l)e(t)}})(t.attrs,e.attrs,t.attrsStr,e.attrsStr),r=((t,e)=>{let n=[];t.forEach((t,r)=>{n.push(l(t,e[r]))});let r=[];for(let n of e.slice(t.length))r.push(t=>(t.appendChild(u(n)),t));return t=>{for(let[e,r]of((t,e)=>{let n=[];for(let r=0;r<Math.max(t.length,e.length);++r)n.push([t[r],e[r]]);return n})(n,t.childNodes))e(r);for(let e of r)e(t);return t}})(t.children,e.children);return t=>(n(t),r(t),t)},u=t=>"string"==typeof t?document.createTextNode(t):i(t),a=()=>{let e=t.location.href.split("#")[1];e&&(o.segmentArr=e.split("/"))},d=(t,e)=>{let n=(t=>(t.slOnInit&&t.slOnInit(),"string"==typeof(t=t.view())?document.createTextNode(t):i(t)))(e);return t.replaceWith(n),n};s.setState=t=>{e=t},s.getState=()=>e,s.textNode=t=>String(t),s.markup=(t,{attrs:e={},children:n=[]}={})=>{let r="";for(let[t,n]of Object.entries(e))r+=t+n;return{tagName:t,attrs:e,children:n,attrsStr:r}},s.mount=(t,e)=>{let n=t,r=document.getElementById(t);if(null!==r)return d(r,e);throw"Element ID '"+n+"' is invalid."},s.update=(t,e)=>{t=document.getElementById(t);let n=e.view.bind(e)();t=l(t,n)(t),t=n},s.clearAutoUpdate=t=>{let e=t;if(null===(t=document.getElementById(t)))throw"Element ID '"+e+"' is invalid.";n.has(t.id)&&(clearInterval(n.get(t.id)),n.delete(t.id))},s.autoUpdate=(t,e,r=17)=>{let s=t=document.getElementById(t),o=e.view.bind(e)(),i=l(s,o);t=i(t),s=o;let u=setInterval(()=>{let n=e.view.bind(e)(),r=l(s,n);t=r(t),s=n},r);n.has(t.id)&&(clearInterval(n.get(t.id)),n.delete(t.id)),n.set(t.id,u)},s.getRouteSegments=()=>o.segmentArr,s.getRouteParams=()=>o.params,s.getRoute=()=>t.location.href.split("#")[1],s.addRoute=function(t,e){o.routeMap.set(new RegExp("^"+t.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),e)},s.route=function(e,i={}){o.params=i,o.routeMap.forEach((o,i)=>{if(i.test(e)){r.forEach(t=>{t()}),r=[],t.location.hash=e,a();let i=document.getElementById(o.root),l=!1;n.has(i.id)&&(clearInterval(n.get(i.id)),n.delete(i.id),l=!0),d(i,o.component),o.component.slOnDestroy&&r.push(o.component.slOnDestroy),l&&s.autoUpdate(o.root,o.component)}})},a()}(this),s.request=function(t,e,n={}){var r=new XMLHttpRequest;return new Promise((function(s,o){if(r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?s(r):o({status:r.status,statusText:r.statusText}))},r.open(e||"GET",t,!0),r.setRequestHeader("Content-Type",n.contentType||"application/json"),r.timeout=n.timeout||0,r.withCredentials=n.withCredentials||!1,n.header)for(let[t,e]of Object.entries(n.headers))r.setRequestHeader(t,e);n.body?r.send(n.body):r.send()}))};const requestWithBody=(t,e,n={})=>{let r={body:n};return s.request(t,e,r)};s.get=(t,e={})=>requestWithBody(t,"GET",e),s.post=(t,e={})=>requestWithBody(t,"POST",e),s.put=(t,e={})=>requestWithBody(t,"PUT",e),s.patch=(t,e={})=>requestWithBody(t,"PATCH",e),s.delete=(t,e={})=>requestWithBody(t,"DELETE",e),s.stream=()=>{const t=[],e=[],n={};let r=0;const s=function(){t.forEach(t=>{let n=e.slice(t.end,r),s=n.length;if(s>0){n=t.fn(n),Array.isArray(n)||(n=[n]),e.splice(t.end,n.length,...n);let r=s-n.length;r&&e.splice(e.length-r,r),t.end=e.length}})};return n.push=function(t){return e.push(t),r++,s(),this},n.transform=function(e){return t.push({fn:e,end:0}),s(),this},n.call=function(t){return t(e),this},n.getData=function(){return JSON.parse(JSON.stringify(e))},n.clearTransformers=function(){return t.splice(0,t.length),this},n.from=function(t){return e.splice(0,e.length),t.forEach(t=>{e.push(t)}),r=e.length,s(),this},n};