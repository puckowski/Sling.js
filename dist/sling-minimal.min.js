new function(t){const e=t.setTimeout,n=t.setInterval;Sling=s=function(){},s.version="2.0.5",s.detachedSetTimeout=e.bind(t),s.detachedSetInterval=n.bind(t),s.CHANGE_STRATEGY_AUTOMATIC=100,s.CHANGE_STRATEGY_MANUAL=200,s.CHANGE_DETECTOR_DETACHED=!1,s.CHANGE_DETECTOR_ATTACHED=!0,s.changeStrategies=[s.CHANGE_STRATEGY_AUTOMATIC,s.CHANGE_STRATEGY_MANUAL];let r={},o=[],a=new Map,l={segmentArr:[],routeMap:new Map,params:null},i={lastUpdateDate:new Date,changeDetectionStrategy:s.CHANGE_STRATEGY_AUTOMATIC};Object.freeze(l),Object.freeze(i);const u=({tagName:t,attrs:e,children:n})=>{let r,o=document.createElement(t);for(let[t,n]of Object.entries(e))"function"===(r=typeof n)?o[t]=n:o.setAttribute(t,n);for(let t of n){let e=f(t);o.appendChild(e)}return o},c=(t,e)=>{let n=[];(t=Array.from(t)).forEach((t,r)=>{n.push(p(t,e[r]))});let r=[];for(let n of e.slice(t.length))"string"==typeof n?r.push(t=>(t.textContent!==n&&(t.textContent=n),t)):r.push(t=>(t.appendChild(f(n)),t));return t=>{for(let[e,r]of((t,e)=>{let n=[];for(let r=0;r<Math.max(t.length,e.length);++r)n.push([t[r],e[r]]);return n})(n,t.childNodes))e&&e(r);for(let e of r)e(t);return i.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&proxyAllEvents(t),t}},p=(t,e)=>{if(!e)return t=>{t.remove()};if("string"==typeof t||"string"==typeof e)return t!==e?t=>{let n=f(e);return t.replaceWith(n),n}:t=>void 0;if(e.attrs.slUseExisting)return t=>t;let n=((t,e)=>{let n,r=[];for(let n of t)e[n.name]||r.push(t=>(t.setAttribute(n.name,""),t));for(let[t,o]of Object.entries(e))"function"===(n=typeof o)?r.push(e=>(e[t]=o,e)):r.push(e=>(e.setAttribute(t,o),e));for(let n in t)n in e||r.push(t=>(t.removeAttribute(n),t));return t=>{for(let e of r)e(t)}})(t.attributes,e.attrs),r=c(t.children,e.children);return t=>(n(t),r(t),t)},f=t=>"string"==typeof t?document.createTextNode(t):u(t),d=()=>{let e=t.location.href.split("#")[1];if(l.segmentArr.splice(0,l.segmentArr.length),e){e.split("/").forEach(t=>{l.segmentArr.push(t)})}},h=(t,e,n)=>{let r=t.id,o=(t=>(t.slOnInit&&t.slOnInit(),"string"==typeof(t=t.view())?document.createTextNode(t):u(t)))(e);if(n&&a.set(t.id,e),t.replaceWith(o),t.id!==r&&(console.warn('Mounted component root element ID set to: "'+r+'"'),t.id=r),e.slAfterInit){let t=setInterval(()=>{e.slAfterInit(),clearInterval(t)},0)}return o};s.setState=t=>{r=t},s.getState=()=>r,s.textNode=t=>String(t),s.markup=(t,{attrs:e={},children:n=[]}={})=>({tagName:t=t.toUpperCase(),attrs:e,children:n}),s.mount=(t,e,n=!0)=>{let r=t,o=document.getElementById(t);if(null!==o)return h(o,e,n);throw"Element ID '"+r+"' is invalid."},s.update=(t,e)=>{t=document.getElementById(t);let n=e.view.bind(e)();t=p(t,n)(t)},s.getRouteSegments=()=>l.segmentArr,s.getRouteParams=()=>l.params,s.getRoute=()=>t.location.href.split("#")[1],s.addRoute=function(t,e){l.routeMap.set(new RegExp("^"+t.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),e)},s.route=function(e,n={}){l.params=n;let r=null;return l.routeMap.forEach((n,a)=>{if(a.test(e)){if(n.authGuard&&!n.authGuard(a))return n.authFail&&(r=s.route(n.authFail.route,n.authFail.params)),void(e=void 0);o.forEach(t=>{t()}),o=[],t.location.hash=e,d();let l=document.getElementById(n.root);n.component&&(h(l,n.component),n.component.slOnDestroy&&o.push(n.component.slOnDestroy),r=n.component)}}),r},d();let A=t.onpopstate;t.onpopstate=function(t){A&&A(t),s.route(s.getRoute())}}(this);