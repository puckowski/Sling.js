let modInitRtr=!1;s._rtr||(s._rtr=1,modInitRtr=!0,s._router={segmentArr:[],routeMap:new Map,params:null},Object.seal(s._router));export function initializeRouter(){}const setUrlSegments=()=>{let t=window.location.href.split("#")[1];if(s._router.segmentArr.splice(0,s._router.segmentArr.length),t){t.split("/").forEach(t=>{s._router.segmentArr.push(t)})}};export function getRouteSegments(){return s._router.segmentArr}export function getRouteParams(){return s._router.params}export function getRoute(){return window.location.href.split("#")[1]}modInitRtr&&(s._getRoute=getRoute);export function addRoute(t,e){s._router.routeMap.set(new RegExp("^"+t.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),e)}export function route(t,e={},r=!0){s._router.params=e;let o=null;return s._router.routeMap.forEach((e,n)=>{if(n.test(t)){if(e.authGuard&&!e.authGuard(n))return e.authFail&&(o=s._route(e.authFail.route,e.authFail.params)),void(t=void 0);s._destroyFuncArr.forEach(t=>{t()}),s._destroyFuncArr=[],window.location.hash=t,setUrlSegments();let u=document.getElementById(e.root);e.component&&(s._mountInternal(u,e.component,r),e.component.slOnDestroy&&s._destroyFuncArr.push(e.component.slOnDestroy),o=e.component)}}),s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&s._performChangeDetection(),o}modInitRtr&&(s._route=route),modInitRtr&&setUrlSegments();