let modInitRtr=!1;s._rtr||(s._rtr=1,modInitRtr=!0,s.router={segmentArr:[],routeMap:new Map,params:null},Object.seal(s.router));export function initializeRouter(){}const setUrlSegments=()=>{let t=window.location.href.split("#")[1];if(s.router.segmentArr.splice(0,s.router.segmentArr.length),t){t.split("/").forEach(t=>{s.router.segmentArr.push(t)})}};export function getRouteSegments(){return s.router.segmentArr}export function getRouteParams(){return s.router.params}export function getRoute(){return window.location.href.split("#")[1]}modInitRtr&&(s.getRoute=getRoute);export function addRoute(t,e){s.router.routeMap.set(new RegExp("^"+t.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),e)}export function route(t,e={},r=!0){s.router.params=e;let o=null;return s.router.routeMap.forEach((e,n)=>{if(n.test(t)){if(e.authGuard&&!e.authGuard(n))return e.authFail&&(o=s.route(e.authFail.route,e.authFail.params)),void(t=void 0);s.destroyFuncArr.forEach(t=>{t()}),s.destroyFuncArr=[],window.location.hash=t,setUrlSegments();let u=document.getElementById(e.root);e.component&&(s._mountInternal(u,e.component,r),e.component.slOnDestroy&&s.destroyFuncArr.push(e.component.slOnDestroy),o=e.component)}}),s.changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&s._performChangeDetection(),o}modInitRtr&&(s.route=route),modInitRtr&&setUrlSegments();