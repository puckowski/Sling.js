let modInitCdr=!1;s._cdr||(s._cdr=1,modInitCdr=!0,s.CHANGE_STRATEGY_AUTOMATIC=100,s.CHANGE_STRATEGY_MANUAL=200,s.CHANGE_DETECTOR_DETACHED=!1,s.CHANGE_DETECTOR_ATTACHED=!0,s.changeStrategies=[s.CHANGE_STRATEGY_AUTOMATIC,s.CHANGE_STRATEGY_MANUAL],s.changeDetector={lastUpdateDate:new Date,changeDetectionStrategy:s.CHANGE_STRATEGY_AUTOMATIC},Object.seal(s.changeDetector));export function initializeChangeDetector(){}export function setDetectionStrategy(e){s.changeStrategies.forEach(n=>{n[1]===e&&(s.changeDetector.changeDetectionStrategy=e)})}export function detectChanges(){performChangeUpdates()}export function isDetectorAttached(e){return s.updateMap.has(e)}export function detachDetector(e){s.updateMap.delete(e)}const proxyEventForChangeDetection=(e,n)=>{if(n[e]){let t=n[e];n[e]=function(){let e=t.apply(this,[].slice.call(arguments));return s._performChangeDetection(),e}}};function debounce(e,n){let t;return function(...o){const a=this;clearTimeout(t),t=s.detachedSetTimeout(()=>e.apply(a,o),n)}}const performChangeUpdates=()=>{s.updateMap.forEach((e,n)=>{s.update(n,e)})};modInitCdr&&(s._debouncedPerformUpdates=debounce(performChangeUpdates,17));const _performChangeDetection=()=>{if(s.changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC)return;new Date-s.changeDetector.lastUpdateDate>17?performChangeUpdates():s._debouncedPerformUpdates(),s.changeDetector.lastUpdateDate=new Date};if(modInitCdr&&(s._performChangeDetection=_performChangeDetection),modInitCdr){const e=e=>{["setTimeout","setInterval","onafterprint","onbeforeprint","onbeforeunload","onerror","onhashchange","onload","onmessage","onoffline","ononline","onpagehide","onpageshow","onpopstate","onresize","onstorage","onunload","onblur","onchange","oncontextmenu","onfocus","oninput","oninvalid","onreset","onsearch","onselect","onsubmit","onkeydown","onkeypress","onkeyup","onclick","ondblclick","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onwheel","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onscroll","oncopy","oncut","onpaste","onabort","oncanplay","oncanplaythrough","oncuechange","ondurationchange","onemptied","onended","onloadeddata","onloadedmetadata","onloadstart","onpause","onplay","onplaying","onprogress","onratechange","onseeked","onseeking","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting","ontoggle"].forEach(n=>{proxyEventForChangeDetection(n,e)})};s._proxyAllEvents=e}if(modInitCdr){var xhrSendProxy=window.XMLHttpRequest.prototype.send;function xhrSend(e){return this.onreadystatechange&&(this._onreadystatechange=this.onreadystatechange),this.onreadystatechange=xhrOnReadyStateChangeProxy,xhrSendProxy.apply(this,arguments)}function xhrOnReadyStateChangeProxy(){if(this._onreadystatechange){let e=this._onreadystatechange.apply(this,arguments);return s._performChangeDetection(),e}}window.XMLHttpRequest.prototype.send=xhrSend;const e=window.fetch;window.fetch=function(){let n=e.apply(this,arguments);return s._performChangeDetection(),n},s._proxyAllEvents(window)}