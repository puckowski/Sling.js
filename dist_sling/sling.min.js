const e="undefined"!=typeof window;var n=e?window:global;e||(n.setTimeout=()=>{},n.setInterval=()=>{},n.location={},n.location.href="",n.fetch=()=>{},n.XMLHttpRequest={},n.XMLHttpRequest.prototype={},n.XMLHttpRequest.prototype.send=()=>{}),n.s=function(){},s._state={},s._destroyFuncMap=new Map,s._updateMap=new Map,s._afterInitArr=[],s._destroyNodeMap=new Map,s._structureForMap=new Map,s._isAnimatingKeyed=null,s._scopedCssSet=new Set;const r=({tagName:e,attrs:n,children:o,model:l},i)=>{let a,u="<"+(e=e.toLowerCase()),c=null;for(let[e,r]of Object.entries(n))if(a=typeof r,u+="function"===a?" "+e+'=""':" "+e+'="'+r+'"',"slfor"===e){const e=r.split(":");if(e.length>=4){s._structureForMap.has(e[0])||s._structureForMap.set(e[0],L(null,l[e[2]]));const n=s._structureForMap.get(e[0]);c=k.bind(l,n,l[e[1]],l[e[3]])()}}else if("slfornamed"===e){const e=r.split(":");if(e.length>=4){let n,r,o,i;for(let s of Object.keys(l))i=l[s],i.slfor===e[2]?n=i:i.slfor===e[1]?o=i:i.slfor===e[3]&&(r=i);for(let s of D(l))i=l[s],i.slfor===e[2]?n=i:i.slfor===e[1]?o=i:i.slfor===e[3]&&(r=i);o=o.bind(l),s._structureForMap.has(e[0])||s._structureForMap.set(e[0],L(null,n));const a=s._structureForMap.get(e[0]);c=k.bind(l,a,o,r)()}}u+=">",null!==c&&c.forEach(e=>{u+=r(e,i)});for(let e of o)e.view?(e.slOnInit&&(e.slOnInit(),i.push(e)),e=e.view.bind(e)(),u+=r(e,i)):u+="string"==typeof e?e:r(e,i);return u+="</"+e+">"},o=(e,n)=>{const s=[];let r;for(s.push(e);s.length>0;)if(r=s.shift(),r.attrs&&(r.attrs.slfor||r.attrs.slfornamed)&&(r.model=n),r.children)for(let e=r.children.length-1;e>=0;--e)s.push(r.children[e])},l=e=>{const n=[];let r,o;for(n.push(e);n.length>0;)if(r=n.shift(),3!==r.nodeType&&(r.hasAttribute("slfor")?(o=r.getAttribute("slfor"),o=o.split(":"),o.length>0&&s._structureForMap.delete(o[0])):r.hasAttribute("slfornamed")&&(o=r.getAttribute("slfornamed"),o=o.split(":"),o.length>0&&s._structureForMap.delete(o[0])),r.children))for(let e=r.children.length-1;e>=0;--e)n.push(r.children[e])};export function renderElementWithoutClass(e,n,r){let o,l,i;o=n&&n.slns?document.createElementNS(n.slns,e.toLowerCase()):document.createElement(e);for(let e of Object.keys(n))if(i=n[e],l=typeof i,"function"===l)o[e]=i,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||i.name.startsWith("bound slDetached")||i.name.startsWith("slDetached")||H(e,o);else if("slnsfor"===e){const e=JSON.parse(n.slnsfor);for(const[n,s]of Object.entries(e))o.setAttributeNS(s.namespace,n,s.value)}else o.setAttribute(e,i);for(let e of r)o.append(e);return o}export function renderElement({tagName:e,attrs:n,children:r},o=!1){let l,i;l=n&&n.slns?document.createElementNS(n.slns,e.toLowerCase()):document.createElement(e);for(let[e,r]of Object.entries(n))if(i=typeof r,"function"===i)l[e]=r,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||r.name.startsWith("bound slDetached")||r.name.startsWith("slDetached")||H(e,l);else if("slnsfor"===e){const e=JSON.parse(n.slnsfor);for(const[n,s]of Object.entries(e))l.setAttributeNS(s.namespace,n,s.value)}else l.setAttribute(e,r);for(let e of r)"string"==typeof e?l.append(e):e.view?o?u(e,l):c(e,l):l.appendChild(renderElement(e,o));return l}const i=({tagName:e,attrs:n,children:r})=>{let o,l;o=n&&n.slns?document.createElementNS(n.slns,e.toLowerCase()):document.createElement(e);for(let[e,r]of Object.entries(n))if(l=typeof r,"function"===l)o[e]=r,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||r.name.startsWith("bound slDetached")||r.name.startsWith("slDetached")||H(e,o);else if("slnsfor"===e){const e=JSON.parse(n.slnsfor);for(const[n,s]of Object.entries(e))o.setAttributeNS(s.namespace,n,s.value)}else o.setAttribute(e,r);for(let e of r)"string"==typeof e?o.append(e):e.view?c(e,o):o.appendChild(i(e));return o},a=(e,n)=>{e.slKeyList=[],e.slNamespace={};for(const s in n)e.slNamespace[s]=n[s],e.slKeyList.push(s)},u=(e,n)=>{e=f(e,!0,!0,!0).view;const s=i(e);n.appendChild(s)},c=(e,n,r=!1)=>{Object.getPrototypeOf(e).slDirty=!0;const o=e,l=f(e,!0,!0,!0);e=l.view,l.afterInit&&s._afterInitArr.push(l.afterInit);const u=i(e);if(l.scopedCss){const e=w(l.model,l.model.slStyle());y(u,e),u.slScopedCss=!0}l.onInit&&(u.slOnInit=!0),d(u,l.destroyIndex,l.onDestroy,l.slUnboundOnDestroy),p(u),n.appendChild(u),a(u,o),r&&C(u,e,l.model)},d=(e,n,s,r)=>{e.slOnDestroy=!0,e.slOnDestroyIndex=n,e.slOnDestroyFn=s,e.slAfterInit=!0,e.slOnInit=!0,e.slUnboundOnDestroy=r},f=(e,n,r,l=!1,i=null)=>{if(r&&e.slOnInit&&(e.slOnInit(),i&&(i.slOnInit=!0)),i&&i.slKeyList)for(const n of i.slKeyList)void 0===e[n]?e[n]=i.slNamespace[n]:i.slNamespace[n]=e[n];let a=null;if(n&&e.slOnDestroy){let n=s._destroyFuncMap.get(s._router.mountRoute);n||(n=[]),n.push(e.slOnDestroy.bind(e)),s._destroyFuncMap.set(s._router.mountRoute,n),a=n.length-1}const u=e.view.bind(e)();return o(u,e),{view:u,afterInit:e.slAfterInit?e.slAfterInit.bind(e):null,onDestroy:n&&!l||!e.slOnDestroy?null:e.slOnDestroy.bind(e),onInit:!r&&e.slOnInit?e.slOnInit:null,destroyIndex:a,model:e,scopedCss:e.slStyle?e.slStyle.bind(e):null,slUnboundOnDestroy:e.slOnDestroy,slUnboundAfterInit:e.slAfterInit,slUnboundOnInit:e.slOnInit}},p=e=>{if(e&&null!==e.slOnDestroyIndex&&void 0!==e.slOnDestroyIndex&&!e.slOnDestroyRoute){let n=s._destroyNodeMap.get(s._router.mountRoute);n||(n=[]);n.find(n=>n.slOnDestroyIndex===e.slOnDestroyIndex)||n.push(e),s._destroyNodeMap.set(s._router.mountRoute,n),e.slOnDestroyRoute=s._router.mountRoute}},h=e=>{if(e&&e.slOnDestroy){let n=s._destroyFuncMap.get(s._router.mountRoute);n||(n=[]),n.splice(e.slOnDestroyIndex,1),s._destroyFuncMap.set(s._router.mountRoute,n);let r=s._destroyNodeMap.get(s._router.mountRoute);r||(r=[]),r.forEach(n=>{n.slOnDestroyIndex>e.slOnDestroyIndex&&n.slOnDestroyIndex--}),r=r.filter(n=>n.slOnDestroyIndex!==e.slOnDestroyIndex),s._destroyNodeMap.set(s._router.mountRoute,r)}},g=e=>{if(e&&e.children&&e.children.length>0){for(const n of e.children)g(n);e.slOnDestroyFn&&(e.slOnDestroyFn(),e.slOnDestroyFn=void 0,e.slUnboundOnDestroy=void 0,e.slAfterInit=!1,e.slOnInit=!1)}else e.slOnDestroyFn&&(e.slOnDestroyFn(),e.slOnDestroyFn=void 0,e.slUnboundOnDestroy=void 0,e.slAfterInit=!1,e.slOnInit=!1)},y=(e,n)=>{if(e.setAttribute(n,""),e.children&&e.children.length>0)for(const s of e.children)y(s,n)},_=(e,n,r)=>{e.slOnDestroy=!0;let o=s._destroyFuncMap.get(s._router.mountRoute);o||(o=[]),o.push(n),s._destroyFuncMap.set(s._router.mountRoute,o),e.slOnDestroyIndex=o.length-1,e.slOnDestroyFn=n,e.slUnboundOnDestroy=r,p(e)},A=(e,n,r)=>{let o;const l=[];for(let e of n){let n=r[e.name];n?n.length===e.nodeValue.length&&n===e.nodeValue&&delete r[e.name]:e.name.startsWith("slcss-")||l.push(e.nodeName)}l.forEach(n=>{e.removeAttribute(n)}),void 0!==r.slref&&(e.slref=e);const i=r.slpreventdefault;let a=!1;for(let[n,l]of Object.entries(r))if(o=typeof l,"function"===o){if(void 0!==i){let s=n;s.startsWith("on")&&(s=s.substring(2,s.length));const r=e[n];if(r){(Array.isArray(r)?r:[r]).forEach(n=>{e.removeEventListener(s,n)})}e.addEventListener(s,(function(e){e.preventDefault()})),a=!0}e[n]=l,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||l.name.startsWith("bound slDetached")||l.name.startsWith("slDetached")||H(n,e)}else if("slnsfor"===n){const n=JSON.parse(r.slnsfor);for(const[s,r]of Object.entries(n))e.setAttributeNS(r.namespace,s,r.value)}else e.setAttribute(n,l);a||(void 0!==i||n.slpreventdefault)&&S([e])},b=(e,n,r)=>{const o=n.length,u=new Set;let d=0;for(let e=n.length-1;e>=0;--e){let o=null,l=null;if(r[e]&&(n[e].slUnboundOnDestroy!==r[e].slOnDestroy&&(void 0!==n[e].slUnboundOnDestroy&&void 0!==n[e].slOnDestroyFn&&n[e].slOnDestroyFn(),h(n[e]),n[e].slOnDestroyFn=void 0,n[e].slOnDestroy=!1,n[e].slOnInit=!1,n[e].slAfterInit=!1,u.add(e)),r[e].view)){const i=f(r[e],!1,!1,!1,n[e]);r[e]=i.view;const u=Object.getPrototypeOf(i.model);!0!==u.slDirty&&(i.onInit&&n[e].slOnInit&&(n[e].slOnInit=!1),i.afterInit&&n[e].slAfterInit&&(n[e].slAfterInit=!1),i.scopedCss&&n[e].slScopedCss&&(n[e].slScopedCss=!1),i.onDestroy&&n[e].slOnDestroy&&(n[e].slOnDestroy=!1),u.slDirty=!0),i.onInit&&!n[e].slOnInit&&n[e].slUnboundOnInit!==i.slUnboundOnInit?(n[e].slUnboundOnInit=i.slUnboundOnInit,i.onInit.bind(i.model)(),r[e].slOnInit=!0):void 0===n[e].slUnboundOnInit||i.onInit?i.onInit&&n[e]&&!n[e].slOnInit?(n[e].slUnboundOnInit===i.slUnboundOnInit&&i.onInit.bind(i.model)(),n[e].slUnboundOnInit=i.slUnboundOnInit,r[e].slOnInit=!0):i.onInit&&n[e].slOnInit&&void 0===n[e].slUnboundOnInit&&(n[e].slUnboundOnInit=i.slUnboundOnInit):n[e].slOnInit=!1,i.afterInit&&!n[e].slAfterInit&&n[e].slUnboundAfterInit!==i.slUnboundAfterInit?(n[e].slAfterInit=!0,n[e].slUnboundAfterInit=i.slUnboundAfterInit,s._afterInitArr.push(i.afterInit)):void 0===n[e].slUnboundAfterInit||i.afterInit?i.afterInit&&n[e]&&!n[e].slAfterInit?(n[e].slAfterInit=!0,n[e].slUnboundAfterInit===i.slUnboundAfterInit&&s._afterInitArr.push(i.afterInit),n[e].slUnboundAfterInit=i.slUnboundAfterInit):i.afterInit&&n[e].slAfterInit&&void 0===n[e].slUnboundAfterInit&&(n[e].slUnboundAfterInit=i.slUnboundAfterInit):n[e].slAfterInit=!1,i.scopedCss&&n[e]&&!n[e].slScopedCss&&(l=w(i.model,i.model.slStyle())),i.onDestroy&&n[e]&&!n[e].slOnDestroy&&_(n[e],i.onDestroy,i.slUnboundOnDestroy),a(n[e],i.model),o=i.model}C(n[e],r[e],o),r[e]&&r[e].slOnInit&&(n[e].slOnInit=!0);for(const e of u)r[e]&&n[e].slAfterInit&&!n[e].slOnDestroy&&(n[e].slAfterInit=!1),r[e]&&n[e].slOnInit&&!n[e].slOnDestroy&&(n[e].slOnInit=!1);l&&(y(n[e],l),n[e].slScopedCss=!0),d++}let p=n.length;for(;p>o;)h(n[p-1]),g(n[p-1]),l(n[n.length-1]),O(n[p-1]),p--;for(let n of r.slice(o)){if("string"==typeof n)e.childNodes[d]?e.childNodes[d].textContent!==n&&(e.childNodes[d].textContent=n):e.append(n);else if("string"==typeof n)e.append(n);else if(n.view)c(n,e,!0);else{const s=i(n);e.appendChild(s),C(s,n)}d++}for(p=n.length;p>r.length;)h(n[p-1]),g(n[p-1]),l(n[p-1]),O(n[p-1]),p--},O=e=>{const n=s._router.count;if(void 0===e.slanimatedestroytarget||""===e.slanimatedestroytarget||e.slAnimateDestroy||void 0===e.attributes.slanimatedestroy||""===e.getAttribute("slanimatedestroy"))if(3===e.nodeType||void 0===e.attributes.slanimatedestroy||""===e.getAttribute("slanimatedestroy")||e.slAnimateDestroy)e.slAnimateDestroy||(s._router.currentRoute&&e.id!==s._router.currentRoute.root||n===s._router.count)&&(e.remove(),s._updateMap.delete(e.id));else{const r=e.onanimationend,o=e.onanimationstart,l=e.getAttribute("slanimatedestroy");e.onanimationstart=function(n){e.slAnimationName=n.animationName},e.onanimationend=function(l){if(!e.slAnimationName||e.slAnimationName!==l.animationName)return;let i=void 0;return r&&(i=r.apply(this,[].slice.call(arguments))),(s._router.currentRoute&&e.id!==s._router.currentRoute.root||n===s._router.count)&&(e.remove(),s._updateMap.delete(e.id)),e.slAnimationName=null,e.onanimationend=r,e.onanimationstart=o,e.slAnimateDestroy=!1,i},e.classList.add(l),e.slAnimateDestroy=!0}else{const r=e.slanimatedestroytarget;if("function"==typeof r){const o=r(e);if(o){const r=o.getAttribute("slanimatedestroy"),l=o.onanimationend,i=o.onanimationstart;o.onanimationstart=function(e){o.slAnimationName=e.animationName},o.onanimationend=function(a){if(!o.slAnimationName||o.slAnimationName!==a.animationName)return;let u=void 0;return l&&(u=l.apply(this,[].slice.call(arguments))),o.classList.remove(r),s._isAnimatingKeyed=null,s._router.currentRoute.animateDestroy?(s._router.currentRoute.animateDestroy=!1,e.setAttribute("style","opacity: 0;"),o.onanimationend=null,o.onanimationstart=null):((s._router.currentRoute&&e.id!==s._router.currentRoute.root||n===s._router.count)&&(e.remove(),s._updateMap.delete(e.id)),o.onanimationend=l,o.onanimationstart=i),o.slAnimationName=null,o.onanimationend=null,o.onanimationstart=null,o.style.animation="none",e.slAnimateDestroy=!1,delete e.slanimatedestroytarget,detectChanges(),u},s._isAnimatingKeyed=o,o.classList.add(r),e.slAnimateDestroy=!0}else(s._router.currentRoute&&e.id!==s._router.currentRoute.root||n===s._router.count)&&(e.remove(),s._updateMap.delete(e.id))}else(s._router.currentRoute&&e.id!==s._router.currentRoute.root||n===s._router.count)&&(e.remove(),s._updateMap.delete(e.id))}},I=e=>e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).filter(n=>((e,n)=>(Object.getOwnPropertyDescriptor(e,n)||{}).get)(e,n)||((e,n)=>"function"==typeof e[n])(e,n)).concat(I(Object.getPrototypeOf(e))||[]),D=e=>(e=>Array.from(new Set(I(e))))(e).filter(e=>"constructor"!==e&&!~e.indexOf("__")),v=(e,n,s="")=>{if(n.slStyle&&!e.slScopedCss){const r=w(n,n.slStyle());y(e,r),e.slScopedCss=!0,e.style.display=s}},S=e=>{for(let n=0;n<e.length;n++){const s=e[n];if(null!==s.getAttribute("slpreventdefault"))for(const e in s)if(e.startsWith("on")){let n=e.substring(2,e.length);const r=s[e];if(r){(Array.isArray(r)?r:[r]).forEach(e=>{s.removeEventListener(n,e)})}s.addEventListener(n,(function(e){e.preventDefault()}))}}},C=(e,n,r=null)=>{if(null!==s._isAnimatingKeyed)for(let[n,r]of s._updateMap){const r=document.getElementById(n);if(r.contains(s._isAnimatingKeyed)&&r.contains(e))return e}let o;if(n&&n.slStyle&&(o=e.style.display,e.style.display="none"),n&&n.view){e.slUnboundOnDestroy!==n.slOnDestroy&&(void 0!==e.slUnboundOnDestroy&&void 0!==e.slOnDestroyFn&&e.slOnDestroyFn(),h(e),e.slOnDestroyFn=void 0,e.slOnDestroy=!1,e.slAfterInit=!1,e.slOnInit=!1);const r=f(n,!1,!1,!1,e);n=r.view;const o=Object.getPrototypeOf(r.model);if(!0!==o.slDirty&&(r.onInit&&e.slOnInit&&(e.slOnInit=!1),r.afterInit&&e.slAfterInit&&(e.slAfterInit=!1),r.scopedCss&&e.slScopedCss&&(e.slScopedCss=!1),r.onDestroy&&e.slOnDestroy&&(e.slOnDestroy=!1),o.slDirty=!0),r.onInit&&e&&!e.slOnInit&&(r.onInit.bind(r.model)(),e.slOnInit=!0),r.afterInit&&e&&!e.slAfterInit&&(e.slAfterInit=!0,s._afterInitArr.push(r.afterInit)),r.scopedCss&&e&&!e.slScopedCss){const n=w(r.model,r.model.slStyle());y(e,n),e.slScopedCss=!0}r.onDestroy&&e&&!e.slOnDestroy&&_(e,r.onDestroy,r.slUnboundOnDestroy)}if(!n)return e&&(h(e),g(e),l(e),O(e)),e;if(e&&(e.tagName||"").toLowerCase()!==((n?n.tagName:void 0)||"").toLowerCase()){if(!n.tagName)return h(e),g(e),e.replaceWith(n),e=n;{let s;s=n.attrs&&n.attrs.slns?document.createElementNS(n.attrs.slns,n.tagName.toLowerCase()):document.createElement(n.tagName),v(s,n,o),e.parentNode.insertBefore(s,e),h(e),g(e),l(e),O(e),s.slUnboundAfterInit=e.slUnboundAfterInit,void 0!==s.slUnboundAfterInit&&(s.slAfterInit=!0),e.slOnInit&&(s.slOnInit=!1),e=s}}if("string"==typeof n)return e.textContent!==n&&(e.textContent=n),e;switch(n.attrs.sldirective){case"useexisting":return v(e,n,o),e;case"onlychildren":return b(e,e.childNodes,n.children),e;case"onlyself":return A(e,e.attributes,n.attrs),v(e,n,o),e;case"trustchildren":{A(e,e.attributes,n.attrs),v(e,n,o);let s="";n.children.forEach(e=>{s+=e}),e.innerHTML!==s&&(e.innerHTML=s);const r=e.querySelectorAll("[slpreventdefault]");return r.length>0&&S(Array.from(r)),e}}if(n.attrs.slfor){const r=n.attrs.slfor.split(":");if(r.length>=4){if(!s._structureForMap.has(r[0])){const o=L(e,n.model[r[2]]);if(s._structureForMap.set(r[0],o),e.children.length>0){let n=Object.create(null);for(let s=0;s<e.children.length;++s)n[s]=e.children[s];o.map=n}}const o=s._structureForMap.get(r[0]);j.bind(n.model,o,n.model[r[1]],n.model[r[3]])()}return A(e,e.attributes,n.attrs),v(e,n,o),e}if(n.attrs.slfornamed){const r=n.attrs.slfornamed.split(":");if(r.length>=4){let o,l,i,a;for(let e of Object.keys(n.model))a=n.model[e],a.slfor===r[2]?o=a:a.slfor===r[1]?i=a:a.slfor===r[3]&&(l=a);for(let e of D(n.model))a=n.model[e],a.slfor===r[2]?o=a:a.slfor===r[1]?i=a:a.slfor===r[3]&&(l=a);if(i=i.bind(n.model),!s._structureForMap.has(r[0])){const n=L(e,o);if(s._structureForMap.set(r[0],n),e.children.length>0){let s=Object.create(null);for(let n=0;n<e.children.length;++n)s[n]=e.children[n];n.map=s}}const u=s._structureForMap.get(r[0]);j.bind(n.model,u,i,l)()}return A(e,e.attributes,n.attrs),v(e,n,o),e}return A(e,e.attributes,n.attrs),b(e,e.childNodes,n.children),v(e,n,o),e},R=(e,n,r)=>{s._afterInitArr=[],n.slOnInit&&n.slOnInit();let l=n.view.bind(n)();if(o(l,n),l.view&&(l=l.view.bind(n)(),o(l,n)),!l.attrs||e&&e.id!==l.attrs.id){const n=l.attrs?l.attrs.id:"null";console.error("Mounted component root element changed from "+e.id+" to "+n)}if(e=C(e,l,n),n.slOnInit&&(e.slOnInit=!0,e.slUnboundOnInit=n.slOnInit),n.slStyle&&!e.slScopedCss){const s=w(n,n.slStyle());y(e,s),e.slScopedCss=!0}r&&s._updateMap.set(e.id,n),n.slOnDestroy&&_(e,n.slOnDestroy.bind(n),n.slOnDestroy);let i=e.querySelectorAll("[slref]");void 0!==e.slref&&(i=Array.from(i),i.push(e));for(let e=0;e<i.length;++e){n[i[e].getAttribute("slref")]=i[e].slref}return n.slAfterInit&&(n.slAfterInit(),e.slUnboundAfterInit=n.slAfterInit,W()),s._afterInitArr.forEach(e=>{e()}),e};export function version(){return"22.1.0"}const M=function(e){for(var n=0,s=1779033703^e.length;n<e.length;n++)s=(s=Math.imul(s^e.charCodeAt(n),3432918353))<<13|s>>>19;return function(){return s=Math.imul(s^s>>>16,2246822507),s=Math.imul(s^s>>>13,3266489909),(s^=s>>>16)>>>0}},E=(e,n)=>{for(const[s,r]of n.entries()){let n=new RegExp(`animation\\s*:\\s*${s}\\s*`,"g");e=e.replace(n,`animation: ${r} `),n=new RegExp(`animation-name\\s*:\\s*${s}\\s*`,"g"),e=e.replace(n,`animation-name: ${r} `)}return e},N=(e,n)=>{let s=0,r=!1,o=!1,l=0;for(;l<e.length;){const i=e[l];"'"!==i||o?'"'!==i||r?r||o||!e.startsWith(n,l)?l++:(s++,l+=n.length):(o=!o,l++):(r=!r,l++)}return s},x=(e,n)=>{if(!n)return 0;let s=0,r=0;for(;;){const o=e.indexOf(n,r);if(-1===o)break;s++,r=o+n.length}return s},U=(e,n)=>{let s=!1,r=!1;for(let o=0;o<=e.length-n.length;o++){const l=e[o];if("'"!==l||r||"\\"===e[o-1]?'"'!==l||s||"\\"===e[o-1]||(r=!r):s=!s,!s&&!r&&e.startsWith(n,o))return o}return-1},w=(e,n)=>{const r=M(e.constructor.name),o="slcss-"+String(r());if(""===n||s._scopedCssSet.has(o))return o;n=n.replace(/\t+/g," "),s._scopedCssSet.add(o);let l,i="",a=[],u=0;const c=new Map;for(;n.length>0;){if(!/[^(\"|')]*?{/.test(n)){i+=n;break}{const e=/[^(\"|')]*?{/.exec(n);let s=e.index+e[0].length,r=n.substring(0,s).trim();for(;N(r,"{")<1;){let e=n.substring(s);for(;e.startsWith('"')||e.startsWith("'");)s++,r+=e.charAt(0),e=n.substring(s);if(s=U(e,"{"),-1===s){n="",r="";break}const o=r.length;r+=e.substring(0,s+1).trim(),s+=o+1,n=n.trim()}if(""===n)break;let d=n.substring(s);const f=U(r,"}");if(-1!==f)for(i+=r.substring(0,f+1),a.pop(),u--,u<0&&(u=0),r=r.substring(f+1).trim();r.length>0&&(r.startsWith("}")||/(,|\w)*}/.test(r));){const e=/.*,.*}/.exec(r),n=e?e.index+e[0].lastIndexOf("}"):r.indexOf("}");n>0?(i+=r.substring(0,n+1)+" ",r=r.substring(n+1).trim()):(i+="} ",r=r.substring(1).trim()),a.pop(),u--,u<0&&(u=0)}for(l=N(i,"{")-N(i,"}"),0===l&&(a=[]),n=d;/.*;/.test(r);){const e=U(r,";"),n=U(r,"{");if(-1===e||-1!==n&&n<e)break;i+=r.substring(0,e+1)+" ",r=r.substring(e+1).trim()}if(r.includes(",")){const e=r.split(",");for(let n=0;n<e.length;n++)for(;N(e[n],",")<x(e[n],",")&&n+1<e.length;)e[n]+=e[n+1],e[n]=e[n].trim(),e.splice(n+1,1),n--;if(e[0].length>0&&"@"===e[0].charAt(0)&&!e[0].startsWith("@nest")){if(0===l?a.push(!0):a.push(a&&!0),e[0].startsWith("@keyframes")){u++;let n=U(e[0],"{");if(-1!==n&&n>0){let s=r.substring(0,n).trim();c.set(s.substring(10).trim(),s.substring(10).trim()+o),s=s+o+" ",s+=r.substring(n),e[0]=s}}}else if(0===u&&(0===l||a.length>=l&&a.length>0&&a.slice(0,l).every(e=>e))){for(let n=0;n<e.length;n++){let s=U(e[n],"{"),r=-1!==s?e[n].substring(0,s):e[n];const l=r.trim().split(" ");let i;for(let e=0;e<l.length;e++)if(i=l[e].trim(),">"!==i&&"+"!==i&&"~"!==i&&"&"!==i){l[e]=i+"["+o+"]";break}r=l.join(" "),r+=e[n].substring(-1!==s?s:e[n].length),e[n]=r}a.push(!1)}else a.push(!1);for(let n=0;n<e.length;n++)n>0&&(i+=", "),i+=e[n];i+=" "}else{if(r.length>0&&"@"===r.charAt(0)&&!r.startsWith("@nest")){if(0===l?a.push(!0):a.push(a&&!0),r.startsWith("@keyframes")){let e=U(r,"{");if(-1!==e&&e>0){let n=r.substring(0,e).trim();c.set(n.substring(10).trim(),n.substring(10).trim()+o),n=n+o+" ",n+=r.substring(e),r=n}u++}}else if(0===u&&(0===l||a.length>=l&&a.length>0&&a.slice(0,l).every(e=>e))){let e=U(r,"{"),n=-1!==e?r.substring(0,e):r;const s=n.trim().split(" ");let l;for(let e=0;e<s.length;e++)if(l=s[e].trim(),">"!==l&&"+"!==l&&"~"!==l&&"&"!==l){s[e]=l+"["+o+"]";break}n=s.join(" "),n+=r.substring(-1!==e?e:r.length),r=n,a.push(!1)}else a.push(!1);i+=r+" ","@"!==r.charAt(0)&&u&&-1===U(r,"}")&&u++}}}if(i=E(i,c),""!==i.trim()){const e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");e.appendChild(n),n.appendChild(document.createTextNode(i))}return o};export const hydrate=function(e,s=!0){const r=document.getElementById(e).getAttribute("slssrclass");let o=n[r];!o&&this&&(o=this[r]);return mount(e,new o,s)};export function resolveAll(e){return Promise.all(e.map(e=>e.then(e=>({result:e,status:"fulfilled",error:null}),e=>({result:null,error:e,status:"rejected"}))))}export function setState(e){s._state=e}export function getState(){return s._state}export function textNode(e){return String(e)}export function t(e){return String(e)}export function markup(e,{attrs:n={},children:s=[]}={}){return{tagName:e=e.toUpperCase(),attrs:n,children:s}}export function m(){return 3===arguments.length&&"string"==typeof arguments[0]&&"object"==typeof arguments[1]&&Array.isArray(arguments[2])?markup(arguments[0],{attrs:arguments[1],children:arguments[2]}):markup(arguments[0],arguments[1])}export function mount(e,n,r=!0){s._router.mountRoute=e;let o=document.getElementById(e);if(null!==o)return R(o,n,r);console.error("ID "+e+" does not exist in DOM.")}export const renderToString=function(e){const n=[],l=new Set;for(let e of s._structureForMap.keys())l.add(e);e.slOnInit&&(e.slOnInit(),n.push(e));let i=e.view.bind(e)(),a=e;for(;i.view;)i.slOnInit&&(i.slOnInit(),n.push(i)),a=i,i=i.view.bind(i)();o(i,a);const u=r(i,n);n.forEach(e=>{e.slOnDestroy&&e.slOnDestroy.bind(e)()});for(let e of s._structureForMap.keys())l.has(e)||s._structureForMap.delete(e);return u};export function update(e,n){const r=e;if(e=document.getElementById(e),s._afterInitArr=[],e){let s=n.view.bind(n)();o(s,n),e=C(e,s,n)}else console.error("ID "+r+" not mounted in DOM; attachDetector likely needs to be called.");let l=e.querySelectorAll("[slref]");void 0!==e.slref&&(l=Array.from(l),l.push(e));for(let e=0;e<l.length;++e){n[l[e].getAttribute("slref")]=l[e].slref}if(s._afterInitArr.forEach(e=>{e()}),n.slStyle&&!e.slScopedCss){const s=w(n,n.slStyle());y(e,s),e.slScopedCss=!0}}let T=n.onpopstate;n.onpopstate=function(e){switch(s._router.strategy){case"#":n.location.hash&&s._router.lastHash!==n.location.hash.substring(2)&&(T&&T(e),route(getRoute()));break;case"?":n.location.search&&s._router.lastHash!==n.location.search.substring(2)&&(T&&T(e),route(getRoute()));break;case"":n.location.pathname&&s._router.lastHash!==n.location.pathname.substring(1)&&(T&&T(e),route(getRoute()))}},s._router={segmentArr:[],routeList:[],params:null,lastHash:!1,currentRoute:null,mountRoute:"",strategy:"#",count:0},Object.seal(s._router);const F=()=>{switch(s._router.strategy){case"#":{let e=n.location.href.split("#/")[1];if(e){let n=e.split("/");n.forEach((e,n)=>{s._router.segmentArr[n]=e}),s._router.segmentArr.splice(n.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length);break}case"?":{let e=n.location.href.split("?/")[1];if(e){let n=e.split("/");n.forEach((e,n)=>{s._router.segmentArr[n]=e}),s._router.segmentArr.splice(n.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length);break}case"":{let e=n.location.pathname;if(e){e=e.replace("/","");let n=e.split("/");n.forEach((e,n)=>{s._router.segmentArr[n]=e}),s._router.segmentArr.splice(n.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length);break}}};export function setRouteStrategy(e){new Set(["#","?",""]).has(e)&&(s._router.strategy=e)}export function getRouteQueryVariables(){const e=n.location.search.substring(2).split("&"),s=[];for(var r=0;r<e.length;r++){const n=e[r].split("=");s.push({var:decodeURIComponent(n[0]),value:decodeURIComponent(n[1])})}return s}export function getRouteSegments(){return s._router.segmentArr}export function getRouteParams(){return s._router.params}export function getRoute(){switch(s._router.strategy){case"#":return n.location.href.split("#/")[1];case"?":return n.location.href.split("?/")[1];case"":{let e=n.location.pathname;return e&&(e=e.replace("/","")),e}}}export function addRoute(e,n){s._router.routeList.push([new RegExp("^"+e.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),n])}export function removeRoute(e){const n=new RegExp("^"+e.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),r=String(n);for(let e=0;e<s._router.routeList.length;++e){const[n,o]=s._router.routeList[e];if(String(n)===r){s._router.routeList.splice(e,1);break}}}export function route(e,r={},o=!0){if(s._router.params=r,s._router.currentRoute&&s._router.currentRoute.onCanDeactivate&&!s._router.currentRoute.onCanDeactivate(e))return;let i=null;for(let[r,a]of s._router.routeList)if(r.test(e)){if(a.onActivationCheck&&!a.onActivationCheck(e))return a.onActivationFail&&(i=route(a.onActivationFail.route,a.onActivationFail.params,"boolean"!=typeof a.onActivationFail.attachDetector||a.onActivationFail.attachDetector)),void(e=void 0);a.onBeforeRoute&&a.onBeforeRoute();let r=document.getElementById(a.root);const u=s._destroyNodeMap.get(getRoute());u&&(u.forEach(e=>{e.slOnDestroyFn&&r.contains(e)&&e.slOnDestroyFn(),e.slOnDestroyFn=void 0,e.slUnboundOnDestroy=void 0,e.slAfterInit=!1,e.slOnInit=!1}),s._destroyNodeMap.set(getRoute(),[]),s._destroyFuncMap.set(getRoute(),[])),s._router.lastHash=e;const c=n.scrollY;switch(s._router.strategy){case"#":n.history.pushState(null,document.title,"#/"+e);break;case"?":{let s=n.location.href;const r=n.location.pathname;s=s.substring(0,s.indexOf(r)),s+="/?/"+e,n.history.pushState(null,document.title,s);break}case"":{let s=n.location.href;const r=n.location.pathname;s=s.substring(0,s.indexOf(r)),s+="/"+e,n.history.pushState(null,document.title,s);break}}if(n.scrollTo(0,c),s._router.currentRoute&&void 0!==s._router.currentRoute.animateDestroy&&(s._router.currentRoute.animateDestroy=!0),s._router.currentRoute&&s._router.currentRoute.animateDestroy){let e=s._router.currentRoute.root;e=document.getElementById(e),s._router.currentRoute=a,h(e),g(e),l(e),O(e),F()}else F(),s._router.currentRoute=a;s._router.count++,a.component&&(a.component.slOnDestroy&&s._destroyFuncMap.set(e,[a.component.slOnDestroy.bind(a.component)]),s._router.mountRoute=e,R(r,a.component,o),a.component.slOnDestroy&&(r.slOnDestroyIndex=0,s._destroyFuncMap.get(e).pop(),p(r)),i=a.component);break}return s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&W(),i}F();const L=(e,n,s)=>({parent:e,factory:n,map:Object.create(null)});function k(e,n){"function"==typeof n&&(n=n());let s=[];for(let r=0;r<n.length;++r)s.push(e.factory.bind(this,n[r])());return s}function j(e,n,s){"function"==typeof n&&(n=n());const r=Object.create(null),o=e.parent;let a,u,c=o.firstChild;if(n.length){for(let l=0;l<n.length;++l)a=e.map[l],a?s.bind(a,this,n[l])():(a=e.factory.bind(this,n[l])(),void 0!==a.attrs&&(a=i(a))),r[l]=a,c||o.appendChild(a),c=a.nextSibling;for(;null!==c;)u=c.nextSibling,h(c),g(c),l(c),O(c),c=u}else o.textContent="";e.map=r;const d=e.parent.querySelectorAll("[slpreventdefault]");d.length>0&&(S([e.parent]),S(Array.from(d)))}s.CHANGE_STRATEGY_AUTOMATIC=100,s.CHANGE_STRATEGY_MANUAL=200,s.CHANGE_DETECTOR_DETACHED=!1,s.CHANGE_DETECTOR_ATTACHED=!0,s._changeStrategies=[s.CHANGE_STRATEGY_AUTOMATIC,s.CHANGE_STRATEGY_MANUAL],s._changeDetector={lastUpdateDate:new Date,changeDetectionStrategy:s.CHANGE_STRATEGY_AUTOMATIC},Object.seal(s._changeDetector),Object.freeze(s._changeStrategies);const H=(e,n)=>{if(n[e]){let s=n[e];n[e]=function(){let e=s.apply(this,[].slice.call(arguments));return W(),e}}};const G=(e=null)=>{e?update(e,s._updateMap.get(e)):s._updateMap.forEach((e,n)=>{update(n,e)})},W=()=>{if(s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC)return;new Date-s._changeDetector.lastUpdateDate>6?G():s._debouncedPerformUpdates(),s._changeDetector.lastUpdateDate=new Date};export function setDetectionStrategy(e){s._changeStrategies.forEach(n=>{n===e&&(s._changeDetector.changeDetectionStrategy=e)})}export function detectChanges(e=null){G(e)}export function isDetectorAttached(e){return s._updateMap.has(e)}export function detachDetector(e){s._updateMap.delete(e)}const P=Promise.prototype.then;export function enableDetectOnThen(){Promise.prototype.then=function(e,n){return P.call(this,n=>(W(),"function"==typeof e&&e instanceof Function?e(n):e),n)}}export function wrapWithChangeDetector(e,n){return function(){n&&n.slpreventdefault&&arguments.length>0&&"function"==typeof arguments[0].preventDefault&&arguments[0].preventDefault();let s=e.apply(this,[].slice.call(arguments));return W(),s}}s._debouncedPerformUpdates=function(e,n){let s;return function(...r){const o=this;clearTimeout(s),s=setTimeout(()=>e.apply(o,r),n)}}(G,17);let Y=n.XMLHttpRequest.prototype.send,B=new Map;const q=function(e){return this.onreadystatechange?(this._onreadystatechange=this.onreadystatechange,void 0===this._onreadystatechangecount?this._onreadystatechangecount=0:this._onreadystatechangecount+=4):this._onreadystatechangecount=0,this.onreadystatechange=K,Y.apply(this,arguments)},K=function(){if(this._onreadystatechange){let e=B.get(this);if(void 0!==e&&e===this._onreadystatechangecount)return void B.delete(this);void 0!==e?B.set(this,e+1):B.set(this,0);let n=this._onreadystatechange.apply(this,arguments);return W(),B.delete(this),n}};n.XMLHttpRequest.prototype.send=q;{let e=n.fetch;n.fetch=function(){let n=e.apply(this,arguments);return W(),n}}