const t="undefined"!=typeof window;var e=t?window:self;t||(e.setTimeout=()=>{},e.setInterval=()=>{},e.location={},e.location.href=""),e.s=function(){},s._state={},s._destroyFuncMap=new Map,s._updateMap=new Map,s._afterInitArr=[],s._destroyNodeMap=new Map,s._structureForMap=new Map,s._isAnimatingKeyed=null,s._scopedCssSet=new Set;const n=({tagName:t,attrs:e,children:r,model:o},l)=>{let i,a="<"+(t=t.toLowerCase()),u=null;for(let[t,n]of Object.entries(e))if(i=typeof n,a+="function"===i?" "+t+'=""':" "+t+'="'+n+'"',"slfor"===t){const t=n.split(":");if(t.length>=4){s._structureForMap.has(t[0])||s._structureForMap.set(t[0],T(null,o[t[2]]));const e=s._structureForMap.get(t[0]);u=w.bind(o,e,o[t[1]],o[t[3]])()}}else if("slfornamed"===t){const t=n.split(":");if(t.length>=4){let e,n,r,l;for(let s of Object.keys(o))l=o[s],l.slfor===t[2]?e=l:l.slfor===t[1]?r=l:l.slfor===t[3]&&(n=l);for(let s of I(o))l=o[s],l.slfor===t[2]?e=l:l.slfor===t[1]?r=l:l.slfor===t[3]&&(n=l);r=r.bind(o),s._structureForMap.has(t[0])||s._structureForMap.set(t[0],T(null,e));const i=s._structureForMap.get(t[0]);u=w.bind(o,i,r,n)()}}a+=">",null!==u&&u.forEach(t=>{a+=n(t,l)});for(let t of r)t.view?(t.slOnInit&&(t.slOnInit(),l.push(t)),t=t.view.bind(t)(),a+=n(t,l)):a+="string"==typeof t?t:n(t,l);return a+="</"+t+">"},r=(t,e)=>{const n=[];let s;for(n.push(t);n.length>0;)if(s=n.shift(),s.attrs&&(s.attrs.slfor||s.attrs.slfornamed)&&(s.model=e),s.children)for(let t=s.children.length-1;t>=0;--t)n.push(s.children[t])},o=t=>{const e=[];let n,r;for(e.push(t);e.length>0;)if(n=e.shift(),3!==n.nodeType&&(n.hasAttribute("slfor")?(r=n.getAttribute("slfor"),r=r.split(":"),r.length>0&&s._structureForMap.delete(r[0])):n.hasAttribute("slfornamed")&&(r=n.getAttribute("slfornamed"),r=r.split(":"),r.length>0&&s._structureForMap.delete(r[0])),n.children))for(let t=n.children.length-1;t>=0;--t)e.push(n.children[t])};export function renderElementWithoutClass(t,e,n){let r,o,l;r=e&&e.slns?document.createElementNS(e.slns,t.toLowerCase()):document.createElement(t);for(let t of Object.keys(e))if(l=e[t],o=typeof l,"function"===o)r[t]=l,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||l.name.startsWith("bound slDetached")||l.name.startsWith("slDetached")||k(t,r);else if("slnsfor"===t){const t=JSON.parse(e.slnsfor);for(const[e,n]of Object.entries(t))r.setAttributeNS(n.namespace,e,n.value)}else r.setAttribute(t,l);for(let t of n)r.append(t);return r}export function renderElement({tagName:t,attrs:e,children:n},r=!1){let o,l;o=e&&e.slns?document.createElementNS(e.slns,t.toLowerCase()):document.createElement(t);for(let[t,n]of Object.entries(e))if(l=typeof n,"function"===l)o[t]=n,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||n.name.startsWith("bound slDetached")||n.name.startsWith("slDetached")||k(t,o);else if("slnsfor"===t){const t=JSON.parse(e.slnsfor);for(const[e,n]of Object.entries(t))o.setAttributeNS(n.namespace,e,n.value)}else o.setAttribute(t,n);for(let t of n)"string"==typeof t?o.append(t):t.view?r?a(t,o):u(t,o):o.appendChild(renderElement(t,r));return o}const l=({tagName:t,attrs:e,children:n})=>{let r,o;r=e&&e.slns?document.createElementNS(e.slns,t.toLowerCase()):document.createElement(t);for(let[t,n]of Object.entries(e))if(o=typeof n,"function"===o)r[t]=n,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||n.name.startsWith("bound slDetached")||n.name.startsWith("slDetached")||k(t,r);else if("slnsfor"===t){const t=JSON.parse(e.slnsfor);for(const[e,n]of Object.entries(t))r.setAttributeNS(n.namespace,e,n.value)}else r.setAttribute(t,n);for(let t of n)"string"==typeof t?r.append(t):t.view?u(t,r):r.appendChild(l(t));return r},i=(t,e)=>{t.slKeyList=[],t.slNamespace={};for(const n in e)t.slNamespace[n]=e[n],t.slKeyList.push(n)},a=(t,e)=>{t=d(t,!0,!0,!0).view;const n=l(t);e.appendChild(n)},u=(t,e,n=!1)=>{Object.getPrototypeOf(t).slDirty=!0;const r=t,o=d(t,!0,!0,!0);t=o.view,o.afterInit&&s._afterInitArr.push(o.afterInit);const a=l(t);if(o.scopedCss){const t=N(o.model,o.model.slStyle());g(a,t),a.slScopedCss=!0}o.onInit&&(a.slOnInit=!0),c(a,o.destroyIndex,o.onDestroy,o.slUnboundOnDestroy),f(a),e.appendChild(a),i(a,r),n&&S(a,t,o.model)},c=(t,e,n,s)=>{t.slOnDestroy=!0,t.slOnDestroyIndex=e,t.slOnDestroyFn=n,t.slAfterInit=!0,t.slOnInit=!0,t.slUnboundOnDestroy=s},d=(t,e,n,o=!1,l=null)=>{if(n&&t.slOnInit&&(t.slOnInit(),l&&(l.slOnInit=!0)),l&&l.slKeyList)for(const e of l.slKeyList)void 0===t[e]?t[e]=l.slNamespace[e]:l.slNamespace[e]=t[e];let i=null;if(e&&t.slOnDestroy){let e=s._destroyFuncMap.get(s._router.mountRoute);e||(e=[]),e.push(t.slOnDestroy.bind(t)),s._destroyFuncMap.set(s._router.mountRoute,e),i=e.length-1}const a=t.view.bind(t)();return r(a,t),{view:a,afterInit:t.slAfterInit?t.slAfterInit.bind(t):null,onDestroy:e&&!o||!t.slOnDestroy?null:t.slOnDestroy.bind(t),onInit:!n&&t.slOnInit?t.slOnInit:null,destroyIndex:i,model:t,scopedCss:t.slStyle?t.slStyle.bind(t):null,slUnboundOnDestroy:t.slOnDestroy,slUnboundAfterInit:t.slAfterInit,slUnboundOnInit:t.slOnInit}},f=t=>{if(t&&null!==t.slOnDestroyIndex&&void 0!==t.slOnDestroyIndex&&!t.slOnDestroyRoute){let e=s._destroyNodeMap.get(s._router.mountRoute);e||(e=[]);e.find(e=>e.slOnDestroyIndex===t.slOnDestroyIndex)||e.push(t),s._destroyNodeMap.set(s._router.mountRoute,e),t.slOnDestroyRoute=s._router.mountRoute}},p=t=>{if(t&&t.slOnDestroy){let e=s._destroyFuncMap.get(s._router.mountRoute);e||(e=[]),e.splice(t.slOnDestroyIndex,1),s._destroyFuncMap.set(s._router.mountRoute,e);let n=s._destroyNodeMap.get(s._router.mountRoute);n||(n=[]),n.forEach(e=>{e.slOnDestroyIndex>t.slOnDestroyIndex&&e.slOnDestroyIndex--}),n=n.filter(e=>e.slOnDestroyIndex!==t.slOnDestroyIndex),s._destroyNodeMap.set(s._router.mountRoute,n)}},h=t=>{if(t&&t.children&&t.children.length>0){for(const e of t.children)h(e);t.slOnDestroyFn&&(t.slOnDestroyFn(),t.slOnDestroyFn=void 0,t.slUnboundOnDestroy=void 0,t.slAfterInit=!1,t.slOnInit=!1)}else t.slOnDestroyFn&&(t.slOnDestroyFn(),t.slOnDestroyFn=void 0,t.slUnboundOnDestroy=void 0,t.slAfterInit=!1,t.slOnInit=!1)},g=(t,e)=>{if(t.setAttribute(e,""),t.children&&t.children.length>0)for(const n of t.children)g(n,e)},y=(t,e,n)=>{t.slOnDestroy=!0;let r=s._destroyFuncMap.get(s._router.mountRoute);r||(r=[]),r.push(e),s._destroyFuncMap.set(s._router.mountRoute,r),t.slOnDestroyIndex=r.length-1,t.slOnDestroyFn=e,t.slUnboundOnDestroy=n,f(t)},A=(t,e,n)=>{let r;const o=[];for(let t of e){let e=n[t.name];e?e.length===t.nodeValue.length&&e===t.nodeValue&&delete n[t.name]:t.name.startsWith("slcss-")||o.push(t.nodeName)}o.forEach(e=>{t.removeAttribute(e)}),void 0!==n.slref&&(t.slref=t);const l=n.slpreventdefault;let i=!1;for(let[e,o]of Object.entries(n))if(r=typeof o,"function"===r){if(void 0!==l){let n=e;n.startsWith("on")&&(n=n.substring(2,n.length));const s=t[e];if(s){(Array.isArray(s)?s:[s]).forEach(e=>{t.removeEventListener(n,e)})}t.addEventListener(n,(function(t){t.preventDefault()})),i=!0}t[e]=o,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||o.name.startsWith("bound slDetached")||o.name.startsWith("slDetached")||k(e,t)}else if("slnsfor"===e){const e=JSON.parse(n.slnsfor);for(const[n,s]of Object.entries(e))t.setAttributeNS(s.namespace,n,s.value)}else t.setAttribute(e,o);i||(void 0!==l||e.slpreventdefault)&&v([t])},_=(t,e,n)=>{const r=e.length,a=new Set;let c=0;for(let t=e.length-1;t>=0;--t){let r=null,o=null;if(n[t]&&(e[t].slUnboundOnDestroy!==n[t].slOnDestroy&&(void 0!==e[t].slUnboundOnDestroy&&void 0!==e[t].slOnDestroyFn&&e[t].slOnDestroyFn(),p(e[t]),e[t].slOnDestroyFn=void 0,e[t].slOnDestroy=!1,e[t].slOnInit=!1,e[t].slAfterInit=!1,a.add(t)),n[t].view)){const l=d(n[t],!1,!1,!1,e[t]);n[t]=l.view;const a=Object.getPrototypeOf(l.model);!0!==a.slDirty&&(l.onInit&&e[t].slOnInit&&(e[t].slOnInit=!1),l.afterInit&&e[t].slAfterInit&&(e[t].slAfterInit=!1),l.scopedCss&&e[t].slScopedCss&&(e[t].slScopedCss=!1),l.onDestroy&&e[t].slOnDestroy&&(e[t].slOnDestroy=!1),a.slDirty=!0),l.onInit&&!e[t].slOnInit&&e[t].slUnboundOnInit!==l.slUnboundOnInit?(e[t].slUnboundOnInit=l.slUnboundOnInit,l.onInit.bind(l.model)(),n[t].slOnInit=!0):void 0===e[t].slUnboundOnInit||l.onInit?l.onInit&&e[t]&&!e[t].slOnInit?(e[t].slUnboundOnInit===l.slUnboundOnInit&&l.onInit.bind(l.model)(),e[t].slUnboundOnInit=l.slUnboundOnInit,n[t].slOnInit=!0):l.onInit&&e[t].slOnInit&&void 0===e[t].slUnboundOnInit&&(e[t].slUnboundOnInit=l.slUnboundOnInit):e[t].slOnInit=!1,l.afterInit&&!e[t].slAfterInit&&e[t].slUnboundAfterInit!==l.slUnboundAfterInit?(e[t].slAfterInit=!0,e[t].slUnboundAfterInit=l.slUnboundAfterInit,s._afterInitArr.push(l.afterInit)):void 0===e[t].slUnboundAfterInit||l.afterInit?l.afterInit&&e[t]&&!e[t].slAfterInit?(e[t].slAfterInit=!0,e[t].slUnboundAfterInit===l.slUnboundAfterInit&&s._afterInitArr.push(l.afterInit),e[t].slUnboundAfterInit=l.slUnboundAfterInit):l.afterInit&&e[t].slAfterInit&&void 0===e[t].slUnboundAfterInit&&(e[t].slUnboundAfterInit=l.slUnboundAfterInit):e[t].slAfterInit=!1,l.scopedCss&&e[t]&&!e[t].slScopedCss&&(o=N(l.model,l.model.slStyle())),l.onDestroy&&e[t]&&!e[t].slOnDestroy&&y(e[t],l.onDestroy,l.slUnboundOnDestroy),i(e[t],l.model),r=l.model}S(e[t],n[t],r),n[t]&&n[t].slOnInit&&(e[t].slOnInit=!0);for(const t of a)n[t]&&e[t].slAfterInit&&!e[t].slOnDestroy&&(e[t].slAfterInit=!1),n[t]&&e[t].slOnInit&&!e[t].slOnDestroy&&(e[t].slOnInit=!1);o&&(g(e[t],o),e[t].slScopedCss=!0),c++}let f=e.length;for(;f>r;)p(e[f-1]),h(e[f-1]),o(e[e.length-1]),b(e[f-1]),f--;for(let e of n.slice(r)){if("string"==typeof e)t.childNodes[c]?t.childNodes[c].textContent!==e&&(t.childNodes[c].textContent=e):t.append(e);else if("string"==typeof e)t.append(e);else if(e.view)u(e,t,!0);else{const n=l(e);t.appendChild(n),S(n,e)}c++}for(f=e.length;f>n.length;)p(e[f-1]),h(e[f-1]),o(e[f-1]),b(e[f-1]),f--},b=t=>{const e=s._router.count;if(void 0===t.slanimatedestroytarget||""===t.slanimatedestroytarget||t.slAnimateDestroy||void 0===t.attributes.slanimatedestroy||""===t.getAttribute("slanimatedestroy"))if(3===t.nodeType||void 0===t.attributes.slanimatedestroy||""===t.getAttribute("slanimatedestroy")||t.slAnimateDestroy)t.slAnimateDestroy||(s._router.currentRoute&&t.id!==s._router.currentRoute.root||e===s._router.count)&&(t.remove(),s._updateMap.delete(t.id));else{const n=t.onanimationend,r=t.onanimationstart,o=t.getAttribute("slanimatedestroy");t.onanimationstart=function(e){t.slAnimationName=e.animationName},t.onanimationend=function(o){if(!t.slAnimationName||t.slAnimationName!==o.animationName)return;let l=void 0;return n&&(l=n.apply(this,[].slice.call(arguments))),(s._router.currentRoute&&t.id!==s._router.currentRoute.root||e===s._router.count)&&(t.remove(),s._updateMap.delete(t.id)),t.slAnimationName=null,t.onanimationend=n,t.onanimationstart=r,t.slAnimateDestroy=!1,l},t.classList.add(o),t.slAnimateDestroy=!0}else{const n=t.slanimatedestroytarget;if("function"==typeof n){const r=n(t);if(r){const n=r.getAttribute("slanimatedestroy"),o=r.onanimationend,l=r.onanimationstart;r.onanimationstart=function(t){r.slAnimationName=t.animationName},r.onanimationend=function(i){if(!r.slAnimationName||r.slAnimationName!==i.animationName)return;let a=void 0;return o&&(a=o.apply(this,[].slice.call(arguments))),r.classList.remove(n),s._isAnimatingKeyed=null,s._router.currentRoute.animateDestroy?(s._router.currentRoute.animateDestroy=!1,t.setAttribute("style","opacity: 0;"),r.onanimationend=null,r.onanimationstart=null):((s._router.currentRoute&&t.id!==s._router.currentRoute.root||e===s._router.count)&&(t.remove(),s._updateMap.delete(t.id)),r.onanimationend=o,r.onanimationstart=l),r.slAnimationName=null,t.slAnimateDestroy=!1,delete t.slanimatedestroytarget,detectChanges(),a},s._isAnimatingKeyed=r,r.classList.add(n),t.slAnimateDestroy=!0}else(s._router.currentRoute&&t.id!==s._router.currentRoute.root||e===s._router.count)&&(t.remove(),s._updateMap.delete(t.id))}else(s._router.currentRoute&&t.id!==s._router.currentRoute.root||e===s._router.count)&&(t.remove(),s._updateMap.delete(t.id))}},O=t=>t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).filter(e=>((t,e)=>(Object.getOwnPropertyDescriptor(t,e)||{}).get)(t,e)||((t,e)=>"function"==typeof t[e])(t,e)).concat(O(Object.getPrototypeOf(t))||[]),I=t=>(t=>Array.from(new Set(O(t))))(t).filter(t=>"constructor"!==t&&!~t.indexOf("__")),D=(t,e,n="")=>{if(e.slStyle&&!t.slScopedCss){const s=N(e,e.slStyle());g(t,s),t.slScopedCss=!0,t.style.display=n}},v=t=>{for(let e=0;e<t.length;e++){const n=t[e];if(null!==n.getAttribute("slpreventdefault"))for(const t in n)if(t.startsWith("on")){let e=t.substring(2,t.length);const s=n[t];if(s){(Array.isArray(s)?s:[s]).forEach(t=>{n.removeEventListener(e,t)})}n.addEventListener(e,(function(t){t.preventDefault()}))}}},S=(t,e,n=null)=>{if(null!==s._isAnimatingKeyed)for(let[e,n]of s._updateMap){const n=document.getElementById(e);if(n.contains(s._isAnimatingKeyed)&&n.contains(t))return t}let r;if(e&&e.slStyle&&(r=t.style.display,t.style.display="none"),e&&e.view){t.slUnboundOnDestroy!==e.slOnDestroy&&(void 0!==t.slUnboundOnDestroy&&void 0!==t.slOnDestroyFn&&t.slOnDestroyFn(),p(t),t.slOnDestroyFn=void 0,t.slOnDestroy=!1,t.slAfterInit=!1,t.slOnInit=!1);const n=d(e,!1,!1,!1,t);e=n.view;const r=Object.getPrototypeOf(n.model);if(!0!==r.slDirty&&(n.onInit&&t.slOnInit&&(t.slOnInit=!1),n.afterInit&&t.slAfterInit&&(t.slAfterInit=!1),n.scopedCss&&t.slScopedCss&&(t.slScopedCss=!1),n.onDestroy&&t.slOnDestroy&&(t.slOnDestroy=!1),r.slDirty=!0),n.onInit&&t&&!t.slOnInit&&(n.onInit.bind(n.model)(),t.slOnInit=!0),n.afterInit&&t&&!t.slAfterInit&&(t.slAfterInit=!0,s._afterInitArr.push(n.afterInit)),n.scopedCss&&t&&!t.slScopedCss){const e=N(n.model,n.model.slStyle());g(t,e),t.slScopedCss=!0}n.onDestroy&&t&&!t.slOnDestroy&&y(t,n.onDestroy,n.slUnboundOnDestroy)}if(!e)return t&&(p(t),h(t),o(t),b(t)),t;if(t&&(t.tagName||"").toLowerCase()!==((e?e.tagName:void 0)||"").toLowerCase()){if(!e.tagName)return p(t),h(t),t.replaceWith(e),t=e;{let n;n=e.attrs&&e.attrs.slns?document.createElementNS(e.attrs.slns,e.tagName.toLowerCase()):document.createElement(e.tagName),D(n,e,r),t.parentNode.insertBefore(n,t),p(t),h(t),o(t),b(t),n.slUnboundAfterInit=t.slUnboundAfterInit,void 0!==n.slUnboundAfterInit&&(n.slAfterInit=!0),t.slOnInit&&(n.slOnInit=!1),t=n}}if("string"==typeof e)return t.textContent!==e&&(t.textContent=e),t;switch(e.attrs.sldirective){case"useexisting":return D(t,e,r),t;case"onlychildren":return _(t,t.childNodes,e.children),t;case"onlyself":return A(t,t.attributes,e.attrs),D(t,e,r),t;case"trustchildren":{A(t,t.attributes,e.attrs),D(t,e,r);let n="";e.children.forEach(t=>{n+=t}),t.innerHTML!==n&&(t.innerHTML=n);const s=t.querySelectorAll("[slpreventdefault]");return s.length>0&&v(Array.from(s)),t}}if(e.attrs.slfor){const n=e.attrs.slfor.split(":");if(n.length>=4){if(!s._structureForMap.has(n[0])){const r=T(t,e.model[n[2]]);if(s._structureForMap.set(n[0],r),t.children.length>0){let e=Object.create(null);for(let n=0;n<t.children.length;++n)e[n]=t.children[n];r.map=e}}const r=s._structureForMap.get(n[0]);F.bind(e.model,r,e.model[n[1]],e.model[n[3]])()}return A(t,t.attributes,e.attrs),D(t,e,r),t}if(e.attrs.slfornamed){const n=e.attrs.slfornamed.split(":");if(n.length>=4){let r,o,l,i;for(let t of Object.keys(e.model))i=e.model[t],i.slfor===n[2]?r=i:i.slfor===n[1]?l=i:i.slfor===n[3]&&(o=i);for(let t of I(e.model))i=e.model[t],i.slfor===n[2]?r=i:i.slfor===n[1]?l=i:i.slfor===n[3]&&(o=i);if(l=l.bind(e.model),!s._structureForMap.has(n[0])){const e=T(t,r);if(s._structureForMap.set(n[0],e),t.children.length>0){let n=Object.create(null);for(let e=0;e<t.children.length;++e)n[e]=t.children[e];e.map=n}}const a=s._structureForMap.get(n[0]);F.bind(e.model,a,l,o)()}return A(t,t.attributes,e.attrs),D(t,e,r),t}return A(t,t.attributes,e.attrs),_(t,t.childNodes,e.children),D(t,e,r),t},C=(t,e,n)=>{s._afterInitArr=[],e.slOnInit&&e.slOnInit();let o=e.view.bind(e)();if(r(o,e),o.view&&(o=o.view.bind(e)(),r(o,e)),!o.attrs||t&&t.id!==o.attrs.id){const e=o.attrs?o.attrs.id:"null";console.error("Mounted component root element changed from "+t.id+" to "+e)}if(t=S(t,o,e),e.slOnInit&&(t.slOnInit=!0,t.slUnboundOnInit=e.slOnInit),e.slStyle&&!t.slScopedCss){const n=N(e,e.slStyle());g(t,n),t.slScopedCss=!0}n&&s._updateMap.set(t.id,e),e.slOnDestroy&&y(t,e.slOnDestroy.bind(e),e.slOnDestroy);let l=t.querySelectorAll("[slref]");void 0!==t.slref&&(l=Array.from(l),l.push(t));for(let t=0;t<l.length;++t){e[l[t].getAttribute("slref")]=l[t].slref}return e.slAfterInit&&(e.slAfterInit(),t.slUnboundAfterInit=e.slAfterInit,L()),s._afterInitArr.forEach(t=>{t()}),t};export function version(){return"21.2.1"}const R=(t,e)=>{let n=0,s=!1,r=!1,o=0;for(;o<t.length;){const l=t[o];"'"!==l||r?'"'!==l||s?s||r||!t.startsWith(e,o)?o++:(n++,o+=e.length):(r=!r,o++):(s=!s,o++)}return n},E=(t,e)=>{if(!e)return 0;let n=0,s=0;for(;;){const r=t.indexOf(e,s);if(-1===r)break;n++,s=r+e.length}return n},M=(t,e)=>{let n=!1,s=!1;for(let r=0;r<=t.length-e.length;r++){const o=t[r];if("'"!==o||s||"\\"===t[r-1]?'"'!==o||n||"\\"===t[r-1]||(s=!s):n=!n,!n&&!s&&t.startsWith(e,r))return r}return-1},N=(t,e)=>{const n=function(t){for(var e=0,n=1779033703^t.length;e<t.length;e++)n=(n=Math.imul(n^t.charCodeAt(e),3432918353))<<13|n>>>19;return function(){return n=Math.imul(n^n>>>16,2246822507),n=Math.imul(n^n>>>13,3266489909),(n^=n>>>16)>>>0}}(t.constructor.name),r="slcss-"+String(n());if(""===e||s._scopedCssSet.has(r))return r;e=e.replace(/\t+/g," "),s._scopedCssSet.add(r);let o,l="",i=[],a=0;const u=new Map;for(;e.length>0;){if(!/[^(\"|')]*?{/.test(e)){l+=e;break}{const t=/[^(\"|')]*?{/.exec(e);let n=t.index+t[0].length,s=e.substring(0,n).trim();for(;R(s,"{")<1;){let t=e.substring(n);for(;t.startsWith('"')||t.startsWith("'");)n++,s+=t.charAt(0),t=e.substring(n);if(n=M(t,"{"),-1===n){e="",s="";break}const r=s.length;s+=t.substring(0,n+1).trim(),n+=r+1,e=e.trim()}if(""===e)break;let c=e.substring(n);const d=M(s,"}");if(-1!==d)for(l+=s.substring(0,d+1),i.pop(),a--,a<0&&(a=0),s=s.substring(d+1).trim();s.length>0&&(s.startsWith("}")||/(,|\w)*}/.test(s));){const t=/.*,.*}/.exec(s),e=t?t.index+t[0].lastIndexOf("}"):s.indexOf("}");e>0?(l+=s.substring(0,e+1)+" ",s=s.substring(e+1).trim()):(l+="} ",s=s.substring(1).trim()),i.pop(),a--,a<0&&(a=0)}for(o=R(l,"{")-R(l,"}"),0===o&&(i=[]),e=c;/.*;/.test(s);){const t=M(s,";"),e=M(s,"{");if(-1===t||-1!==e&&e<t)break;l+=s.substring(0,t+1)+" ",s=s.substring(t+1).trim()}if(s.includes(",")){const t=s.split(",");for(let e=0;e<t.length;e++)for(;R(t[e],",")<E(t[e],",")&&e+1<t.length;)t[e]+=t[e+1],t[e]=t[e].trim(),t.splice(e+1,1),e--;if(t[0].length>0&&"@"===t[0].charAt(0)&&!t[0].startsWith("@nest")){if(0===o?i.push(!0):i.push(i&&!0),t[0].startsWith("@keyframes")){a++;let e=M(t[0],"{");if(-1!==e&&e>0){let n=s.substring(0,e).trim();u.set(n.substring(10).trim(),n.substring(10).trim()+r),n=n+r+" ",n+=s.substring(e),t[0]=n}}}else if(0===a&&(0===o||i.length>=o&&i.length>0&&i.slice(0,o).every(t=>t))){for(let e=0;e<t.length;e++){let n=M(t[e],"{"),s=-1!==n?t[e].substring(0,n):t[e];const o=s.trim().split(" ");let l;for(let t=0;t<o.length;t++)if(l=o[t].trim(),">"!==l&&"+"!==l&&"~"!==l&&"&"!==l){o[t]=l+"["+r+"]";break}s=o.join(" "),s+=t[e].substring(-1!==n?n:t[e].length),t[e]=s}i.push(!1)}else i.push(!1);for(let e=0;e<t.length;e++)e>0&&(l+=", "),l+=t[e];l+=" "}else{if(s.length>0&&"@"===s.charAt(0)&&!s.startsWith("@nest")){if(0===o?i.push(!0):i.push(i&&!0),s.startsWith("@keyframes")){let t=M(s,"{");if(-1!==t&&t>0){let e=s.substring(0,t).trim();u.set(e.substring(10).trim(),e.substring(10).trim()+r),e=e+r+" ",e+=s.substring(t),s=e}a++}}else if(0===a&&(0===o||i.length>=o&&i.length>0&&i.slice(0,o).every(t=>t))){let t=M(s,"{"),e=-1!==t?s.substring(0,t):s;const n=e.trim().split(" ");let o;for(let t=0;t<n.length;t++)if(o=n[t].trim(),">"!==o&&"+"!==o&&"~"!==o&&"&"!==o){n[t]=o+"["+r+"]";break}e=n.join(" "),e+=s.substring(-1!==t?t:s.length),s=e,i.push(!1)}else i.push(!1);l+=s+" ","@"!==s.charAt(0)&&a&&-1===M(s,"}")&&a++}}}if(l=((t,e)=>{for(const[n,s]of e.entries()){let e=new RegExp(`animation\\s*:\\s*${n}\\s*`,"g");t=t.replace(e,`animation: ${s} `),e=new RegExp(`animation-name\\s*:\\s*${n}\\s*`,"g"),t=t.replace(e,`animation-name: ${s} `)}return t})(l,u),""!==l.trim()){const t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");t.appendChild(e),e.appendChild(document.createTextNode(l))}return r};export function hydrate(t,n=!0){const s=document.getElementById(t).getAttribute("slssrclass");let r=e[s];!r&&this&&(r=this[s]);return mount(t,new r,n)}export function resolveAll(t){return Promise.all(t.map(t=>t.then(t=>({result:t,status:"fulfilled",error:null}),t=>({result:null,error:t,status:"rejected"}))))}export function setState(t){s._state=t}export function getState(){return s._state}export function textNode(t){return String(t)}export function markup(t,{attrs:e={},children:n=[]}={}){return{tagName:t=t.toUpperCase(),attrs:e,children:n}}export function m(){return 3===arguments.length&&"string"==typeof arguments[0]&&"object"==typeof arguments[1]&&Array.isArray(arguments[2])?markup(arguments[0],{attrs:arguments[1],children:arguments[2]}):markup(arguments[0],arguments[1])}export function mount(t,e,n=!0){s._router.mountRoute=t;let r=document.getElementById(t);if(null!==r)return C(r,e,n);console.error("ID "+t+" does not exist in DOM.")}export function renderToString(t){const e=[],o=new Set;for(let t of s._structureForMap.keys())o.add(t);t.slOnInit&&(t.slOnInit(),e.push(t));let l=t.view.bind(t)(),i=t;for(;l.view;)l.slOnInit&&(l.slOnInit(),e.push(l)),i=l,l=l.view.bind(l)();r(l,i);const a=n(l,e);e.forEach(t=>{t.slOnDestroy&&t.slOnDestroy.bind(t)()});for(let t of s._structureForMap.keys())o.has(t)||s._structureForMap.delete(t);return a}export function update(t,e){const n=t;if(t=document.getElementById(t),s._afterInitArr=[],t){let n=e.view.bind(e)();r(n,e),t=S(t,n,e)}else console.error("ID "+n+" not mounted in DOM; attachDetector likely needs to be called.");let o=t.querySelectorAll("[slref]");void 0!==t.slref&&(o=Array.from(o),o.push(t));for(let t=0;t<o.length;++t){e[o[t].getAttribute("slref")]=o[t].slref}if(s._afterInitArr.forEach(t=>{t()}),e.slStyle&&!t.slScopedCss){const n=N(e,e.slStyle());g(t,n),t.slScopedCss=!0}}let x=e.onpopstate;e.onpopstate=function(t){switch(s._router.strategy){case"#":e.location.hash&&s._router.lastHash!==e.location.hash.substring(2)&&(x&&x(t),route(getRoute()));break;case"?":e.location.search&&s._router.lastHash!==e.location.search.substring(2)&&(x&&x(t),route(getRoute()));break;case"":e.location.pathname&&s._router.lastHash!==e.location.pathname.substring(1)&&(x&&x(t),route(getRoute()))}},s._router={segmentArr:[],routeList:[],params:null,lastHash:!1,currentRoute:null,mountRoute:"",strategy:"#",count:0},Object.seal(s._router);const U=()=>{switch(s._router.strategy){case"#":{let t=e.location.href.split("#/")[1];if(t){let e=t.split("/");e.forEach((t,e)=>{s._router.segmentArr[e]=t}),s._router.segmentArr.splice(e.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length);break}case"?":{let t=e.location.href.split("?/")[1];if(t){let e=t.split("/");e.forEach((t,e)=>{s._router.segmentArr[e]=t}),s._router.segmentArr.splice(e.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length);break}case"":{let t=e.location.pathname;if(t){t=t.replace("/","");let e=t.split("/");e.forEach((t,e)=>{s._router.segmentArr[e]=t}),s._router.segmentArr.splice(e.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length);break}}};export function setRouteStrategy(t){new Set(["#","?",""]).has(t)&&(s._router.strategy=t)}export function getRouteQueryVariables(){const t=e.location.search.substring(2).split("&"),n=[];for(var s=0;s<t.length;s++){const e=t[s].split("=");n.push({var:decodeURIComponent(e[0]),value:decodeURIComponent(e[1])})}return n}export function getRouteSegments(){return s._router.segmentArr}export function getRouteParams(){return s._router.params}export function getRoute(){switch(s._router.strategy){case"#":return e.location.href.split("#/")[1];case"?":return e.location.href.split("?/")[1];case"":{let t=e.location.pathname;return t&&(t=t.replace("/","")),t}}}export function addRoute(t,e){s._router.routeList.push([new RegExp("^"+t.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),e])}export function removeRoute(t){const e=new RegExp("^"+t.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),n=String(e);for(let t=0;t<s._router.routeList.length;++t){const[e,r]=s._router.routeList[t];if(String(e)===n){s._router.routeList.splice(t,1);break}}}export function route(t,n={},r=!0){if(s._router.params=n,s._router.currentRoute&&s._router.currentRoute.onCanDeactivate&&!s._router.currentRoute.onCanDeactivate(t))return;let l=null;for(let[n,i]of s._router.routeList)if(n.test(t)){if(i.onActivationCheck&&!i.onActivationCheck(t))return i.onActivationFail&&(l=route(i.onActivationFail.route,i.onActivationFail.params,"boolean"!=typeof i.onActivationFail.attachDetector||i.onActivationFail.attachDetector)),void(t=void 0);i.onBeforeRoute&&i.onBeforeRoute();let n=document.getElementById(i.root);const a=s._destroyNodeMap.get(getRoute());a&&(a.forEach(t=>{t.slOnDestroyFn&&n.contains(t)&&t.slOnDestroyFn(),t.slOnDestroyFn=void 0,t.slUnboundOnDestroy=void 0,t.slAfterInit=!1,t.slOnInit=!1}),s._destroyNodeMap.set(getRoute(),[]),s._destroyFuncMap.set(getRoute(),[])),s._router.lastHash=t;const u=e.scrollY;switch(s._router.strategy){case"#":e.history.pushState(null,document.title,"#/"+t);break;case"?":{let n=e.location.href;const s=e.location.pathname;n=n.substring(0,n.indexOf(s)),n+="/?/"+t,e.history.pushState(null,document.title,n);break}case"":{let n=e.location.href;const s=e.location.pathname;n=n.substring(0,n.indexOf(s)),n+="/"+t,e.history.pushState(null,document.title,n);break}}if(e.scrollTo(0,u),s._router.currentRoute&&void 0!==s._router.currentRoute.animateDestroy&&(s._router.currentRoute.animateDestroy=!0),s._router.currentRoute&&s._router.currentRoute.animateDestroy){let t=s._router.currentRoute.root;t=document.getElementById(t),s._router.currentRoute=i,p(t),h(t),o(t),b(t),U()}else U(),s._router.currentRoute=i;s._router.count++,i.component&&(i.component.slOnDestroy&&s._destroyFuncMap.set(t,[i.component.slOnDestroy.bind(i.component)]),s._router.mountRoute=t,C(n,i.component,r),i.component.slOnDestroy&&(n.slOnDestroyIndex=0,s._destroyFuncMap.get(t).pop(),f(n)),l=i.component);break}return s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&L(),l}U();const T=(t,e,n)=>({parent:t,factory:e,map:Object.create(null)});function w(t,e){"function"==typeof e&&(e=e());let n=[];for(let s=0;s<e.length;++s)n.push(t.factory.bind(this,e[s])());return n}function F(t,e,n){"function"==typeof e&&(e=e());const s=Object.create(null),r=t.parent;let i,a,u=r.firstChild;if(e.length){for(let o=0;o<e.length;++o)i=t.map[o],i?n.bind(i,this,e[o])():(i=t.factory.bind(this,e[o])(),void 0!==i.attrs&&(i=l(i))),s[o]=i,u||r.appendChild(i),u=i.nextSibling;for(;null!==u;)a=u.nextSibling,p(u),h(u),o(u),b(u),u=a}else r.textContent="";t.map=s;const c=t.parent.querySelectorAll("[slpreventdefault]");c.length>0&&(v([t.parent]),v(Array.from(c)))}s.CHANGE_STRATEGY_AUTOMATIC=100,s.CHANGE_STRATEGY_MANUAL=200,s.CHANGE_DETECTOR_DETACHED=!1,s.CHANGE_DETECTOR_ATTACHED=!0,s._changeStrategies=[s.CHANGE_STRATEGY_AUTOMATIC,s.CHANGE_STRATEGY_MANUAL],s._changeDetector={lastUpdateDate:new Date,changeDetectionStrategy:s.CHANGE_STRATEGY_AUTOMATIC},Object.seal(s._changeDetector),Object.freeze(s._changeStrategies);const k=(t,e)=>{if(e[t]){let n=e[t];e[t]=function(){let t=n.apply(this,[].slice.call(arguments));return L(),t}}};const j=(t=null)=>{t?update(t,s._updateMap.get(t)):s._updateMap.forEach((t,e)=>{update(e,t)})},L=()=>{if(s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC)return;new Date-s._changeDetector.lastUpdateDate>6?j():s._debouncedPerformUpdates(),s._changeDetector.lastUpdateDate=new Date};export function setDetectionStrategy(t){s._changeStrategies.forEach(e=>{e===t&&(s._changeDetector.changeDetectionStrategy=t)})}export function detectChanges(t=null){j(t)}export function isDetectorAttached(t){return s._updateMap.has(t)}export function detachDetector(t){s._updateMap.delete(t)}const G=Promise.prototype.then;export function enableDetectOnThen(){Promise.prototype.then=function(t,e){return G.call(this,e=>(L(),"function"==typeof t&&t instanceof Function?t(e):t),e)}}export function wrapWithChangeDetector(t,e){return function(){e&&e.slpreventdefault&&arguments.length>0&&"function"==typeof arguments[0].preventDefault&&arguments[0].preventDefault();let n=t.apply(this,[].slice.call(arguments));return L(),n}}s._debouncedPerformUpdates=function(t,e){let n;return function(...s){const r=this;clearTimeout(n),n=setTimeout(()=>t.apply(r,s),e)}}(j,17);