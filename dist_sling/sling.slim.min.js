const e="undefined"!=typeof window;var n=e?window:global;e||(n.setTimeout=()=>{},n.setInterval=()=>{},n.location={},n.location.href="",n.fetch=()=>{},n.XMLHttpRequest={},n.XMLHttpRequest.prototype={},n.XMLHttpRequest.prototype.send=()=>{}),n.s=function(){},s._state={},s._destroyFuncMap=new Map,s._updateMap=new Map,s._afterInitArr=[],s._destroyNodeMap=new Map,s._structureForMap=new Map,s._isAnimatingKeyed=null;const r=(e,n)=>{const r=[];let s;for(r.push(e);r.length>0;)if(s=r.shift(),s.attrs&&(s.attrs.slfor||s.attrs.slfornamed)&&(s.model=n),s.children)for(let e=s.children.length-1;e>=0;--e)r.push(s.children[e])},o=e=>{const n=[];let r,o;for(n.push(e);n.length>0;)if(r=n.shift(),3!==r.nodeType&&(r.hasAttribute("slfor")?(o=r.getAttribute("slfor"),o=o.split(":"),o.length>0&&s._structureForMap.delete(o[0])):r.hasAttribute("slfornamed")&&(o=r.getAttribute("slfornamed"),o=o.split(":"),o.length>0&&s._structureForMap.delete(o[0])),r.children))for(let e=r.children.length-1;e>=0;--e)n.push(r.children[e])};export function renderElementWithoutClass(e,n,r){let o,l,i;o=n&&n.slns?document.createElementNS(n.slns,e.toLowerCase()):document.createElement(e);for(let e of Object.keys(n))if(i=n[e],l=typeof i,"function"===l)o[e]=i,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||i.name.startsWith("bound slDetached")||i.name.startsWith("slDetached")||M(e,o);else if("slnsfor"===e){const e=JSON.parse(n.slnsfor);for(const[n,r]of Object.entries(e))o.setAttributeNS(r.namespace,n,r.value)}else o.setAttribute(e,i);for(let e of r)o.append(e);return o}export function renderElement({tagName:e,attrs:n,children:r},o=!1){let l,i;l=n&&n.slns?document.createElementNS(n.slns,e.toLowerCase()):document.createElement(e);for(let[e,r]of Object.entries(n))if(i=typeof r,"function"===i)l[e]=r,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||r.name.startsWith("bound slDetached")||r.name.startsWith("slDetached")||M(e,l);else if("slnsfor"===e){const e=JSON.parse(n.slnsfor);for(const[n,r]of Object.entries(e))l.setAttributeNS(r.namespace,n,r.value)}else l.setAttribute(e,r);for(let e of r)"string"==typeof e?l.append(e):e.view?o?a(e,l):u(e,l):l.appendChild(renderElement(e,o));return l}const l=({tagName:e,attrs:n,children:r})=>{let o,i;o=n&&n.slns?document.createElementNS(n.slns,e.toLowerCase()):document.createElement(e);for(let[e,r]of Object.entries(n))if(i=typeof r,"function"===i)o[e]=r,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||r.name.startsWith("bound slDetached")||r.name.startsWith("slDetached")||M(e,o);else if("slnsfor"===e){const e=JSON.parse(n.slnsfor);for(const[n,r]of Object.entries(e))o.setAttributeNS(r.namespace,n,r.value)}else o.setAttribute(e,r);for(let e of r)"string"==typeof e?o.append(e):e.view?u(e,o):o.appendChild(l(e));return o},i=(e,n)=>{e.slKeyList=[],e.slNamespace={};for(const r in n)e.slNamespace[r]=n[r],e.slKeyList.push(r)},a=(e,n)=>{e=d(e,!0,!0,!0).view;const r=l(e);n.appendChild(r)},u=(e,n,r=!1)=>{Object.getPrototypeOf(e).slDirty=!0;const o=e,a=d(e,!0,!0,!0);e=a.view,a.afterInit&&s._afterInitArr.push(a.afterInit);const u=l(e);a.onInit&&(u.slOnInit=!0),c(u,a.destroyIndex,a.onDestroy,a.slUnboundOnDestroy),f(u),n.appendChild(u),i(u,o),r&&b(u,e,a.model)},c=(e,n,r,s)=>{e.slOnDestroy=!0,e.slOnDestroyIndex=n,e.slOnDestroyFn=r,e.slAfterInit=!0,e.slOnInit=!0,e.slUnboundOnDestroy=s},d=(e,n,o,l=!1,i=null)=>{if(o&&e.slOnInit&&(e.slOnInit(),i&&(i.slOnInit=!0)),i&&i.slKeyList)for(const n of i.slKeyList)void 0===e[n]?e[n]=i.slNamespace[n]:i.slNamespace[n]=e[n];let a=null;if(n&&e.slOnDestroy){let n=s._destroyFuncMap.get(s._router.mountRoute);n||(n=[]),n.push(e.slOnDestroy.bind(e)),s._destroyFuncMap.set(s._router.mountRoute,n),a=n.length-1}const u=e.view.bind(e)();return r(u,e),{view:u,afterInit:e.slAfterInit?e.slAfterInit.bind(e):null,onDestroy:n&&!l||!e.slOnDestroy?null:e.slOnDestroy.bind(e),onInit:!o&&e.slOnInit?e.slOnInit:null,destroyIndex:a,model:e,slUnboundOnDestroy:e.slOnDestroy,slUnboundAfterInit:e.slAfterInit,slUnboundOnInit:e.slOnInit}},f=e=>{if(e&&null!==e.slOnDestroyIndex&&void 0!==e.slOnDestroyIndex&&!e.slOnDestroyRoute){let n=s._destroyNodeMap.get(s._router.mountRoute);n||(n=[]);n.find(n=>n.slOnDestroyIndex===e.slOnDestroyIndex)||n.push(e),s._destroyNodeMap.set(s._router.mountRoute,n),e.slOnDestroyRoute=s._router.mountRoute}},p=e=>{if(e&&e.slOnDestroy){let n=s._destroyFuncMap.get(s._router.mountRoute);n||(n=[]),n.splice(e.slOnDestroyIndex,1),s._destroyFuncMap.set(s._router.mountRoute,n);let r=s._destroyNodeMap.get(s._router.mountRoute);r||(r=[]),r.forEach(n=>{n.slOnDestroyIndex>e.slOnDestroyIndex&&n.slOnDestroyIndex--}),r=r.filter(n=>n.slOnDestroyIndex!==e.slOnDestroyIndex),s._destroyNodeMap.set(s._router.mountRoute,r)}},h=e=>{if(e&&e.children&&e.children.length>0){for(const n of e.children)h(n);e.slOnDestroyFn&&(e.slOnDestroyFn(),e.slOnDestroyFn=void 0,e.slUnboundOnDestroy=void 0,e.slAfterInit=!1,e.slOnInit=!1)}else e.slOnDestroyFn&&(e.slOnDestroyFn(),e.slOnDestroyFn=void 0,e.slUnboundOnDestroy=void 0,e.slAfterInit=!1,e.slOnInit=!1)},y=(e,n,r)=>{e.slOnDestroy=!0;let o=s._destroyFuncMap.get(s._router.mountRoute);o||(o=[]),o.push(n),s._destroyFuncMap.set(s._router.mountRoute,o),e.slOnDestroyIndex=o.length-1,e.slOnDestroyFn=n,e.slUnboundOnDestroy=r,f(e)},g=(e,n,r)=>{let o;const l=[];for(let e of n){let n=r[e.name];n?n.length===e.nodeValue.length&&n===e.nodeValue&&delete r[e.name]:l.push(e.nodeName)}l.forEach(n=>{e.removeAttribute(n)}),void 0!==r.slref&&(e.slref=e);const i=r.slpreventdefault;let a=!1;for(let[n,l]of Object.entries(r))if(o=typeof l,"function"===o){if(void 0!==i){let r=n;r.startsWith("on")&&(r=r.substring(2,r.length));const s=e[n];if(s){(Array.isArray(s)?s:[s]).forEach(n=>{e.removeEventListener(r,n)})}e.addEventListener(r,(function(e){e.preventDefault()})),a=!0}e[n]=l,s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC||l.name.startsWith("bound slDetached")||l.name.startsWith("slDetached")||M(n,e)}else if("slnsfor"===n){const n=JSON.parse(r.slnsfor);for(const[r,s]of Object.entries(n))e.setAttributeNS(s.namespace,r,s.value)}else e.setAttribute(n,l);a||(void 0!==i||n.slpreventdefault)&&D([e])},A=(e,n,r)=>{const a=n.length,c=new Set;let f=0;for(let e=n.length-1;e>=0;--e){let o=null;if(r[e]&&(n[e].slUnboundOnDestroy!==r[e].slOnDestroy&&(void 0!==n[e].slUnboundOnDestroy&&void 0!==n[e].slOnDestroyFn&&n[e].slOnDestroyFn(),p(n[e]),n[e].slOnDestroyFn=void 0,n[e].slOnDestroy=!1,n[e].slOnInit=!1,n[e].slAfterInit=!1,c.add(e)),r[e].view)){const l=d(r[e],!1,!1,!1,n[e]);r[e]=l.view;const a=Object.getPrototypeOf(l.model);!0!==a.slDirty&&(l.onInit&&n[e].slOnInit&&(n[e].slOnInit=!1),l.afterInit&&n[e].slAfterInit&&(n[e].slAfterInit=!1),l.onDestroy&&n[e].slOnDestroy&&(n[e].slOnDestroy=!1),a.slDirty=!0),l.onInit&&!n[e].slOnInit&&n[e].slUnboundOnInit!==l.slUnboundOnInit?(n[e].slUnboundOnInit=l.slUnboundOnInit,l.onInit.bind(l.model)(),r[e].slOnInit=!0):void 0===n[e].slUnboundOnInit||l.onInit?l.onInit&&n[e]&&!n[e].slOnInit?(n[e].slUnboundOnInit===l.slUnboundOnInit&&l.onInit.bind(l.model)(),n[e].slUnboundOnInit=l.slUnboundOnInit,r[e].slOnInit=!0):l.onInit&&n[e].slOnInit&&void 0===n[e].slUnboundOnInit&&(n[e].slUnboundOnInit=l.slUnboundOnInit):n[e].slOnInit=!1,l.afterInit&&!n[e].slAfterInit&&n[e].slUnboundAfterInit!==l.slUnboundAfterInit?(n[e].slAfterInit=!0,n[e].slUnboundAfterInit=l.slUnboundAfterInit,s._afterInitArr.push(l.afterInit)):void 0===n[e].slUnboundAfterInit||l.afterInit?l.afterInit&&n[e]&&!n[e].slAfterInit?(n[e].slAfterInit=!0,n[e].slUnboundAfterInit===l.slUnboundAfterInit&&s._afterInitArr.push(l.afterInit),n[e].slUnboundAfterInit=l.slUnboundAfterInit):l.afterInit&&n[e].slAfterInit&&void 0===n[e].slUnboundAfterInit&&(n[e].slUnboundAfterInit=l.slUnboundAfterInit):n[e].slAfterInit=!1,l.onDestroy&&n[e]&&!n[e].slOnDestroy&&y(n[e],l.onDestroy,l.slUnboundOnDestroy),i(n[e],l.model),o=l.model}b(n[e],r[e],o),r[e]&&r[e].slOnInit&&(n[e].slOnInit=!0);for(const e of c)r[e]&&n[e].slAfterInit&&!n[e].slOnDestroy&&(n[e].slAfterInit=!1),r[e]&&n[e].slOnInit&&!n[e].slOnDestroy&&(n[e].slOnInit=!1);f++}let g=n.length;for(;g>a;)p(n[g-1]),h(n[g-1]),o(n[n.length-1]),_(n[g-1]),g--;for(let n of r.slice(a)){if("string"==typeof n)e.childNodes[f]?e.childNodes[f].textContent!==n&&(e.childNodes[f].textContent=n):e.append(n);else if("string"==typeof n)e.append(n);else if(n.view)u(n,e,!0);else{const r=l(n);e.appendChild(r),b(r,n)}f++}for(g=n.length;g>r.length;)p(n[g-1]),h(n[g-1]),o(n[g-1]),_(n[g-1]),g--},_=e=>{const n=s._router.count;if(void 0===e.slanimatedestroytarget||""===e.slanimatedestroytarget||e.slAnimateDestroy||void 0===e.attributes.slanimatedestroy||""===e.getAttribute("slanimatedestroy"))if(3===e.nodeType||void 0===e.attributes.slanimatedestroy||""===e.getAttribute("slanimatedestroy")||e.slAnimateDestroy)e.slAnimateDestroy||(s._router.currentRoute&&e.id!==s._router.currentRoute.root||n===s._router.count)&&(e.onanimationend=null,e.onanimationstart=null,e.remove(),s._updateMap.delete(e.id));else{const r=e.onanimationend,o=e.onanimationstart,l=e.getAttribute("slanimatedestroy");e.onanimationstart=function(n){e.slAnimationName=n.animationName},e.onanimationend=function(l){if(!e.slAnimationName||e.slAnimationName!==l.animationName)return;let i=void 0;return r&&(i=r.apply(this,[].slice.call(arguments))),(s._router.currentRoute&&e.id!==s._router.currentRoute.root||n===s._router.count)&&(e.remove(),s._updateMap.delete(e.id)),vNodef.slAnimationName=null,e.onanimationend=r,e.onanimationstart=o,e.style.animation="none",e.slAnimateDestroy=!1,i},e.classList.add(l),e.slAnimateDestroy=!0}else{const r=e.slanimatedestroytarget;if("function"==typeof r){const o=r(e);if(o){const r=o.getAttribute("slanimatedestroy"),l=o.onanimationend,i=o.onanimationstart;o.onanimationstart=function(e){o.slAnimationName=e.animationName},o.onanimationend=function(a){if(!o.slAnimationName||o.slAnimationName!==a.animationName)return;let u=void 0;return l&&(u=l.apply(this,[].slice.call(arguments))),o.classList.remove(r),s._isAnimatingKeyed=null,s._router.currentRoute.animateDestroy?(s._router.currentRoute.animateDestroy=!1,e.setAttribute("style","opacity: 0;"),o.onanimationend=null,o.onanimationstart=null):((s._router.currentRoute&&e.id!==s._router.currentRoute.root||n===s._router.count)&&(e.remove(),s._updateMap.delete(e.id)),o.onanimationend=l,o.onanimationstart=i),o.slAnimationName=null,o.onanimationend=null,o.onanimationstart=null,o.style.animation="none",e.slAnimateDestroy=!1,delete e.slanimatedestroytarget,detectChanges(),u},s._isAnimatingKeyed=o,o.classList.add(r),e.slAnimateDestroy=!0}else(s._router.currentRoute&&e.id!==s._router.currentRoute.root||n===s._router.count)&&(e.onanimationend=null,e.onanimationstart=null,e.style.animation="none",e.remove(),s._updateMap.delete(e.id))}else(s._router.currentRoute&&e.id!==s._router.currentRoute.root||n===s._router.count)&&(e.onanimationend=null,e.onanimationstart=null,e.style.animation="none",e.remove(),s._updateMap.delete(e.id))}},O=e=>e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).filter(n=>((e,n)=>(Object.getOwnPropertyDescriptor(e,n)||{}).get)(e,n)||((e,n)=>"function"==typeof e[n])(e,n)).concat(O(Object.getPrototypeOf(e))||[]),I=e=>(e=>Array.from(new Set(O(e))))(e).filter(e=>"constructor"!==e&&!~e.indexOf("__")),D=e=>{for(let n=0;n<e.length;n++){const r=e[n];if(null!==r.getAttribute("slpreventdefault"))for(const e in r)if(e.startsWith("on")){let n=e.substring(2,e.length);const s=r[e];if(s){(Array.isArray(s)?s:[s]).forEach(e=>{r.removeEventListener(n,e)})}r.addEventListener(n,(function(e){e.preventDefault()}))}}},b=(e,n,r=null)=>{if(null!==s._isAnimatingKeyed)for(let[n,r]of s._updateMap){const r=document.getElementById(n);if(r.contains(s._isAnimatingKeyed)&&r.contains(e))return e}if(n&&n.view){e.slUnboundOnDestroy!==n.slOnDestroy&&(void 0!==e.slUnboundOnDestroy&&void 0!==e.slOnDestroyFn&&e.slOnDestroyFn(),p(e),e.slOnDestroyFn=void 0,e.slOnDestroy=!1,e.slAfterInit=!1,e.slOnInit=!1);const r=d(n,!1,!1,!1,e);n=r.view;const o=Object.getPrototypeOf(r.model);!0!==o.slDirty&&(r.onInit&&e.slOnInit&&(e.slOnInit=!1),r.afterInit&&e.slAfterInit&&(e.slAfterInit=!1),r.onDestroy&&e.slOnDestroy&&(e.slOnDestroy=!1),o.slDirty=!0),r.onInit&&e&&!e.slOnInit&&(r.onInit.bind(r.model)(),e.slOnInit=!0),r.afterInit&&e&&!e.slAfterInit&&(e.slAfterInit=!0,e.slUnboundAfterInit=r.slUnboundAfterInit,s._afterInitArr.push(r.afterInit)),r.onDestroy&&e&&!e.slOnDestroy&&y(e,r.onDestroy,r.slUnboundOnDestroy)}if(!n)return e&&(p(e),h(e),o(e),_(e)),e;if(e&&(e.tagName||"").toLowerCase()!==((n?n.tagName:void 0)||"").toLowerCase()){if(!n.tagName)return p(e),h(e),e.replaceWith(n),e=n;{let r;r=n.attrs&&n.attrs.slns?document.createElementNS(n.attrs.slns,n.tagName.toLowerCase()):document.createElement(n.tagName),e.parentNode.insertBefore(r,e),p(e),h(e),o(e),_(e),r.slUnboundAfterInit=e.slUnboundAfterInit,void 0!==r.slUnboundAfterInit&&(r.slAfterInit=!0),e.slOnInit&&(r.slOnInit=!1),e=r}}if("string"==typeof n)return e.textContent!==n&&(e.textContent=n),e;switch(n.attrs.sldirective){case"useexisting":return e;case"onlychildren":return A(e,e.childNodes,n.children),e;case"onlyself":return g(e,e.attributes,n.attrs),e;case"trustchildren":{g(e,e.attributes,n.attrs);let r="";n.children.forEach(e=>{r+=e}),e.innerHTML!==r&&(e.innerHTML=r);const s=e.querySelectorAll("[slpreventdefault]");return s.length>0&&D(Array.from(s)),e}}if(n.attrs.slfor){const r=n.attrs.slfor.split(":");if(r.length>=4){if(!s._structureForMap.has(r[0])){const o=E(e,n.model[r[2]]);if(s._structureForMap.set(r[0],o),e.children.length>0){let n=Object.create(null);for(let r=0;r<e.children.length;++r)n[r]=e.children[r];o.map=n}}const o=s._structureForMap.get(r[0]);U.bind(n.model,o,n.model[r[1]],n.model[r[3]])()}return g(e,e.attributes,n.attrs),e}if(n.attrs.slfornamed){const r=n.attrs.slfornamed.split(":");if(r.length>=4){let o,l,i,a;for(let e of Object.keys(n.model))a=n.model[e],a.slfor===r[2]?o=a:a.slfor===r[1]?i=a:a.slfor===r[3]&&(l=a);for(let e of I(n.model))a=n.model[e],a.slfor===r[2]?o=a:a.slfor===r[1]?i=a:a.slfor===r[3]&&(l=a);if(i=i.bind(n.model),!s._structureForMap.has(r[0])){const n=E(e,o);if(s._structureForMap.set(r[0],n),e.children.length>0){let r=Object.create(null);for(let n=0;n<e.children.length;++n)r[n]=e.children[n];n.map=r}}const u=s._structureForMap.get(r[0]);U.bind(n.model,u,i,l)()}return g(e,e.attributes,n.attrs),e}return g(e,e.attributes,n.attrs),A(e,e.childNodes,n.children),e},v=(e,n,o)=>{s._afterInitArr=[],n.slOnInit&&n.slOnInit();let l=n.view.bind(n)();if(r(l,n),l.view&&(l=l.view.bind(n)(),r(l,n)),!l.attrs||e&&e.id!==l.attrs.id){const n=l.attrs?l.attrs.id:"null";console.error("Mounted component root element changed from "+e.id+" to "+n)}e=b(e,l,n),n.slOnInit&&(e.slOnInit=!0,e.slUnboundOnInit=n.slOnInit),o&&s._updateMap.set(e.id,n),n.slOnDestroy&&y(e,n.slOnDestroy.bind(n),n.slOnDestroy);let i=e.querySelectorAll("[slref]");void 0!==e.slref&&(i=Array.from(i),i.push(e));for(let e=0;e<i.length;++e){n[i[e].getAttribute("slref")]=i[e].slref}return n.slAfterInit&&(n.slAfterInit(),e.slUnboundAfterInit=n.slAfterInit,T()),s._afterInitArr.forEach(e=>{e()}),e};export function version(){return"21.2.1"}export function resolveAll(e){return Promise.all(e.map(e=>e.then(e=>({result:e,status:"fulfilled",error:null}),e=>({result:null,error:e,status:"rejected"}))))}export function setState(e){s._state=e}export function getState(){return s._state}export function textNode(e){return String(e)}export function t(e){return String(e)}export function markup(e,{attrs:n={},children:r=[]}={}){return{tagName:e=e.toUpperCase(),attrs:n,children:r}}export function m(){return 3===arguments.length&&"string"==typeof arguments[0]&&"object"==typeof arguments[1]&&Array.isArray(arguments[2])?markup(arguments[0],{attrs:arguments[1],children:arguments[2]}):markup(arguments[0],arguments[1])}export function mount(e,n,r=!0){s._router.mountRoute=e;let o=document.getElementById(e);if(null!==o)return v(o,n,r);console.error("ID "+e+" does not exist in DOM.")}export function update(e,n){const o=e;if(e=document.getElementById(e),s._afterInitArr=[],e){let s=n.view.bind(n)();r(s,n),e=b(e,s,n)}else console.error("ID "+o+" not mounted in DOM; attachDetector likely needs to be called.");let l=e.querySelectorAll("[slref]");void 0!==e.slref&&(l=Array.from(l),l.push(e));for(let e=0;e<l.length;++e){n[l[e].getAttribute("slref")]=l[e].slref}s._afterInitArr.forEach(e=>{e()})}let R=n.onpopstate;n.onpopstate=function(e){switch(s._router.strategy){case"#":n.location.hash&&s._router.lastHash!==n.location.hash.substring(2)&&(R&&R(e),route(getRoute()));break;case"?":n.location.search&&s._router.lastHash!==n.location.search.substring(2)&&(R&&R(e),route(getRoute()));break;case"":n.location.pathname&&s._router.lastHash!==n.location.pathname.substring(1)&&(R&&R(e),route(getRoute()))}},s._router={segmentArr:[],routeList:[],params:null,lastHash:!1,currentRoute:null,mountRoute:"",strategy:"#",count:0},Object.seal(s._router);const N=()=>{switch(s._router.strategy){case"#":{let e=n.location.href.split("#/")[1];if(e){let n=e.split("/");n.forEach((e,n)=>{s._router.segmentArr[n]=e}),s._router.segmentArr.splice(n.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length);break}case"?":{let e=n.location.href.split("?/")[1];if(e){let n=e.split("/");n.forEach((e,n)=>{s._router.segmentArr[n]=e}),s._router.segmentArr.splice(n.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length);break}case"":{let e=n.location.pathname;if(e){e=e.replace("/","");let n=e.split("/");n.forEach((e,n)=>{s._router.segmentArr[n]=e}),s._router.segmentArr.splice(n.length,s._router.segmentArr.length)}else s._router.segmentArr.splice(0,s._router.segmentArr.length);break}}};export function setRouteStrategy(e){new Set(["#","?",""]).has(e)&&(s._router.strategy=e)}export function getRouteQueryVariables(){const e=n.location.search.substring(2).split("&"),r=[];for(var s=0;s<e.length;s++){const n=e[s].split("=");r.push({var:decodeURIComponent(n[0]),value:decodeURIComponent(n[1])})}return r}export function getRouteSegments(){return s._router.segmentArr}export function getRouteParams(){return s._router.params}export function getRoute(){switch(s._router.strategy){case"#":return n.location.href.split("#/")[1];case"?":return n.location.href.split("?/")[1];case"":{let e=n.location.pathname;return e&&(e=e.replace("/","")),e}}}export function addRoute(e,n){s._router.routeList.push([new RegExp("^"+e.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),n])}export function removeRoute(e){const n=new RegExp("^"+e.replace(/:[^\/]+/g,"([^\\/]+)")+"$"),r=String(n);for(let e=0;e<s._router.routeList.length;++e){const[n,o]=s._router.routeList[e];if(String(n)===r){s._router.routeList.splice(e,1);break}}}export function route(e,r={},l=!0){if(s._router.params=r,s._router.currentRoute&&s._router.currentRoute.onCanDeactivate&&!s._router.currentRoute.onCanDeactivate(e))return;let i=null;for(let[r,a]of s._router.routeList)if(r.test(e)){if(a.onActivationCheck&&!a.onActivationCheck(e))return a.onActivationFail&&(i=route(a.onActivationFail.route,a.onActivationFail.params,"boolean"!=typeof a.onActivationFail.attachDetector||a.onActivationFail.attachDetector)),void(e=void 0);a.onBeforeRoute&&a.onBeforeRoute();let r=document.getElementById(a.root);const u=s._destroyNodeMap.get(getRoute());u&&(u.forEach(e=>{e.slOnDestroyFn&&r.contains(e)&&e.slOnDestroyFn(),e.slOnDestroyFn=void 0,e.slUnboundOnDestroy=void 0,e.slAfterInit=!1,e.slOnInit=!1}),s._destroyNodeMap.set(getRoute(),[]),s._destroyFuncMap.set(getRoute(),[])),s._router.lastHash=e;const c=n.scrollY;switch(s._router.strategy){case"#":n.history.pushState(null,document.title,"#/"+e);break;case"?":{let r=n.location.href;const s=n.location.pathname;r=r.substring(0,r.indexOf(s)),r+="/?/"+e,n.history.pushState(null,document.title,r);break}case"":{let r=n.location.href;const s=n.location.pathname;r=r.substring(0,r.indexOf(s)),r+="/"+e,n.history.pushState(null,document.title,r);break}}if(n.scrollTo(0,c),s._router.currentRoute&&void 0!==s._router.currentRoute.animateDestroy&&(s._router.currentRoute.animateDestroy=!0),s._router.currentRoute&&s._router.currentRoute.animateDestroy){let e=s._router.currentRoute.root;e=document.getElementById(e),s._router.currentRoute=a,p(e),h(e),o(e),_(e),N()}else N(),s._router.currentRoute=a;s._router.count++,a.component&&(a.component.slOnDestroy&&s._destroyFuncMap.set(e,[a.component.slOnDestroy.bind(a.component)]),s._router.mountRoute=e,v(r,a.component,l),a.component.slOnDestroy&&(r.slOnDestroyIndex=0,s._destroyFuncMap.get(e).pop(),f(r)),i=a.component);break}return s._changeDetector.changeDetectionStrategy===s.CHANGE_STRATEGY_AUTOMATIC&&T(),i}N();const E=(e,n,r)=>({parent:e,factory:n,map:Object.create(null)});function U(e,n,r){"function"==typeof n&&(n=n());const s=Object.create(null),i=e.parent;let a,u,c=i.firstChild;if(n.length){for(let o=0;o<n.length;++o)a=e.map[o],a?r.bind(a,this,n[o])():(a=e.factory.bind(this,n[o])(),void 0!==a.attrs&&(a=l(a))),s[o]=a,c||i.appendChild(a),c=a.nextSibling;for(;null!==c;)u=c.nextSibling,p(c),h(c),o(c),_(c),c=u}else i.textContent="";e.map=s;const d=e.parent.querySelectorAll("[slpreventdefault]");d.length>0&&(D([e.parent]),D(Array.from(d)))}s.CHANGE_STRATEGY_AUTOMATIC=100,s.CHANGE_STRATEGY_MANUAL=200,s.CHANGE_DETECTOR_DETACHED=!1,s.CHANGE_DETECTOR_ATTACHED=!0,s._changeStrategies=[s.CHANGE_STRATEGY_AUTOMATIC,s.CHANGE_STRATEGY_MANUAL],s._changeDetector={lastUpdateDate:new Date,changeDetectionStrategy:s.CHANGE_STRATEGY_AUTOMATIC},Object.seal(s._changeDetector),Object.freeze(s._changeStrategies);const M=(e,n)=>{if(n[e]){let r=n[e];n[e]=function(){let e=r.apply(this,[].slice.call(arguments));return T(),e}}};const x=(e=null)=>{e?update(e,s._updateMap.get(e)):s._updateMap.forEach((e,n)=>{update(n,e)})},T=()=>{if(s._changeDetector.changeDetectionStrategy!==s.CHANGE_STRATEGY_AUTOMATIC)return;new Date-s._changeDetector.lastUpdateDate>6?x():s._debouncedPerformUpdates(),s._changeDetector.lastUpdateDate=new Date};export function setDetectionStrategy(e){s._changeStrategies.forEach(n=>{n===e&&(s._changeDetector.changeDetectionStrategy=e)})}export function detectChanges(e=null){x(e)}export function isDetectorAttached(e){return s._updateMap.has(e)}export function detachDetector(e){s._updateMap.delete(e)}const C=Promise.prototype.then;export function enableDetectOnThen(){Promise.prototype.then=function(e,n){return C.call(this,n=>(T(),"function"==typeof e&&e instanceof Function?e(n):e),n)}}export function wrapWithChangeDetector(e,n){return function(){n&&n.slpreventdefault&&arguments.length>0&&"function"==typeof arguments[0].preventDefault&&arguments[0].preventDefault();let r=e.apply(this,[].slice.call(arguments));return T(),r}}s._debouncedPerformUpdates=function(e,n){let r;return function(...s){const o=this;clearTimeout(r),r=setTimeout(()=>e.apply(o,s),n)}}(x,17);let S=n.XMLHttpRequest.prototype.send,w=new Map;function F(){if(this._onreadystatechange){let e=w.get(this);if(void 0!==e&&e===this._onreadystatechangecount)return void w.delete(this);void 0!==e?w.set(this,e+1):w.set(this,0);let n=this._onreadystatechange.apply(this,arguments);return T(),w.delete(this),n}}n.XMLHttpRequest.prototype.send=function(e){return this.onreadystatechange?(this._onreadystatechange=this.onreadystatechange,void 0===this._onreadystatechangecount?this._onreadystatechangecount=0:this._onreadystatechangecount+=4):this._onreadystatechangecount=0,this.onreadystatechange=F,S.apply(this,arguments)};let L=n.fetch;n.fetch=function(){let e=L.apply(this,arguments);return T(),e};